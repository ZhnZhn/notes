{"version":3,"file":"drawerMsgId.js","names":["_formatTime","n","_crMsg","msg","d","Date","getHours","getMinutes","drawerMsgMiddleware","next","action","type","addDrawerMsg","payload","id","crId","CONF","DMSG_PREFIX"],"sources":["../../../src/flux/zh-middleware/drawerMsgId.js"],"sourcesContent":["import { addDrawerMsg } from '../drawerMsg/reducer'\r\nimport crId from './crId'\r\nimport CONF from '../appConf'\r\n\r\nconst _formatTime = n => n < 10 ? `0${n}` : `${n}`;\r\nconst _crMsg = msg => {\r\n  const d = new Date();\r\n  return `${_formatTime(d.getHours())}:${_formatTime(d.getMinutes())} ${msg}`;\r\n};\r\n\r\nconst drawerMsgMiddleware = () => next => action => {\r\n  if (action.type === addDrawerMsg.type) {\r\n    const { payload } = action\r\n    , id = crId(CONF.DMSG_PREFIX);\r\n    payload.id = id\r\n    payload.msg = _crMsg(payload.msg)\r\n    next(action)\r\n    return id;\r\n  }\r\n  return next(action);\r\n}\r\n\r\nexport default drawerMsgMiddleware\r\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAAAC,CAAC;EAAA,OAAIA,CAAC,GAAG,EAAJ,SAAaA,CAAb,QAAsBA,CAA1B;AAAA,CAArB;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,GAAG,EAAI;EACpB,IAAMC,CAAC,GAAG,IAAIC,IAAJ,EAAV;EACA,OAAUL,WAAW,CAACI,CAAC,CAACE,QAAF,EAAD,CAArB,SAAuCN,WAAW,CAACI,CAAC,CAACG,UAAF,EAAD,CAAlD,SAAsEJ,GAAtE;AACD,CAHD;;AAKA,IAAMK,mBAAmB,GAAG,SAAtBA,mBAAsB;EAAA,OAAM,UAAAC,IAAI;IAAA,OAAI,UAAAC,MAAM,EAAI;MAClD,IAAIA,MAAM,CAACC,IAAP,KAAgBC,qBAAA,CAAaD,IAAjC,EAAuC;QAC/B,IAAEE,OAAF,GAAcH,MAAd,CAAEG,OAAF;QAAA,IACJC,EADI,GACC,IAAAC,gBAAA,EAAKC,mBAAA,CAAKC,WAAV,CADD;QAENJ,OAAO,CAACC,EAAR,GAAaA,EAAb;QACAD,OAAO,CAACV,GAAR,GAAcD,MAAM,CAACW,OAAO,CAACV,GAAT,CAApB;QACAM,IAAI,CAACC,MAAD,CAAJ;QACA,OAAOI,EAAP;MACD;;MACD,OAAOL,IAAI,CAACC,MAAD,CAAX;IACD,CAVqC;EAAA,CAAV;AAAA,CAA5B;;eAYeF,mB"}