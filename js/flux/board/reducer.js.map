{"version":3,"file":"reducer.js","names":["fDnDMoveFns","moveInternal","moveExternal","crBoard","id","title","columnIds","boardsSlice","createSlice","name","initialState","boards","reducers","editBoardTitle","state","action","payload","boardId","addBoard","removeBoard","extraReducers","builder","addCase","addColumn","columnId","push","removeColumn","board","filter","moveColumn","draggableId","source","destination","from","droppableId","to","actions","reducer"],"sources":["../../../src/flux/board/reducer.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nimport {\r\n  addColumn,\r\n  removeColumn,\r\n  moveColumn\r\n} from '../column/actions';\r\n\r\nimport initialState from '../initialState';\r\nimport fDnDMoveFns from '../fDnDMoveFns';\r\n\r\nconst {\r\n  moveInternal,\r\n  moveExternal\r\n} = fDnDMoveFns('columnIds');\r\n\r\nexport const crBoard = id => ({\r\n  id,\r\n  title: 'New Board',\r\n  columnIds: []\r\n})\r\n\r\nconst boardsSlice = createSlice({\r\n  name: \"boards\",\r\n  initialState: initialState.boards,\r\n  reducers: {\r\n    editBoardTitle(state, action){\r\n      const { boardId, title } = action.payload\r\n      state[boardId].title = title\r\n    },\r\n    addBoard(state, action){\r\n      const { boardId } = action.payload;\r\n      state[boardId] = crBoard(boardId);\r\n    },\r\n    removeBoard(state, action){\r\n      const { boardId } = action.payload;\r\n      delete state[boardId]\r\n    }\r\n  },\r\n  extraReducers: builder => builder\r\n     .addCase(addColumn, (state, action) => {\r\n        const { boardId, columnId } = action.payload\r\n        state[boardId].columnIds.push(columnId)\r\n     })\r\n     .addCase(removeColumn, (state, action) => {\r\n       const { boardId, columnId } = action.payload\r\n       , board = state[boardId];\r\n       board.columnIds = board.columnIds\r\n         .filter(id => id !== columnId)\r\n     })\r\n     .addCase(moveColumn, (state, action) => {\r\n       const { draggableId, source, destination } = action.payload\r\n       , from = state[source.droppableId]\r\n       , to = state[destination.droppableId];\r\n       if (from === to) {\r\n         moveInternal(state, draggableId, source, destination, from)\r\n       } else {\r\n         moveExternal(state, draggableId, source, destination, from, to);\r\n       }\r\n     })\r\n})\r\n\r\nconst { actions, reducer } = boardsSlice\r\n\r\nexport const { editBoardTitle } = actions\r\n\r\nexport default reducer\r\n"],"mappings":"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"}