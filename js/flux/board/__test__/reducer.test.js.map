{"version":3,"file":"reducer.test.js","names":["getState","store","dispatch","_selectBoards","boards","describe","test","expect","reducer","undefined","toEqual","initialState","beforeBoards","boardId","addBoard","crBoard","title","editBoardTitle","toBe","columnId_1","addColumn","columnIds","columnId_2","moveColumn","draggableId","source","droppableId","index","destination","removeColumn","columnId","removeBoard"],"sources":["../../../../src/flux/board/__test__/reducer.test.js"],"sourcesContent":["import reducer, {\r\n  crBoard,\r\n  editBoardTitle\r\n} from '../reducer';\r\nimport {\r\n  addBoard,\r\n  removeBoard\r\n} from '../actions';\r\nimport {\r\n  addColumn,\r\n  removeColumn,\r\n  moveColumn\r\n} from '../../column/actions';\r\n\r\nimport initialState from '../../initialState';\r\nimport store from '../../store';\r\n\r\nconst { getState, dispatch } = store;\r\nconst _selectBoards = () => getState().boards;\r\n\r\n\r\n/*\r\nconst initState = {\r\n  'b-1': {\r\n    id: 'b-1',\r\n    title: 'Board 1',\r\n    columnIds: ['c-1','c-2']\r\n  }\r\n};\r\n*/\r\n\r\ndescribe('reducer board', () => {\r\n  test('should init to initialState', ()=>{\r\n    expect(reducer(undefined, {})).toEqual(initialState.boards)\r\n  })\r\n\r\n  test('should handle board actions correctly', ()=>{\r\n    const beforeBoards = _selectBoards()\r\n\r\n    const boardId = dispatch(addBoard())\r\n    expect(_selectBoards()).toEqual({\r\n      ...beforeBoards,\r\n      [boardId]: crBoard(boardId)\r\n    })\r\n\r\n    const title = \"Test Title\"\r\n    dispatch(editBoardTitle({ boardId, title }))\r\n    expect(_selectBoards()[boardId].title).toBe(title)\r\n\r\n    const columnId_1 = dispatch(addColumn({boardId}))\r\n    expect(_selectBoards()[boardId].columnIds).toEqual([columnId_1])\r\n    const columnId_2 = dispatch(addColumn({boardId}))\r\n    expect(_selectBoards()[boardId].columnIds).toEqual([columnId_1, columnId_2])\r\n\r\n    dispatch(moveColumn({\r\n      draggableId: columnId_2,\r\n      source: { droppableId: boardId, index: 1 },\r\n      destination: { droppableId: boardId, index: 0 }\r\n    }))\r\n    expect(_selectBoards()[boardId].columnIds).toEqual([columnId_2, columnId_1])\r\n\r\n    dispatch(removeColumn({boardId, columnId: columnId_1}))\r\n    expect(_selectBoards()[boardId].columnIds).toEqual([columnId_2])\r\n    expect(dispatch(removeBoard({ boardId }))).toBe(false)\r\n    dispatch(removeColumn({boardId, columnId: columnId_2}))\r\n    expect(_selectBoards()[boardId].columnIds).toEqual([])\r\n\r\n    dispatch(removeBoard({ boardId }))\r\n    expect(_selectBoards()).toEqual(beforeBoards)\r\n  })\r\n})\r\n"],"mappings":"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"}