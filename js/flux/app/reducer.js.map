{"version":3,"sources":["../../../src/flux/app/reducer.js"],"names":["setInObj","fns","filterBy","reducer","state","action","initialState","app","type","ACTION","SET_UI_THEME","uiTheme","BA","SET_BOARD_CURRENT","boardId","ADD_BOARD","newBoardIds","boardIds","REMOVE_BOARD"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;IAGEA,Q,GAEEC,sB,CAFFD,Q;IACAE,Q,GACED,sB,CADFC,Q;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CACdC;AAAM;AADQ,EAEdC;AAAO;AAFO;AAGd;AAAgB;AAAA,MAFhBD,KAEgB;AAFhBA,IAAAA,KAEgB,GAFME,yBAAaC,GAEnB;AAAA;;AAChB,UAAQF,MAAM,CAACG,IAAf;AACE,SAAKC,gBAAOC,YAAZ;AAA0B;AAAA,YAChBC,OADgB,GACJN,MADI,CAChBM,OADgB;AAExB,6CACKP,KADL;AAEEO,UAAAA,OAAO,EAAPA;AAFF;AAID;;AACD,SAAKC,iBAAGC,iBAAR;AAA2B;AAAA,YACjBC,OADiB,GACLT,MADK,CACjBS,OADiB;AAEzB,6CACKV,KADL;AAEEU,UAAAA,OAAO,EAAPA;AAFF;AAID;;AACD,SAAKF,iBAAGG,SAAR;AAAmB;AACX,YAAED,QAAF,GAAcT,MAAd,CAAES,OAAF;AAAA,YACJE,WADI,aAEAZ,KAAK,CAACa,QAFN,GAGHH,QAHG;AAKN,eAAOd,QAAQ,CAACI,KAAD,EACb,UADa,EAEbY,WAFa,CAAf;AAID;;AACD,SAAKJ,iBAAGM,YAAR;AAAsB;AAAA,YACZJ,SADY,GACAT,MADA,CACZS,OADY;;AAEpB,YAAIV,KAAK,CAACU,OAAN,KAAkBA,SAAtB,EAA+B;AAC7BV,UAAAA,KAAK,CAACU,OAAN,GAAgB,IAAhB;AACD;;AACD,eAAOd,QAAQ,CAACI,KAAD,EACb,UADa,EAEbF,QAAQ,CAACE,KAAK,CAACa,QAAP,EAAiBH,SAAjB,CAFK,CAAf;AAID;;AACD;AAAS,aAAOV,KAAP;AApCX;AAsCD,CA1CD;;eA4CeD,O","sourcesContent":["import { ACTION } from './actions'\r\nimport { ACTION as BA } from '../board/actions'\r\nimport initialState from '../initialState'\r\n\r\nimport fns from '../reducerFns'\r\n\r\nconst {\r\n  setInObj,\r\n  filterBy\r\n} = fns;\r\n\r\n/*\r\nconst initState = {\r\n  boardId: 'b-1',\r\n  boardIds: ['b-1']\r\n  uiTheme: 'GREY'\r\n};\r\n*/\r\n\r\nconst reducer = function(\r\n  state /*: AppState */=initialState.app,\r\n  action /*: AppAction */\r\n) /*: AppState */ {\r\n  switch (action.type) {\r\n    case ACTION.SET_UI_THEME: {\r\n      const { uiTheme } = action;\r\n      return {\r\n        ...state,\r\n        uiTheme\r\n      };\r\n    }\r\n    case BA.SET_BOARD_CURRENT: {\r\n      const { boardId } = action;\r\n      return {\r\n        ...state,\r\n        boardId\r\n      };\r\n    }\r\n    case BA.ADD_BOARD: {\r\n      const { boardId } = action\r\n      , newBoardIds = [\r\n         ...state.boardIds,\r\n         boardId\r\n       ];\r\n      return setInObj(state,\r\n        'boardIds',\r\n        newBoardIds\r\n      );\r\n    }\r\n    case BA.REMOVE_BOARD: {\r\n      const { boardId } = action;\r\n      if (state.boardId === boardId) {\r\n        state.boardId = null\r\n      }\r\n      return setInObj(state,\r\n        'boardIds',\r\n        filterBy(state.boardIds, boardId)\r\n      );\r\n    }\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default reducer\r\n"],"file":"reducer.js"}