{"version":3,"file":"reducer.test.js","names":["dispatch","store","getState","_getIdFromSlice","pathSlice","Object","keys","_selectNotes","notes","describe","test","expect","reducer","undefined","toEqual","initialState","columnId","noteId","addNote","id","title","editNoteTitle","descr","editNoteDescr","deleteNote"],"sources":["../../../../src/flux/note/__test__/reducer.test.js"],"sourcesContent":["import reducer, {\r\n  initialState,\r\n  editNoteTitle,\r\n  editNoteDescr\r\n} from '../reducer';\r\nimport { addNote, deleteNote } from '../actions';\r\nimport store from '../../store';\r\n\r\nconst { dispatch, getState } = store;\r\n\r\n\r\n/*\r\nconst state = {\r\n  'n-1': {\r\n    id: 'n-1',\r\n    title: 'Note 1'\r\n  },\r\n  'n-2': {\r\n    id: 'n-2',\r\n    title: 'Note 2'\r\n  }\r\n};\r\n*/\r\n\r\nconst _getIdFromSlice = (pathSlice) => Object\r\n .keys(getState()[pathSlice])[0];\r\nconst _selectNotes = () => getState().notes\r\n\r\ndescribe('reducer notes', ()=>{\r\n  test('should init to initialState', () => {\r\n    expect(reducer(undefined, {}))\r\n      .toEqual(initialState)\r\n  })\r\n  test('should handle actions', ()=>{\r\n     const columnId = _getIdFromSlice('columns')\r\n     const noteId = dispatch(addNote({ columnId }))\r\n     expect(_selectNotes()).toEqual({\r\n       [noteId]: {\r\n         id: noteId,\r\n         title: \"New Note\"\r\n       }\r\n     })\r\n\r\n     const title = 'Title'\r\n     dispatch(editNoteTitle({ noteId, title }))\r\n     expect(_selectNotes()).toEqual({\r\n       [noteId]: {\r\n         id: noteId,\r\n         title\r\n       }\r\n     })\r\n\r\n     const descr = \"Description\"\r\n     dispatch(editNoteDescr({ noteId, descr }))\r\n     expect(_selectNotes()).toEqual({\r\n       [noteId]: {\r\n         id: noteId,\r\n         title, descr\r\n       }\r\n     })\r\n\r\n     dispatch(deleteNote({ noteId, columnId }))\r\n     expect(_selectNotes()).toEqual({})\r\n  })\r\n})\r\n"],"mappings":";;;;AAAA;;AAKA;;AACA;;;;;;AAEA,IAAQA,QAAR,GAA+BC,iBAA/B,CAAQD,QAAR;AAAA,IAAkBE,QAAlB,GAA+BD,iBAA/B,CAAkBC,QAAlB;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD;EAAA,OAAeC,MAAM,CAC3CC,IADqC,CAChCJ,QAAQ,GAAGE,SAAH,CADwB,EACT,CADS,CAAf;AAAA,CAAxB;;AAEA,IAAMG,YAAY,GAAG,SAAfA,YAAe;EAAA,OAAML,QAAQ,GAAGM,KAAjB;AAAA,CAArB;;AAEAC,QAAQ,CAAC,eAAD,EAAkB,YAAI;EAC5BC,IAAI,CAAC,6BAAD,EAAgC,YAAM;IACxCC,MAAM,CAAC,IAAAC,mBAAA,EAAQC,SAAR,EAAmB,EAAnB,CAAD,CAAN,CACGC,OADH,CACWC,qBADX;EAED,CAHG,CAAJ;EAIAL,IAAI,CAAC,uBAAD,EAA0B,YAAI;IAAA;;IAC/B,IAAMM,QAAQ,GAAGb,eAAe,CAAC,SAAD,CAAhC;;IACA,IAAMc,MAAM,GAAGjB,QAAQ,CAAC,IAAAkB,gBAAA,EAAQ;MAAEF,QAAQ,EAARA;IAAF,CAAR,CAAD,CAAvB;IACAL,MAAM,CAACJ,YAAY,EAAb,CAAN,CAAuBO,OAAvB,wCACGG,MADH,IACY;MACRE,EAAE,EAAEF,MADI;MAERG,KAAK,EAAE;IAFC,CADZ;IAOA,IAAMA,KAAK,GAAG,OAAd;IACApB,QAAQ,CAAC,IAAAqB,sBAAA,EAAc;MAAEJ,MAAM,EAANA,MAAF;MAAUG,KAAK,EAALA;IAAV,CAAd,CAAD,CAAR;IACAT,MAAM,CAACJ,YAAY,EAAb,CAAN,CAAuBO,OAAvB,0CACGG,MADH,IACY;MACRE,EAAE,EAAEF,MADI;MAERG,KAAK,EAALA;IAFQ,CADZ;IAOA,IAAME,KAAK,GAAG,aAAd;IACAtB,QAAQ,CAAC,IAAAuB,sBAAA,EAAc;MAAEN,MAAM,EAANA,MAAF;MAAUK,KAAK,EAALA;IAAV,CAAd,CAAD,CAAR;IACAX,MAAM,CAACJ,YAAY,EAAb,CAAN,CAAuBO,OAAvB,0CACGG,MADH,IACY;MACRE,EAAE,EAAEF,MADI;MAERG,KAAK,EAALA,KAFQ;MAEDE,KAAK,EAALA;IAFC,CADZ;IAOAtB,QAAQ,CAAC,IAAAwB,mBAAA,EAAW;MAAEP,MAAM,EAANA,MAAF;MAAUD,QAAQ,EAARA;IAAV,CAAX,CAAD,CAAR;IACAL,MAAM,CAACJ,YAAY,EAAb,CAAN,CAAuBO,OAAvB,CAA+B,EAA/B;EACF,CA9BG,CAAJ;AA+BD,CApCO,CAAR"}