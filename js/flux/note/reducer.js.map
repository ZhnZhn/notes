{"version":3,"sources":["../../../src/flux/note/reducer.js"],"names":["setInObj","fns","removeProp","_crNewNote","noteId","id","title","reducer","state","action","initialState","notes","type","ACTION","EDIT_NOTE_TITLE","note","newNote","EDIT_NOTE_DESCR","descr","EDIT_NOTE_LABELS","labelsTo","labels","ADD_NOTE","DELETE_NOTE"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AAEA,IACEA,QADF,GAGIC,sBAHJ,CACED,QADF;AAAA,IAEEE,UAFF,GAGID,sBAHJ,CAEEC,UAFF;;AAKA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,MAAD;AAAA,SAAa;AAC9BC,IAAAA,EAAE,EAAED,MAD0B;AAE9BE,IAAAA,KAAK,EAAE;AAFuB,GAAb;AAAA,CAAnB;;AAKA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CACdC;AAAM;AADQ,EAEdC;AAAO;AAFO;AAGd;AAAiB;AAAA,MAFjBD;AAAM;AAEW;AAFjBA,IAAAA;AAAM;AAEW,MAFME,yBAAaC,KAEnB;AAAA;;AACjB,UAAOF,MAAM,CAACG,IAAd;AACE,SAAKC,gBAAOC,eAAZ;AAA6B;AAC3B,YAAQV,MAAR,GAA0BK,MAA1B,CAAQL,MAAR;AAAA,YAAgBE,KAAhB,GAA0BG,MAA1B,CAAgBH,KAAhB;AAAA,YACES,IADF,GACSP,KAAK,CAACJ,MAAD,CADd;AAAA,YAEEY,OAFF,iCAEiBD,IAFjB;AAEuBT,UAAAA,KAAK,EAALA;AAFvB;AAGA,eAAON,QAAQ,CAACQ,KAAD,EAAQJ,MAAR,EAAgBY,OAAhB,CAAf;AACD;;AACD,SAAKH,gBAAOI,eAAZ;AAA6B;AAC3B,YAAQb,OAAR,GAA0BK,MAA1B,CAAQL,MAAR;AAAA,YAAgBc,KAAhB,GAA0BT,MAA1B,CAAgBS,KAAhB;AAAA,YACEH,KADF,GACSP,KAAK,CAACJ,OAAD,CADd;AAAA,YAEEY,QAFF,iCAEiBD,KAFjB;AAEuBG,UAAAA,KAAK,EAALA;AAFvB;;AAGA,eAAOlB,QAAQ,CAACQ,KAAD,EAAQJ,OAAR,EAAgBY,QAAhB,CAAf;AACD;;AACD,SAAKH,gBAAOM,gBAAZ;AAA8B;AAC5B,YAAQf,QAAR,GAA6BK,MAA7B,CAAQL,MAAR;AAAA,YAAgBgB,QAAhB,GAA6BX,MAA7B,CAAgBW,QAAhB;AAAA,YACEL,MADF,GACSP,KAAK,CAACJ,QAAD,CADd;AAAA,YAEEY,SAFF,iCAEiBD,MAFjB;AAEuBM,UAAAA,MAAM,EAAED;AAF/B;;AAGA,eAAOpB,QAAQ,CAACQ,KAAD,EAAQJ,QAAR,EAAgBY,SAAhB,CAAf;AACD;;AACD,SAAKH,gBAAOS,QAAZ;AAAsB;AAAA;;AACpB,YAAQlB,QAAR,GAAmBK,MAAnB,CAAQL,MAAR;AACA,6CACKI,KADL,6BAEGJ,QAFH,IAEYD,UAAU,CAACC,QAAD,CAFtB;AAID;;AACD,SAAKS,gBAAOU,WAAZ;AAAyB;AACvB,YAAQnB,QAAR,GAAmBK,MAAnB,CAAQL,MAAR;AACA,eAAOF,UAAU,CAACM,KAAD,EAAQJ,QAAR,CAAjB;AACD;;AACD;AAAS,aAAOI,KAAP;AA9BX;AAgCD,CApCD;;eAsCeD,O","sourcesContent":["import { ACTION } from './actions'\r\nimport initialState from '../initialState'\r\n\r\nimport fns from '../reducerFns'\r\n\r\nconst {\r\n  setInObj,\r\n  removeProp\r\n} = fns;\r\n\r\nconst _crNewNote = (noteId) => ({\r\n  id: noteId,\r\n  title: 'New Note'\r\n});\r\n\r\nconst reducer = function(\r\n  state /*: NoteState */=initialState.notes,\r\n  action /*: NoteAction */\r\n) /*: NoteState */ {\r\n  switch(action.type){\r\n    case ACTION.EDIT_NOTE_TITLE: {\r\n      const { noteId, title } = action\r\n      , note = state[noteId]\r\n      , newNote = { ...note, title };\r\n      return setInObj(state, noteId, newNote);\r\n    }\r\n    case ACTION.EDIT_NOTE_DESCR: {\r\n      const { noteId, descr } = action\r\n      , note = state[noteId]\r\n      , newNote = { ...note, descr };\r\n      return setInObj(state, noteId, newNote);\r\n    }\r\n    case ACTION.EDIT_NOTE_LABELS: {\r\n      const { noteId, labelsTo } = action\r\n      , note = state[noteId]\r\n      , newNote = { ...note, labels: labelsTo };\r\n      return setInObj(state, noteId, newNote);\r\n    }\r\n    case ACTION.ADD_NOTE: {\r\n      const { noteId } = action;\r\n      return {\r\n        ...state,\r\n        [noteId]: _crNewNote(noteId)\r\n      }\r\n    }\r\n    case ACTION.DELETE_NOTE: {\r\n      const { noteId } = action;\r\n      return removeProp(state, noteId);\r\n    }\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default reducer\r\n"],"file":"reducer.js"}