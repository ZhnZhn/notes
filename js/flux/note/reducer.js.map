{"version":3,"sources":["../../../src/flux/note/reducer.js"],"names":["setInObj","fns","removeProp","_crNewNote","noteId","id","title","reducer","state","action","initialState","notes","type","ACTION","EDIT_NOTE_TITLE","note","newNote","EDIT_NOTE_DESCR","descr","EDIT_NOTE_LABELS","labelsTo","labels","ADD_NOTE","DELETE_NOTE"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;IAGEA,Q,GAEEC,sB,CAFFD,Q;IACAE,U,GACED,sB,CADFC,U;;AAGF,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,MAAD;AAAA,SAAa;AAC9BC,IAAAA,EAAE,EAAED,MAD0B;AAE9BE,IAAAA,KAAK,EAAE;AAFuB,GAAb;AAAA,CAAnB;;AAKA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CACdC;AAAM;AADQ,EAEdC;AAAO;AAFO;AAGd;AAAiB;AAAA,MAFjBD,KAEiB;AAFjBA,IAAAA,KAEiB,GAFME,yBAAaC,KAEnB;AAAA;;AACjB,UAAOF,MAAM,CAACG,IAAd;AACE,SAAKC,gBAAOC,eAAZ;AAA6B;AAAA,YACnBV,MADmB,GACDK,MADC,CACnBL,MADmB;AAAA,YACXE,KADW,GACDG,MADC,CACXH,KADW;AAAA,YAEzBS,IAFyB,GAElBP,KAAK,CAACJ,MAAD,CAFa;AAAA,YAGzBY,OAHyB,iCAGVD,IAHU;AAGJT,UAAAA,KAAK,EAALA;AAHI;AAI3B,eAAON,QAAQ,CAACQ,KAAD,EAAQJ,MAAR,EAAgBY,OAAhB,CAAf;AACD;;AACD,SAAKH,gBAAOI,eAAZ;AAA6B;AAAA,YACnBb,OADmB,GACDK,MADC,CACnBL,MADmB;AAAA,YACXc,KADW,GACDT,MADC,CACXS,KADW;AAAA,YAEzBH,KAFyB,GAElBP,KAAK,CAACJ,OAAD,CAFa;AAAA,YAGzBY,QAHyB,iCAGVD,KAHU;AAGJG,UAAAA,KAAK,EAALA;AAHI;;AAI3B,eAAOlB,QAAQ,CAACQ,KAAD,EAAQJ,OAAR,EAAgBY,QAAhB,CAAf;AACD;;AACD,SAAKH,gBAAOM,gBAAZ;AAA8B;AAAA,YACpBf,QADoB,GACCK,MADD,CACpBL,MADoB;AAAA,YACZgB,QADY,GACCX,MADD,CACZW,QADY;AAAA,YAE1BL,MAF0B,GAEnBP,KAAK,CAACJ,QAAD,CAFc;AAAA,YAG1BY,SAH0B,iCAGXD,MAHW;AAGLM,UAAAA,MAAM,EAAED;AAHH;;AAI5B,eAAOpB,QAAQ,CAACQ,KAAD,EAAQJ,QAAR,EAAgBY,SAAhB,CAAf;AACD;;AACD,SAAKH,gBAAOS,QAAZ;AAAsB;AAAA;;AAAA,YACZlB,QADY,GACDK,MADC,CACZL,MADY;AAEpB,6CACKI,KADL,6BAEGJ,QAFH,IAEYD,UAAU,CAACC,QAAD,CAFtB;AAID;;AACD,SAAKS,gBAAOU,WAAZ;AAAyB;AAAA,YACfnB,QADe,GACJK,MADI,CACfL,MADe;AAEvB,eAAOF,UAAU,CAACM,KAAD,EAAQJ,QAAR,CAAjB;AACD;;AACD;AAAS,aAAOI,KAAP;AA9BX;AAgCD,CApCD;;eAsCeD,O","sourcesContent":["import { ACTION } from './actions'\r\nimport initialState from '../initialState'\r\n\r\nimport fns from '../reducerFns'\r\n\r\nconst {\r\n  setInObj,\r\n  removeProp\r\n} = fns;\r\n\r\nconst _crNewNote = (noteId) => ({\r\n  id: noteId,\r\n  title: 'New Note'\r\n});\r\n\r\nconst reducer = function(\r\n  state /*: NoteState */=initialState.notes,\r\n  action /*: NoteAction */\r\n) /*: NoteState */ {\r\n  switch(action.type){\r\n    case ACTION.EDIT_NOTE_TITLE: {\r\n      const { noteId, title } = action\r\n      , note = state[noteId]\r\n      , newNote = { ...note, title };\r\n      return setInObj(state, noteId, newNote);\r\n    }\r\n    case ACTION.EDIT_NOTE_DESCR: {\r\n      const { noteId, descr } = action\r\n      , note = state[noteId]\r\n      , newNote = { ...note, descr };\r\n      return setInObj(state, noteId, newNote);\r\n    }\r\n    case ACTION.EDIT_NOTE_LABELS: {\r\n      const { noteId, labelsTo } = action\r\n      , note = state[noteId]\r\n      , newNote = { ...note, labels: labelsTo };\r\n      return setInObj(state, noteId, newNote);\r\n    }\r\n    case ACTION.ADD_NOTE: {\r\n      const { noteId } = action;\r\n      return {\r\n        ...state,\r\n        [noteId]: _crNewNote(noteId)\r\n      }\r\n    }\r\n    case ACTION.DELETE_NOTE: {\r\n      const { noteId } = action;\r\n      return removeProp(state, noteId);\r\n    }\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default reducer\r\n"],"file":"reducer.js"}