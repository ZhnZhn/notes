{"version":3,"sources":["../../../src/component/d-details/TabDescr.jsx"],"names":["CL","DESCR","ACTIONS","TabDescr","_focusBtClose","props","isSelected","_buttons","focusBtClose","_editDescr","note","dispatch","_descr","_inputDescr","getValue","na","editNoteDescr","id","_refInputDescr","node","_refButtons","componentDidMount","render","onClose","_initDescr","componentDidUpdate","prevProps","Component"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;AAEA;;AAEA,IAAMA,EAAE,GAAG;AACTC,EAAAA,KAAK,EAAE,mBADE;AAETC,EAAAA,OAAO,EAAE;AAFA,CAAX;;IAKMC,Q;;;;;;;;;;;;UAEJC,a,GAAgB,YAAM;AACpB,UAAI,MAAKC,KAAL,CAAWC,UAAX,IACC,MAAKC,QADV,EACoB;AAClB,cAAKA,QAAL,CAAcC,YAAd;AACD;AACF,K;;UAMDC,U,GAAa,YAAM;AAAA,wBACU,MAAKJ,KADf;AAAA,UACTK,IADS,eACTA,IADS;AAAA,UACHC,QADG,eACHA,QADG;AAAA,UAEfC,MAFe,GAEN,MAAKC,WAAL,CAAiBC,QAAjB,EAFM;;AAGjBH,MAAAA,QAAQ,CAACI,oBAAGC,aAAH,CAAiBN,IAAI,CAACO,EAAtB,EAA0BL,MAA1B,CAAD,CAAR;AACD,K;;UAEDM,c,GAAiB,UAACC,IAAD;AAAA,aAAU,MAAKN,WAAL,GAAmBM,IAA7B;AAAA,K;;UACjBC,W,GAAc,UAACD,IAAD;AAAA,aAAU,MAAKZ,QAAL,GAAgBY,IAA1B;AAAA,K;;;;;;;SAXdE,iB,GAAA,6BAAmB;AACjB,SAAKjB,aAAL;AACD,G;;SAWDkB,M,GAAA,kBAAQ;AAAA,uBAIF,KAAKjB,KAJH;AAAA,QAEJK,IAFI,gBAEJA,IAFI;AAAA,QAGJa,OAHI,gBAGJA,OAHI;AAAA,QAKJC,UALI,GAKS,8BAAad,IAAb,CALT;;AAON,wBACE,gCAAC,eAAD,qBACE,gCAAC,yBAAD;AACE,MAAA,GAAG,EAAE,KAAKQ,cADZ;AAEE,MAAA,GAAG,EAAER,IAAI,CAACO,EAFZ;AAGE,MAAA,SAAS,EAAEjB,EAAE,CAACC,KAHhB;AAIE,MAAA,SAAS,EAAE,GAJb;AAKE,MAAA,SAAS,EAAEuB;AALb,MADF,eAQE,gCAAC,yBAAD;AACE,MAAA,GAAG,EAAE,KAAKJ,WADZ;AAEE,MAAA,SAAS,EAAEpB,EAAE,CAACE,OAFhB;AAGE,MAAA,MAAM,EAAE,KAAKO,UAHf;AAIE,MAAA,OAAO,EAAEc;AAJX,MARF,CADF;AAiBD,G;;SAEDE,kB,GAAA,4BAAmBC,SAAnB,EAA8B;AAC5B,QAAI,KAAKrB,KAAL,KAAeqB,SAAf,IACD,KAAKrB,KAAL,CAAWC,UADd,EAC0B;AACxB,WAAKF,aAAL;AACD;AACF,G;;;EArDoBuB,gB;;eAwDRxB,Q","sourcesContent":["import React, { Component, Fragment } from 'react'\r\n\r\nimport na from '../../flux/note/actions'\r\n\r\nimport InputTextArea from '../zhn/InputTextArea'\r\nimport DialogButtons from './DialogButtons'\r\n\r\nimport getNoteDescr from '../page-board/getNoteDescr'\r\n\r\nconst CL = {\r\n  DESCR: 'md-details__descr',\r\n  ACTIONS: 'md__actions'\r\n};\r\n\r\nclass TabDescr extends Component {\r\n\r\n  _focusBtClose = () => {\r\n    if (this.props.isSelected\r\n      && this._buttons) {\r\n      this._buttons.focusBtClose()\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this._focusBtClose()\r\n  }\r\n\r\n  _editDescr = () => {\r\n    const { note, dispatch } = this.props\r\n    , _descr = this._inputDescr.getValue();\r\n    dispatch(na.editNoteDescr(note.id, _descr))\r\n  }\r\n\r\n  _refInputDescr = (node) => this._inputDescr = node\r\n  _refButtons = (node) => this._buttons = node\r\n\r\n  render(){\r\n    const {\r\n      note,\r\n      onClose\r\n    } = this.props\r\n    , _initDescr = getNoteDescr(note);\r\n\r\n    return (\r\n      <Fragment>\r\n        <InputTextArea\r\n          ref={this._refInputDescr}\r\n          key={note.id}\r\n          className={CL.DESCR}\r\n          maxLength={250}\r\n          initValue={_initDescr}\r\n        />\r\n        <DialogButtons\r\n          ref={this._refButtons}\r\n          className={CL.ACTIONS}\r\n          onSave={this._editDescr}\r\n          onClose={onClose}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props !== prevProps\r\n    && this.props.isSelected) {\r\n      this._focusBtClose()\r\n    }\r\n  }\r\n}\r\n\r\nexport default TabDescr\r\n"],"file":"TabDescr.js"}