{"version":3,"file":"TabDescr.js","names":["CL_DESCR","CL_ACTIONS","TabDescr","props","isSelected","note","dispatch","onClose","id","_refBtClose","useRef","_refInputDescr","_editDescr","useCallback","editNoteDescr","noteId","descr","getRefValue","getValue","useBtFocus","_initialDescr","getNoteDescr"],"sources":["../../../src/component/d-details/TabDescr.jsx"],"sourcesContent":["import {\r\n  useRef,\r\n  useCallback,\r\n  getRefValue\r\n} from '../uiApi'\r\nimport useBtFocus from './useBtFocus';\r\n\r\nimport { editNoteDescr } from '../../flux/note/reducer'\r\n\r\nimport InputTextArea from '../zhn/InputTextArea'\r\nimport DialogButtons from './DialogButtons'\r\n\r\nimport getNoteDescr from '../page-board/getNoteDescr'\r\n\r\nconst CL_DESCR = 'md-details__descr'\r\n, CL_ACTIONS = 'md__actions';\r\n\r\nconst TabDescr = (props) => {\r\n  const {\r\n    isSelected,\r\n    note,\r\n    dispatch,\r\n    onClose\r\n  } = props\r\n  , { id } = note\r\n  , _refBtClose = useRef(null)\r\n  , _refInputDescr = useRef(null)\r\n  , _editDescr = useCallback(() => {\r\n    dispatch(editNoteDescr({\r\n      noteId: id,\r\n      descr: getRefValue(_refInputDescr).getValue()\r\n    }))\r\n  }, [id])\r\n  //dispatch\r\n\r\n  useBtFocus(_refBtClose, isSelected, props)\r\n\r\n  const _initialDescr = getNoteDescr(note);\r\n\r\n  return (\r\n    <>\r\n      <InputTextArea\r\n        key={id}\r\n        ref={_refInputDescr}\r\n        className={CL_DESCR}\r\n        maxLength={250}\r\n        initialValue={_initialDescr}\r\n      />\r\n      <DialogButtons\r\n        refBtClose={_refBtClose}\r\n        className={CL_ACTIONS}\r\n        onSave={_editDescr}\r\n        onClose={onClose}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TabDescr\r\n"],"mappings":";;;;;;;AAAA;;AAKA;;AAEA;;AAEA;;AACA;;AAEA;;;;AAEA,IAAMA,QAAQ,GAAG,mBAAjB;AAAA,IACEC,UAAU,GAAG,aADf;;AAGA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;EAC1B,IACEC,UADF,GAKID,KALJ,CACEC,UADF;EAAA,IAEEC,IAFF,GAKIF,KALJ,CAEEE,IAFF;EAAA,IAGEC,QAHF,GAKIH,KALJ,CAGEG,QAHF;EAAA,IAIEC,OAJF,GAKIJ,KALJ,CAIEI,OAJF;EAAA,IAMIC,EANJ,GAMWH,IANX,CAMIG,EANJ;EAAA,IAOEC,WAPF,GAOgB,IAAAC,aAAA,EAAO,IAAP,CAPhB;EAAA,IAQEC,cARF,GAQmB,IAAAD,aAAA,EAAO,IAAP,CARnB;EAAA,IASEE,UATF,GASe,IAAAC,kBAAA,EAAY,YAAM;IAC/BP,QAAQ,CAAC,IAAAQ,sBAAA,EAAc;MACrBC,MAAM,EAAEP,EADa;MAErBQ,KAAK,EAAE,IAAAC,kBAAA,EAAYN,cAAZ,EAA4BO,QAA5B;IAFc,CAAd,CAAD,CAAR;EAID,CALc,EAKZ,CAACV,EAAD,CALY,CATf,CAD0B,CAgB1B;;;EAEA,IAAAW,sBAAA,EAAWV,WAAX,EAAwBL,UAAxB,EAAoCD,KAApC;;EAEA,IAAMiB,aAAa,GAAG,IAAAC,wBAAA,EAAahB,IAAb,CAAtB;;EAEA,oBACE;IAAA,wBACE,qBAAC,yBAAD;MAEE,GAAG,EAAEM,cAFP;MAGE,SAAS,EAAEX,QAHb;MAIE,SAAS,EAAE,GAJb;MAKE,YAAY,EAAEoB;IALhB,GACOZ,EADP,CADF,eAQE,qBAAC,yBAAD;MACE,UAAU,EAAEC,WADd;MAEE,SAAS,EAAER,UAFb;MAGE,MAAM,EAAEW,UAHV;MAIE,OAAO,EAAEL;IAJX,EARF;EAAA,EADF;AAiBD,CAvCD;;eAyCeL,Q"}