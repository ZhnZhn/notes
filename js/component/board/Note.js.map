{"version":3,"sources":["../../../src/component/board/Note.jsx"],"names":["C","DRAGGING","NOT_DRAGGING","S","ROOT","position","border","boderRadius","padding","marginBottom","transition","HANDLE","display","width","height","marginRight","backgroundColor","borderRadius","CONTENT","verticalAlign","BT_DELETE","top","right","Handle","props","_getState","noteTitle","note","title","_crRootStyle","isDragging","Note","_hDelete","deleteNote","columnId","id","_hBlurTitle","evt","target","value","editNoteTitle","newTitle","bind","state","draggableProps","innerRef","dragHandleProps","style","draggablePropsRest","_style","Component","mapDispatchToProps"],"mappings":"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","file":"Note.js","sourcesContent":["import React, { Component } from 'react'\r\n//import PropsType from 'prop-types'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport {\r\n  deleteNote,\r\n  editNoteTitle\r\n} from '../../flux/note/actions'\r\n\r\n\r\nimport InputText from '../zhn/InputText'\r\nimport BtCircle from '../zhn-card/BtCircle'\r\n\r\nconst C = {\r\n  DRAGGING: '#1e90ff', //dodgerblue\r\n  NOT_DRAGGING: '#9e9e9e'\r\n};\r\n\r\nconst S = {\r\n  ROOT: {\r\n    //display: 'flex',\r\n    position: 'relative',\r\n    border: '1px solid #009688',\r\n    boderRadius: 2,\r\n    padding: 8,\r\n    marginBottom: 8,\r\n    transition: 'background-color 0.2s easy'\r\n  },\r\n  HANDLE: {\r\n    display: 'inline-block',\r\n    width: 24,\r\n    height: 24,\r\n    marginRight: 8,\r\n    backgroundColor: 'darkcyan',\r\n    borderRadius: '50%'\r\n  },\r\n  CONTENT: {\r\n    display: 'inline-block',\r\n    verticalAlign: 'super'\r\n  },\r\n  BT_DELETE: {\r\n    position: 'absolute',\r\n    top: 4,\r\n    right: 4\r\n  }\r\n};\r\n\r\nconst Handle = (props) => (\r\n  <span\r\n    style={S.HANDLE}\r\n    {...props}\r\n  />\r\n);\r\n\r\n\r\nconst _getState = (props) => ({\r\n  noteTitle: props.note.title\r\n});\r\n\r\nconst _crRootStyle = (isDragging) => {\r\n  return {\r\n    backgroundColor: isDragging\r\n      ? C.DRAGGING\r\n      : C.NOT_DRAGGING\r\n  };\r\n};\r\n\r\nclass Note extends Component {\r\n  /*\r\n  static propTypes = {\r\n    provided: PropsType.obj,\r\n    snap: PropsType.obj,\r\n    task: PropsType.obj\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this._hBlurTitle = this._hBlurTitle.bind(this)\r\n    this.state = _getState(props)\r\n  }\r\n\r\n  _hDelete = () => {\r\n    const { deleteNote, columnId, note } = this.props\r\n    deleteNote(columnId, note.id)\r\n  }\r\n\r\n  _hBlurTitle = (evt) => {\r\n    const newTitle = evt.target.value\r\n    , { note, editNoteTitle } = this.props;\r\n    if (newTitle !== note.title) {\r\n      editNoteTitle(note.id, newTitle)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {\r\n            draggableProps,\r\n            isDragging,\r\n            innerRef,\r\n            dragHandleProps,\r\n            note,\r\n          } = this.props\r\n        , { style, ...draggablePropsRest } = draggableProps\r\n        , _style = _crRootStyle(isDragging)\r\n        , { noteTitle } = this.state;\r\n\r\n    return (\r\n      <div\r\n        style={{ ...S.ROOT, ..._style, ...style} }\r\n        {...draggablePropsRest}\r\n        ref={innerRef}\r\n        id={note.id}\r\n      >\r\n        <Handle\r\n          {...dragHandleProps}\r\n        />\r\n        <InputText\r\n          style={S.CONTENT}\r\n          value={noteTitle}\r\n          onBlur={this._hBlurTitle}\r\n        />\r\n        <BtCircle\r\n          style={S.BT_DELETE}\r\n          caption=\"D\"\r\n          title=\"Click to delete note\"\r\n          onClick={this._hDelete}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteNote,\r\n  editNoteTitle\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(Note)\r\n"]}