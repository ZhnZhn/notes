{"version":3,"file":"InputText.js","names":["InputText","forwardRef","ref","className","style","initialValue","maxLength","onBlur","useState","value","setValue","_hChange","useCallback","evt","target","length","_hKeyDown","isKeyEnter","el","document","activeElement","blur","isKeyDelete","useImperativeHandle","nextValue","_className","crCn","CL_INPUT"],"sources":["../../../src/component/zhn/InputText.jsx"],"sourcesContent":["import {\r\n  forwardRef,\r\n  useState,\r\n  useCallback,\r\n  useImperativeHandle\r\n} from '../uiApi';\r\n\r\nimport crCn from '../zhn-utils/crCn';\r\nimport {\r\n  CL_INPUT\r\n} from '../style/CL';\r\n\r\nimport isKeyEnter from './isKeyEnter';\r\nimport isKeyDelete from './isKeyDelete';\r\n\r\nconst InputText = forwardRef(({\r\n  className,\r\n  style,\r\n  initialValue,\r\n  maxLength=40,\r\n  onBlur\r\n}, ref) => {\r\n  const [\r\n    value,\r\n    setValue\r\n  ] = useState(initialValue)\r\n  , _hChange = useCallback((evt) => {\r\n    const { value } = evt.target;\r\n    if (value.length <= maxLength) {\r\n      setValue(value)\r\n    }\r\n  }, [maxLength])\r\n  , _hKeyDown = useCallback((evt) => {\r\n    if (isKeyEnter(evt)) {\r\n      const el = document.activeElement;\r\n      if (el && typeof el.blur === 'function' ) {\r\n        el.blur()\r\n      }\r\n    } else if (isKeyDelete(evt)) {\r\n      setValue('')\r\n    }\r\n  }, []);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    setValue: (nextValue) => {\r\n      if (nextValue.length <= maxLength) {\r\n        setValue(nextValue)\r\n      }\r\n    }\r\n  }), [maxLength])\r\n\r\n  const _className = crCn(CL_INPUT, className);\r\n\r\n  return (\r\n    <input\r\n      type=\"text\"\r\n      className={_className}\r\n      style={style}\r\n      value={value}\r\n      onChange={_hChange}\r\n      onBlur={onBlur}\r\n      onKeyDown={_hKeyDown}\r\n    />\r\n  );\r\n})\r\n\r\nexport default InputText\r\n"],"mappings":";;;;;;;AAAA;;AAOA;;AACA;;AAIA;;AACA;;;;AAEA,IAAMA,SAAS,GAAG,IAAAC,iBAAA,EAAW,gBAM1BC,GAN0B,EAMlB;EAAA,IALTC,SAKS,QALTA,SAKS;EAAA,IAJTC,KAIS,QAJTA,KAIS;EAAA,IAHTC,YAGS,QAHTA,YAGS;EAAA,0BAFTC,SAES;EAAA,IAFTA,SAES,+BAFC,EAED;EAAA,IADTC,MACS,QADTA,MACS;;EACT,gBAGI,IAAAC,eAAA,EAASH,YAAT,CAHJ;EAAA,IACEI,KADF;EAAA,IAEEC,SAFF;EAAA,IAIEC,QAJF,GAIa,IAAAC,kBAAA,EAAY,UAACC,GAAD,EAAS;IAChC,IAAQJ,KAAR,GAAkBI,GAAG,CAACC,MAAtB,CAAQL,KAAR;;IACA,IAAIA,KAAK,CAACM,MAAN,IAAgBT,SAApB,EAA+B;MAC7BI,SAAQ,CAACD,KAAD,CAAR;IACD;EACF,CALY,EAKV,CAACH,SAAD,CALU,CAJb;EAAA,IAUEU,SAVF,GAUc,IAAAJ,kBAAA,EAAY,UAACC,GAAD,EAAS;IACjC,IAAI,IAAAI,sBAAA,EAAWJ,GAAX,CAAJ,EAAqB;MACnB,IAAMK,EAAE,GAAGC,QAAQ,CAACC,aAApB;;MACA,IAAIF,EAAE,IAAI,OAAOA,EAAE,CAACG,IAAV,KAAmB,UAA7B,EAA0C;QACxCH,EAAE,CAACG,IAAH;MACD;IACF,CALD,MAKO,IAAI,IAAAC,uBAAA,EAAYT,GAAZ,CAAJ,EAAsB;MAC3BH,SAAQ,CAAC,EAAD,CAAR;IACD;EACF,CATa,EASX,EATW,CAVd;;EAqBA,IAAAa,0BAAA,EAAoBrB,GAApB,EAAyB;IAAA,OAAO;MAC9BQ,QAAQ,EAAE,kBAACc,SAAD,EAAe;QACvB,IAAIA,SAAS,CAACT,MAAV,IAAoBT,SAAxB,EAAmC;UACjCI,SAAQ,CAACc,SAAD,CAAR;QACD;MACF;IAL6B,CAAP;EAAA,CAAzB,EAMI,CAAClB,SAAD,CANJ;;EAQA,IAAMmB,UAAU,GAAG,IAAAC,gBAAA,EAAKC,YAAL,EAAexB,SAAf,CAAnB;;EAEA,oBACE;IACE,IAAI,EAAC,MADP;IAEE,SAAS,EAAEsB,UAFb;IAGE,KAAK,EAAErB,KAHT;IAIE,KAAK,EAAEK,KAJT;IAKE,QAAQ,EAAEE,QALZ;IAME,MAAM,EAAEJ,MANV;IAOE,SAAS,EAAES;EAPb,EADF;AAWD,CAjDiB,CAAlB;eAmDehB,S"}