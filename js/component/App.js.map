{"version":3,"sources":["../../src/component/App.jsx"],"names":["App","props","_onStore","store","theme","state","uiTheme","sApp","getState","getThemeName","setState","prevState","setThemeName","initialTheme","componentDidMount","_unsubscribe","subscribe","componentWillUnmount","render","basename","PageBoard","PageBoards","Component"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AAKA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;;;IAEMA,G;;;AAEJ,eAAYC,KAAZ,EAAkB;AAAA;;AAChB;;AADgB,UAmBlBC,QAnBkB,GAmBP,YAAM;AACT,UAAEC,KAAF,GAAY,MAAKF,KAAjB,CAAEE,KAAF;AAAA,UACFC,KADE,GACQ,MAAKC,KADb,CACFD,KADE;AAAA,UAEJE,OAFI,GAEMC,gBAAKD,OAAL,CAAaH,KAAK,CAACK,QAAN,EAAb,CAFN;;AAGN,UAAKF,OAAO,KAAKF,KAAK,CAACK,YAAN,EAAjB,EAAuC;AACrC,cAAKC,QAAL,CAAc,UAAAC,SAAS,EAAI;AACxBA,UAAAA,SAAS,CAACP,KAAV,CAAgBQ,YAAhB,CAA6BN,OAA7B;AACA,iBAAO;AACLF,YAAAA,KAAK,gCAAMO,SAAS,CAACP,KAAhB;AADA,WAAP;AAGF,SALD;AAMD;AACF,KA/BiB;;AAEV,QAAED,MAAF,GAAYF,KAAZ,CAAEE,KAAF;AAAA,QACJG,QADI,GACMC,gBAAKD,OAAL,CAAaH,MAAK,CAACK,QAAN,EAAb,CADN;;AAGNK,sBAAaD,YAAb,CAA0BN,QAA1B;;AAEA,UAAKD,KAAL,GAAa;AACXD,MAAAA,KAAK,EAAES;AADI,KAAb;AAPgB;AAUjB;;;;SAEDC,iB,GAAA,6BAAmB;AACjB,QAAQX,KAAR,GAAkB,KAAKF,KAAvB,CAAQE,KAAR;AACA,SAAKY,YAAL,GAAoBZ,KAAK,CAACa,SAAN,CAAgB,KAAKd,QAArB,CAApB;AACD,G;;SACDe,oB,GAAA,gCAAsB;AACpB,SAAKF,YAAL;AACD,G;;SAeDG,M,GAAA,kBAAQ;AACN,sBAGI,KAAKjB,KAHT;AAAA,QACEkB,QADF,eACEA,QADF;AAAA,QAEEhB,KAFF,eAEEA,KAFF;AAAA,QAIIC,KAJJ,GAIc,KAAKC,KAJnB,CAIID,KAJJ;AAKA,wBACE,qBAAC,iBAAD;AAAA,6BACE,qBAAC,6BAAD;AAAe,QAAA,QAAQ,EAAEe,QAAzB;AAAA,+BACE,sBAAC,wBAAD,CAAc,QAAd;AAAuB,UAAA,KAAK,EAAEf,KAA9B;AAAA,kCACE,qBAAC,4BAAD;AAAkB,YAAA,KAAK,EAAED;AAAzB,YADF,eAEE,sBAAC,sBAAD;AAAA,oCACE,qBAAC,qBAAD;AAAO,cAAA,IAAI,EAAC,aAAZ;AAA0B,cAAA,SAAS,EAAEiB;AAArC,cADF,eAEE,qBAAC,qBAAD;AAAO,cAAA,IAAI,EAAC,SAAZ;AAAsB,cAAA,SAAS,EAAEC;AAAjC,cAFF,eAGE,qBAAC,wBAAD;AAAU,cAAA,IAAI,EAAC,GAAf;AAAmB,cAAA,EAAE,EAAC;AAAtB,cAHF;AAAA,YAFF;AAAA;AADF;AADF,MADF;AAcD,G;;;EAvDeC,gB;;eA0DHtB,G","sourcesContent":["import { StrictMode, Component } from 'react'\r\nimport {\r\n  BrowserRouter,\r\n  Switch, Route, Redirect\r\n} from 'react-router-dom'\r\n\r\nimport ThemeContext from './hoc/ThemeContext'\r\nimport initialTheme from './style/theme'\r\n\r\nimport { sApp } from '../flux/selectors'\r\n\r\nimport PageBoard from './page-board/PageBoard'\r\nimport PageBoards from './page-boards/PageBoards'\r\nimport WrapperContainer from './zhn-cont/WrapperContainer'\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props){\r\n    super()\r\n    const { store } = props\r\n    , uiTheme = sApp.uiTheme(store.getState());\r\n\r\n    initialTheme.setThemeName(uiTheme)\r\n\r\n    this.state = {\r\n      theme: initialTheme\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    const { store } = this.props;\r\n    this._unsubscribe = store.subscribe(this._onStore)\r\n  }\r\n  componentWillUnmount(){\r\n    this._unsubscribe()\r\n  }\r\n  _onStore = () => {\r\n    const { store } = this.props\r\n    , { theme } = this.state\r\n    , uiTheme = sApp.uiTheme(store.getState());\r\n    if ( uiTheme !== theme.getThemeName()) {\r\n      this.setState(prevState => {\r\n         prevState.theme.setThemeName(uiTheme)\r\n         return {\r\n           theme: {...prevState.theme}\r\n         };\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {\r\n      basename,\r\n      store\r\n    } = this.props\r\n    , { theme } = this.state;\r\n    return (\r\n      <StrictMode>\r\n        <BrowserRouter basename={basename}>\r\n          <ThemeContext.Provider value={theme}>\r\n            <WrapperContainer store={store} />\r\n            <Switch>\r\n              <Route path=\"/boards/:id\" component={PageBoard} />\r\n              <Route path=\"/boards\" component={PageBoards} />\r\n              <Redirect from=\"/\" to=\"/boards\" />\r\n            </Switch>\r\n          </ThemeContext.Provider>\r\n        </BrowserRouter>\r\n      </StrictMode>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App\r\n"],"file":"App.js"}