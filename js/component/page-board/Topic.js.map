{"version":3,"file":"Topic.js","names":["S_SVG_MORE","marginRight","S_MENU_MORE","position","width","Topic","boardId","column","notes","addNote","columnId","id","isHide","title","withAdd","noteIds","useBool","isMenuMore","_openMenuMore","_closeMenuMore","dispatch","useDispatch","_hHideTopic","useCallback","toggleColumn","_hAddNewTask","_hBlurTitle","evt","editColumnTitle","target","value","_hRemoveColumn","removeColumn","_numberOfNotes","length","CL_CARD_BT","isArrEmpty"],"sources":["../../../src/component/page-board/Topic.jsx"],"sourcesContent":["import {\r\n  useDispatch,\r\n  useCallback\r\n} from '../uiApi';\r\n\r\nimport useBool from '../hooks/useBool';\r\n\r\nimport {\r\n  editColumnTitle,\r\n  toggleColumn\r\n} from '../../flux/column/reducer';\r\n import {\r\n   removeColumn\r\n } from '../../flux/column/actions';\r\n\r\nimport isArrEmpty from '../../utils/isArrEmpty';\r\n\r\nimport SvgMore from '../zhn/SvgMore';\r\nimport TopicMenuMore from './TopicMenuMore';\r\nimport Card from '../zhn-card/Card';\r\nimport FlatButton from '../zhn-m/FlatButton';\r\nimport DnDNoteList from './DnDNoteList';\r\n\r\nimport {\r\n  CL_CARD_BT\r\n} from '../style/CL';\r\n\r\nconst S_SVG_MORE = { marginRight: 8 }\r\n, S_MENU_MORE = {\r\n    position: 'absolute',\r\n    width: 150\r\n};\r\n\r\nconst Topic = ({\r\n  boardId,\r\n  column,\r\n  notes,\r\n  addNote\r\n}) => {\r\n  const {\r\n    id:columnId,\r\n    isHide,\r\n    title,\r\n    withAdd,\r\n    noteIds\r\n  } = column\r\n  , [\r\n    isMenuMore,\r\n    _openMenuMore,\r\n    _closeMenuMore\r\n  ] = useBool()\r\n  , dispatch = useDispatch()\r\n\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  , _hHideTopic = useCallback(() => {\r\n    dispatch(toggleColumn({\r\n      columnId\r\n    }))\r\n  }, [columnId])\r\n  // dispatch\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n\r\n  , _hAddNewTask = useCallback(() => {\r\n    addNote({ columnId })\r\n  }, [addNote, columnId])\r\n\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  , _hBlurTitle = useCallback((evt) => {\r\n     dispatch(editColumnTitle({\r\n       columnId,\r\n       title: evt.target.value\r\n     }))\r\n  }, [columnId])\r\n  // dispatch\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  , _hRemoveColumn = useCallback(() => {\r\n    dispatch(removeColumn({\r\n      boardId,\r\n      columnId\r\n    }))\r\n  }, [boardId, columnId])\r\n  // dispatch\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n\r\n  , _numberOfNotes = noteIds.length;\r\n\r\n  return (\r\n    <Card.Item isHide={isHide}>\r\n      <Card.Header>\r\n        <SvgMore\r\n          style={S_SVG_MORE}\r\n          title=\"Click to open topic menu\"\r\n          onClick={_openMenuMore}\r\n        />\r\n        { isMenuMore && <TopicMenuMore\r\n          style={S_MENU_MORE}\r\n          isShow={isMenuMore}\r\n          onAddNote={_hAddNewTask}\r\n          onHideTopic={_hHideTopic}\r\n          onClose={_closeMenuMore}\r\n        />}\r\n        <Card.Title\r\n          initialValue={title}\r\n          onBlur={_hBlurTitle}\r\n        />\r\n        <Card.Counter value={_numberOfNotes} />\r\n        {\r\n          withAdd &&\r\n          <FlatButton\r\n            clCaption={CL_CARD_BT}\r\n            caption=\"AddNote\"\r\n            title=\"Click to add a new note\"\r\n            timeout={1000}\r\n            onClick={_hAddNewTask}\r\n          />\r\n        }\r\n      </Card.Header>\r\n      <DnDNoteList\r\n        cId={columnId}\r\n        noteIds={noteIds}\r\n        notes={notes}\r\n      />\r\n      <div>\r\n        {\r\n          isArrEmpty(noteIds) &&\r\n            <FlatButton\r\n              clCaption={CL_CARD_BT}\r\n              caption=\"Remove Topic\"\r\n              onClick={_hRemoveColumn}\r\n            />\r\n        }\r\n      </div>\r\n    </Card.Item>\r\n  );\r\n}\r\n\r\nexport default Topic\r\n"],"mappings":"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"}