{"version":3,"sources":["../../../src/component/page-board/Topic.jsx"],"names":["S","SVG_MORE","marginRight","MENU_MORE","position","width","Topic","state","isMenuMore","_openMenuMore","setState","_closeMenuMore","_hHideTopic","props","toggleColumn","column","id","_hAddNewTask","addNote","_hBlurTitle","evt","editColumnTitle","target","value","_hRemoveColumn","boardId","removeColumn","render","notes","isHide","title","withAdd","noteIds","length","CL","CARD_BT","Component","mapDispatchToProps"],"mappings":"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","sourcesContent":["import { Component } from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  editColumnTitle,\r\n  removeColumn,\r\n  toggleColumn\r\n } from '../../flux/column/actions'\r\n\r\nimport isArrEmpty from '../../utils/isArrEmpty'\r\n\r\nimport SvgMore from '../zhn/SvgMore'\r\nimport TopicMenuMore from './TopicMenuMore'\r\nimport Card from '../zhn-card/Card'\r\nimport FlatButton from '../zhn-m/FlatButton'\r\nimport DnDNoteList from './DnDNoteList'\r\n\r\nimport CL from '../style/CL'\r\n\r\nconst S = {\r\n  SVG_MORE: {\r\n    marginRight: 8\r\n  },\r\n  MENU_MORE: {\r\n    position: 'absolute',\r\n    width: 150\r\n  }\r\n};\r\n\r\nclass Topic extends Component {\r\n  state = {\r\n    isMenuMore: false\r\n  }\r\n\r\n  _openMenuMore = () => {\r\n    if (!this.state.isMenuMore) {\r\n      this.setState({\r\n        isMenuMore: true\r\n      })\r\n    }\r\n  }\r\n\r\n  _closeMenuMore = () => {\r\n    this.setState({\r\n      isMenuMore: false\r\n    })\r\n  }\r\n\r\n  _hHideTopic = () => {\r\n    const { toggleColumn, column } = this.props;\r\n    toggleColumn(column.id)\r\n  }\r\n\r\n  _hAddNewTask = () => {\r\n    const { column, addNote } = this.props;\r\n    addNote(column.id)\r\n  }\r\n\r\n  _hBlurTitle = (evt) => {\r\n     const { column, editColumnTitle } = this.props;\r\n     editColumnTitle(column.id, evt.target.value)\r\n  }\r\n\r\n  _hRemoveColumn = () => {\r\n    const { boardId, column, removeColumn } = this.props;\r\n    removeColumn(boardId, column.id)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isMenuMore\r\n    } = this.state\r\n    , {\r\n      column,\r\n      notes\r\n    } = this.props\r\n    , {\r\n      id,\r\n      isHide,\r\n      title,\r\n      withAdd,\r\n      noteIds\r\n    } = column;\r\n\r\n    return (\r\n      <Card.Item isHide={isHide}>\r\n        <SvgMore\r\n          style={S.SVG_MORE}\r\n          title=\"Click to open topic menu\"\r\n          onClick={this._openMenuMore}\r\n        />\r\n        { isMenuMore && <TopicMenuMore\r\n          style={S.MENU_MORE}\r\n          isShow={isMenuMore}\r\n          onAddNote={this._hAddNewTask}\r\n          onHideTopic={this._hHideTopic}\r\n          onClose={this._closeMenuMore}\r\n        />}\r\n        <Card.Title\r\n          value={title}\r\n          onBlur={this._hBlurTitle}\r\n        />\r\n        <Card.Counter value={noteIds.length} />\r\n        {\r\n          withAdd &&\r\n          <FlatButton\r\n            clCaption={CL.CARD_BT}\r\n            caption=\"AddNote\"\r\n            title=\"Click to add a new note\"\r\n            timeout={1000}\r\n            onClick={this._hAddNewTask}\r\n          />\r\n        }\r\n        <DnDNoteList\r\n          cId={id}\r\n          noteIds={noteIds}\r\n          notes={notes}\r\n        />\r\n        <div>\r\n          {\r\n            isArrEmpty(noteIds) &&\r\n              <FlatButton\r\n                clCaption={CL.CARD_BT}\r\n                caption=\"Remove Topic\"\r\n                onClick={this._hRemoveColumn}\r\n              />\r\n          }\r\n        </div>\r\n      </Card.Item>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  editColumnTitle,\r\n  removeColumn,\r\n  toggleColumn\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(Topic)\r\n"],"file":"Topic.js"}