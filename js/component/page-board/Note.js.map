{"version":3,"sources":["../../../src/component/page-board/Note.jsx"],"names":["CL","_getState","props","noteTitle","note","title","isMenuMore","isDetails","DnDNote","_openMenuMore","state","setState","_closeMenuMore","_deleteNote","deleteNote","columnId","id","_blurTitle","evt","newTitle","target","value","editNoteTitle","_toggleDetails","prevState","_editDetails","editDetails","render","dragHandleProps","Component","mapDispatchToProps","ma","showDetails"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n//import PropsType from 'prop-types'\r\n\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  deleteNote,\r\n  editNoteTitle\r\n} from '../../flux/note/actions'\r\nimport ma from '../../flux/modal/actions'\r\n\r\nimport NoteCaption from './NoteCaption'\r\nimport NoteDetails from './NoteDetails'\r\n\r\nconst CL = 'note';\r\n\r\nconst _getState = (props) => ({\r\n  noteTitle: props.note.title,\r\n  isMenuMore: false,\r\n  isDetails: false\r\n});\r\n\r\nclass DnDNote extends Component {\r\n  /*\r\n  static propTypes = {\r\n    dragHandleProps: PropsType.object,\r\n    note: PropsType.object\r\n    columnId: PropsType.string\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = _getState(props)\r\n  }\r\n\r\n  _openMenuMore = () => {\r\n    if (!this.state.isMenuMore) {\r\n      this.setState({\r\n        isMenuMore: true\r\n      })\r\n    }\r\n  }\r\n\r\n  _closeMenuMore = () => {\r\n    this.setState({\r\n      isMenuMore: false\r\n    })\r\n  }\r\n\r\n  _deleteNote = () => {\r\n    const { deleteNote, columnId, note } = this.props\r\n    deleteNote(columnId, note.id)\r\n  }\r\n\r\n  _blurTitle = (evt) => {\r\n    const newTitle = evt.target.value\r\n    , { note, editNoteTitle } = this.props;\r\n    if (newTitle !== note.title) {\r\n      editNoteTitle(note.id, newTitle)\r\n    }\r\n  }\r\n\r\n  _toggleDetails = () => {\r\n    this.setState(prevState => ({\r\n      isDetails: !prevState.isDetails\r\n    }))\r\n  }\r\n\r\n  _editDetails = () => {\r\n    const { note, editDetails } = this.props;\r\n    editDetails(note)\r\n  }\r\n\r\n  render(){\r\n    const {\r\n      dragHandleProps,\r\n      note\r\n    } = this.props\r\n    , {\r\n      noteTitle,\r\n      isMenuMore,\r\n      isDetails\r\n    } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className={CL}\r\n        id={note.id}\r\n      >\r\n        <NoteCaption\r\n          dragHandleProps={dragHandleProps}\r\n          isDetails={isDetails}\r\n          onClickHandle={this._toggleDetails}\r\n\r\n          noteTitle={noteTitle}\r\n          onBlurTitle={this._blurTitle}\r\n\r\n          isMenuMore={isMenuMore}\r\n          onClickMenuMore={this._openMenuMore}\r\n          onCloseMenuMore={this._closeMenuMore}\r\n          onEditDetails={this._editDetails}\r\n          onRemoveNote={this._deleteNote}\r\n        />\r\n        <NoteDetails\r\n          isShow={isDetails}\r\n          note={note}\r\n          editDetails={this._editDetails}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteNote,\r\n  editNoteTitle,\r\n  editDetails: ma.showDetails\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(DnDNote)\r\n"],"file":"Note.js"}