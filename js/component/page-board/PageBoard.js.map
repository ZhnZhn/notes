{"version":3,"file":"PageBoard.js","names":["ColumnStack","boardId","columnIds","columns","notes","addNote","map","cId","column","id","PageBoard","board","moveNote","addColumn","_hDragEnd","useCallback","result","isNotDnD","_hAddColumn","mapStateToProps","state","s","currentBoard","note","mapDispatchToProps","connect"],"sources":["../../../src/component/page-board/PageBoard.jsx"],"sourcesContent":["import {\r\n  connect,\r\n  useCallback\r\n} from '../uiApi';\r\n\r\nimport { DragDropContext } from 'react-beautiful-dnd'\r\n\r\nimport s from '../../flux/selectors'\r\nimport {\r\n  moveNote,\r\n  addNote\r\n} from '../../flux/note/actions'\r\n\r\nimport {\r\n   addColumn\r\n } from '../../flux/column/actions'\r\n\r\nimport isNotDnD from '../zhn-dnd/isNotDnD'\r\n\r\nimport Header from '../board-header/Header'\r\nimport Main from '../zhn-ch/Main'\r\nimport Topic from './Topic'\r\n\r\nconst ColumnStack = ({\r\n  boardId,\r\n  columnIds,\r\n  columns,\r\n  notes,\r\n  addNote\r\n}) => (columnIds||[]).map(cId => {\r\n   const column = columns[cId];\r\n   return (\r\n    <Topic\r\n       key={column.id}\r\n       boardId={boardId}\r\n       column={column}\r\n       notes={notes}\r\n       addNote={addNote}\r\n    />\r\n   );\r\n});\r\n\r\nconst PageBoard = ({\r\n  board,\r\n  notes,\r\n  columns,\r\n  addNote,\r\n  moveNote,\r\n  addColumn\r\n}) => {\r\n  const { id, columnIds } = board;\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  const _hDragEnd = useCallback(result => {\r\n    if (!isNotDnD(result)) {\r\n      moveNote(result)\r\n    }\r\n  }, [])\r\n  //moveNote\r\n  , _hAddColumn = useCallback(() => {\r\n    addColumn({ boardId: id })\r\n  }, [])\r\n  //addColumn, id\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n\r\n  return (\r\n    <>\r\n      <Header\r\n        addColumn={_hAddColumn}\r\n      />\r\n      <DragDropContext\r\n        onDragEnd={_hDragEnd}\r\n      >\r\n        <Main>\r\n          <ColumnStack\r\n            boardId={id}\r\n            columnIds={columnIds}\r\n            columns={columns}\r\n            notes={notes}\r\n            addNote={addNote}\r\n          />\r\n        </Main>\r\n      </DragDropContext>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  board: s.board.currentBoard(state),\r\n  notes: s.note.notes(state),\r\n  columns: s.column.columns(state)\r\n});\r\nconst mapDispatchToProps = {\r\n  moveNote,\r\n  addNote,\r\n  addColumn\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PageBoard)\r\n"],"mappings":";;;;;;;AAAA;;AAKA;;AAEA;;AACA;;AAKA;;AAIA;;AAEA;;AACA;;AACA;;;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc;EAAA,IAClBC,OADkB,QAClBA,OADkB;EAAA,IAElBC,SAFkB,QAElBA,SAFkB;EAAA,IAGlBC,OAHkB,QAGlBA,OAHkB;EAAA,IAIlBC,KAJkB,QAIlBA,KAJkB;EAAA,IAKlBC,OALkB,QAKlBA,OALkB;EAAA,OAMd,CAACH,SAAS,IAAE,EAAZ,EAAgBI,GAAhB,CAAoB,UAAAC,GAAG,EAAI;IAC9B,IAAMC,MAAM,GAAGL,OAAO,CAACI,GAAD,CAAtB;IACA,oBACC,qBAAC,iBAAD;MAEG,OAAO,EAAEN,OAFZ;MAGG,MAAM,EAAEO,MAHX;MAIG,KAAK,EAAEJ,KAJV;MAKG,OAAO,EAAEC;IALZ,GACQG,MAAM,CAACC,EADf,CADD;EASF,CAXK,CANc;AAAA,CAApB;;AAmBA,IAAMC,SAAS,GAAG,SAAZA,SAAY,QAOZ;EAAA,IANJC,KAMI,SANJA,KAMI;EAAA,IALJP,KAKI,SALJA,KAKI;EAAA,IAJJD,OAII,SAJJA,OAII;EAAA,IAHJE,OAGI,SAHJA,OAGI;EAAA,IAFJO,QAEI,SAFJA,QAEI;EAAA,IADJC,SACI,SADJA,SACI;EACJ,IAAQJ,EAAR,GAA0BE,KAA1B,CAAQF,EAAR;EAAA,IAAYP,SAAZ,GAA0BS,KAA1B,CAAYT,SAAZ;EACA;;EACA,IAAMY,SAAS,GAAG,IAAAC,kBAAA,EAAY,UAAAC,MAAM,EAAI;IACtC,IAAI,CAAC,IAAAC,oBAAA,EAASD,MAAT,CAAL,EAAuB;MACrBJ,QAAQ,CAACI,MAAD,CAAR;IACD;EACF,CAJiB,EAIf,EAJe,CAAlB,CAKA;EALA;EAAA,IAMEE,WAAW,GAAG,IAAAH,kBAAA,EAAY,YAAM;IAChCF,SAAS,CAAC;MAAEZ,OAAO,EAAEQ;IAAX,CAAD,CAAT;EACD,CAFe,EAEb,EAFa,CANhB,CAHI,CAYJ;;EACA;;;EAEA,oBACE;IAAA,wBACE,qBAAC,kBAAD;MACE,SAAS,EAAES;IADb,EADF,eAIE,qBAAC,kCAAD;MACE,SAAS,EAAEJ,SADb;MAAA,uBAGE,qBAAC,gBAAD;QAAA,uBACE,qBAAC,WAAD;UACE,OAAO,EAAEL,EADX;UAEE,SAAS,EAAEP,SAFb;UAGE,OAAO,EAAEC,OAHX;UAIE,KAAK,EAAEC,KAJT;UAKE,OAAO,EAAEC;QALX;MADF;IAHF,EAJF;EAAA,EADF;AAoBD,CA1CD;;AA4CA,IAAMc,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;EAAA,OAAY;IAClCT,KAAK,EAAEU,qBAAA,CAAEV,KAAF,CAAQW,YAAR,CAAqBF,KAArB,CAD2B;IAElChB,KAAK,EAAEiB,qBAAA,CAAEE,IAAF,CAAOnB,KAAP,CAAagB,KAAb,CAF2B;IAGlCjB,OAAO,EAAEkB,qBAAA,CAAEb,MAAF,CAASL,OAAT,CAAiBiB,KAAjB;EAHyB,CAAZ;AAAA,CAAxB;;AAKA,IAAMI,kBAAkB,GAAG;EACzBZ,QAAQ,EAARA,iBADyB;EAEzBP,OAAO,EAAPA,gBAFyB;EAGzBQ,SAAS,EAATA;AAHyB,CAA3B;;eAMe,IAAAY,cAAA,EACbN,eADa,EAEbK,kBAFa,EAGbd,SAHa,C"}