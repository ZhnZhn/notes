{"version":3,"sources":["../../../src/component/page-board/PageBoard.jsx"],"names":["PageBoard","_hDragEnd","result","props","moveNote","_renderColumns","board","columns","notes","addNote","columnIds","map","cId","column","id","_hAddColumn","addColumn","render","Component","mapStateToProps","state","s","currentBoard","note","mapDispatchToProps"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AACA;;AAEA;;AACA;;AAIA;;AAIA;;AAEA;;AACA;;AACA;;IAEMA,S;;;;;;;;;;;;UACJC,S,GAAY,UAACC,MAAD,EAAY;AACtB,UAAI,0BAASA,MAAT,CAAJ,EAAsB;AACpB;AACD;;AACD,YAAKC,KAAL,CAAWC,QAAX,CAAoBF,MAApB;AACD,K;;UAEDG,c,GAAiB,UAACC,KAAD,EAAQC,OAAR,EAAiBC,KAAjB,EAAwBC,OAAxB,EAAoC;AACnD,aAAOH,KAAK,CAACI,SAAN,CAAgBC,GAAhB,CAAoB,UAAAC,GAAG,EAAI;AAC/B,YAAMC,MAAM,GAAGN,OAAO,CAACK,GAAD,CAAtB;AACA,4BACE,qBAAC,iBAAD;AAEG,UAAA,OAAO,EAAEN,KAAK,CAACQ,EAFlB;AAGG,UAAA,MAAM,EAAED,MAHX;AAIG,UAAA,KAAK,EAAEL,KAJV;AAKG,UAAA,OAAO,EAAEC;AALZ,WACQI,MAAM,CAACC,EADf,CADF;AASF,OAXM,CAAP;AAYD,K;;UAEDC,W,GAAc,YAAM;AAAA,wBAId,MAAKZ,KAJS;AAAA,UAEhBa,SAFgB,eAEhBA,SAFgB;AAAA,UAGhBV,KAHgB,eAGhBA,KAHgB;AAKlBU,MAAAA,SAAS,CAACV,KAAK,CAACQ,EAAP,CAAT;AACD,K;;;;;;;SAEDG,M,GAAA,kBAAQ;AAAA,uBAMF,KAAKd,KANH;AAAA,QAEJG,KAFI,gBAEJA,KAFI;AAAA,QAGJE,KAHI,gBAGJA,KAHI;AAAA,QAIJD,OAJI,gBAIJA,OAJI;AAAA,QAKJE,OALI,gBAKJA,OALI;AAON,WAAO,cACL,qBAAC,kBAAD;AAEE,MAAA,SAAS,EAAE,KAAKM;AAFlB,OACM,QADN,CADK,eAKL,qBAAC,kCAAD;AAEE,MAAA,SAAS,EAAE,KAAKd,SAFlB;AAAA,6BAIE,qBAAC,gBAAD;AAAA,kBACI,KAAKI,cAAL,CAAoBC,KAApB,EAA2BC,OAA3B,EAAoCC,KAApC,EAA2CC,OAA3C;AADJ;AAJF,OACM,KADN,CALK,CAAP;AAcD,G;;;EApDqBS,gB;;AAwDxB,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAY;AAClCd,IAAAA,KAAK,EAAEe,sBAAEf,KAAF,CAAQgB,YAAR,CAAqBF,KAArB,CAD2B;AAElCZ,IAAAA,KAAK,EAAEa,sBAAEE,IAAF,CAAOf,KAAP,CAAaY,KAAb,CAF2B;AAGlCb,IAAAA,OAAO,EAAEc,sBAAER,MAAF,CAASN,OAAT,CAAiBa,KAAjB;AAHyB,GAAZ;AAAA,CAAxB;;AAKA,IAAMI,kBAAkB,GAAG;AACzBpB,EAAAA,QAAQ,EAARA,iBADyB;AAEzBK,EAAAA,OAAO,EAAPA,gBAFyB;AAGzBO,EAAAA,SAAS,EAATA;AAHyB,CAA3B;;eAMe,yBACbG,eADa,EAEbK,kBAFa,EAGbxB,SAHa,C","sourcesContent":["import { Component } from 'react'\r\n\r\nimport { DragDropContext } from 'react-beautiful-dnd'\r\nimport { connect } from 'react-redux'\r\n\r\nimport s from '../../flux/selectors'\r\nimport {\r\n  moveNote,\r\n  addNote\r\n} from '../../flux/note/actions'\r\nimport {\r\n   addColumn\r\n } from '../../flux/column/actions'\r\n\r\nimport isNotDnD from '../zhn-dnd/isNotDnD'\r\n\r\nimport Header from '../board-header/Header'\r\nimport Main from '../zhn-ch/Main'\r\nimport Topic from './Topic'\r\n\r\nclass PageBoard extends Component {\r\n  _hDragEnd = (result) => {\r\n    if (isNotDnD(result)) {\r\n      return;\r\n    }\r\n    this.props.moveNote(result)\r\n  }\r\n\r\n  _renderColumns = (board, columns, notes, addNote) => {\r\n    return board.columnIds.map(cId => {\r\n       const column = columns[cId];\r\n       return (\r\n         <Topic\r\n            key={column.id}\r\n            boardId={board.id}\r\n            column={column}\r\n            notes={notes}\r\n            addNote={addNote}\r\n         />\r\n       );\r\n    })\r\n  }\r\n\r\n  _hAddColumn = () => {\r\n    const {\r\n      addColumn,\r\n      board\r\n    } = this.props;\r\n    addColumn(board.id)\r\n  }\r\n\r\n  render(){\r\n    const {\r\n      board,\r\n      notes,\r\n      columns,\r\n      addNote\r\n    } = this.props;\r\n    return [\r\n      <Header\r\n        key=\"header\"\r\n        addColumn={this._hAddColumn}\r\n      />,\r\n      <DragDropContext\r\n        key=\"ddc\"\r\n        onDragEnd={this._hDragEnd}\r\n      >\r\n        <Main>\r\n          { this._renderColumns(board, columns, notes, addNote) }\r\n        </Main>\r\n      </DragDropContext>\r\n    ];\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  board: s.board.currentBoard(state),\r\n  notes: s.note.notes(state),\r\n  columns: s.column.columns(state)\r\n});\r\nconst mapDispatchToProps = {\r\n  moveNote,\r\n  addNote,\r\n  addColumn\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PageBoard)\r\n"],"file":"PageBoard.js"}