/*! For license information please see app_a6e8426c581df2302dc0.js.LICENSE.txt */
(()=>{var t={506:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},154:t=>{function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},e.apply(this,arguments)}t.exports=e},354:t=>{t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},316:t=>{t.exports=function(t,e){if(null==t)return{};var n,o,r={},s=Object.keys(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(t){o[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,s){for(var i,a,c=r(t),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))n.call(i,u)&&(c[u]=i[u]);if(e){a=e(i);for(var d=0;d<a.length;d++)o.call(i,a[d])&&(c[a[d]]=i[a[d]])}}return c}},251:(t,e,n)=>{"use strict";n(418);var o=n(679),r=60103;if(e.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;r=s("react.element"),e.Fragment=s("react.fragment")}var i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var o,s={},l=null,u=null;for(o in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,o)&&!c.hasOwnProperty(o)&&(s[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps)void 0===s[o]&&(s[o]=e[o]);return{$$typeof:r,type:t,key:l,ref:u,props:s,_owner:i.current}}e.jsx=l,e.jsxs=l},893:(t,e,n)=>{"use strict";t.exports=n(251)},806:(t,e,n)=>{t.exports=n(342)(164)},679:(t,e,n)=>{t.exports=n(342)(294)},112:(t,e,n)=>{t.exports=n(342)(48)},21:(t,e,n)=>{t.exports=n(342)(52)},43:(t,e,n)=>{t.exports=n(342)(890)},226:(t,e,n)=>{t.exports=n(342)(935)},342:t=>{"use strict";t.exports=lib_vendor}},e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(893),e=n(226),o=n(112),r=n(43),s=function(t,e){return"Max number ("+e+") of "+t+" reached."},i=8,a=8,c=12;const l={STORAGE_KEY:"notes-manager",DMSG_PREFIX:"m",MSG_SAVED:"Boards saved",MSG_SAVE_FAIL:"Boards not saved",MSG_CLEANED:"localStorage cleaned",MSG_CLEAN_FAIL:"localStorage not cleaned",BOARDS_PREFIX:"b",MAX_BOARDS:i,N_MAX_BOARDS:{descr:s("boards",i)},MAX_COLUMNS:a,COLUMNS_PREFIX:"c",N_MAX_COLUMNS:{descr:s("columns",a)},MAX_NOTES:c,NOTES_PREFIX:"n",N_MAX_NOTES:{descr:s("notes",c)},NLABELS_PREFIX:"nl"};var u=n(154),d=n.n(u),p="SAVE_BOARD",h="CLEAN_STORAGE",f="SET_UI_THEME",m=function(){return{type:p}},v=function(){return{type:h}},_=function(t){return{type:f,uiTheme:t}};var g="EDIT_BOARD_TITLE",b="SET_BOARD_CURRENT",y="ADD_BOARD",C="REMOVE_BOARD",x=function(t,e){return{type:g,boardId:t,title:e}},N=function(t){return{type:b,boardId:t}},I=function(t){return{type:y,boardId:t}},D=function(t){return{type:C,boardId:t}};const E={app:{boardId:"b-1",boardIds:["b-1"],uiTheme:"DARK"},drawerMsg:[],modal:{id:void 0,data:void 0},boards:{"b-1":{id:"b-1",title:"Board 1",columnIds:["c-1","c-2"]}},notes:{},noteLabels:{},columns:{"c-1":{id:"c-1",title:"Topic 1",noteIds:[],withAdd:!0},"c-2":{id:"c-2",title:"Topic 2",noteIds:[]}}};const S=function(t,e){return Array.isArray(t)?t.filter((function(t){return t!==e})):t},j=function(t,e){var n={};return Object.keys(t).forEach((function(o){o!==e&&(n[o]=t[o])})),n},T=function(t,e,n){var o;return d()({},t,((o={})[e]=n,o))};var O=T,w=S;const A=function(t,e){switch(void 0===t&&(t=E.app),e.type){case f:var n=e.uiTheme;return d()({},t,{uiTheme:n});case b:var o=e.boardId;return d()({},t,{boardId:o});case y:var r=e.boardId,s=[].concat(t.boardIds,[r]);return O(t,"boardIds",s);case C:var i=e.boardId;return t.boardId===i&&(t.boardId=null),O(t,"boardIds",w(t.boardIds,i));default:return t}};var R="ADD_DRAWER_MSG",L="REMOVE_DRAWER_MSG",M=function(t){return t<10?"0"+t:""+t},B=function(t){var e=new Date;return M(e.getHours())+":"+M(e.getMinutes())+" "+t},k=function(t){return{type:L,id:t}};const P={addDrawerMsg:function(t,e){return{type:R,id:e,msg:B(t)}},removeDrawerMsg:k};const H={crMsg:function(t,e){return{id:t,msg:e}},filterByProp:function(t,e,n){return void 0===n&&(n="id"),Array.isArray(t)?t.filter((function(t){return t[n]!==e})):t}};var G=H.crMsg,U=H.filterByProp;const F=function(t,e){switch(void 0===t&&(t=E.drawerMsg),e.type){case R:var n=e.id,o=e.msg;return[G(n,o)].concat(t);case L:var r=e.id;return U(t,r);default:return t}};var K=n(354),W=n.n(K),V=n(679);const X=function(e){var n=e.className,o=void 0===n?"":n,r=e.style,s=e.tabIndex,i=e.onClose;return(0,t.jsx)("button",{tabIndex:s,className:"bt-svg-close "+o,style:r,onClick:i,children:(0,t.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M 0,0 L 12,12"}),(0,t.jsx)("path",{d:"M 12,0 L 0,12"})]})})};var z="dialog__header",Y="dialog__caption not-selected",q="dialog__svg-close";const J=function(e){var n=e.rootStyle,o=(e.svgStyle,e.caption),r=e.children,s=e.onClose;return(0,t.jsxs)("div",{className:z,style:n,children:[(0,t.jsx)("span",{className:Y,children:o}),r,(0,t.jsx)(X,{className:q,onClose:s})]})};var $=n(506),Q=n.n($),Z={KEY:{textDecoration:"underline"}};const tt=function(e){var n=e.className,o=e.rootStyle,r=e.caption,s=void 0===r?"":r,i=e.accessKey,a=e.children,c=s.toLowerCase().indexOf(i);if(i&&-1!==c){var l=s.substring(0,c),u=s.substring(c,c+1),d=s.substring(c+1);return(0,t.jsxs)("span",{className:n,style:o,children:[(0,t.jsx)("span",{children:l}),(0,t.jsx)("span",{style:Z.KEY,children:u}),(0,t.jsx)("span",{children:d}),a]})}return(0,t.jsxs)("span",{className:n,style:o,children:[s,a]})};var et="bt-flat",nt="bt-flat__div",ot="bt-flat__span",rt={color:"#607d8b"},st="pointer-events",it=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._setPointerEvents=function(e){void 0===e&&(e="auto"),Q()(t)&&t.rootNode&&t.rootNode.style&&(t.rootNode.style[st]=e)},t._hClick=function(e){t._setPointerEvents("none");var n=t.props,o=n.timeout,r=n.onClick;setTimeout(t._setPointerEvents,o),r(e)},t._refNode=function(e){return t.rootNode=e},t}W()(n,e);var o=n.prototype;return o.render=function(){var e=this.props,n=e.className,o=e.rootStyle,r=e.clDiv,s=void 0===r?nt:r,i=e.clCaption,a=e.isPrimary,c=e.title,l=void 0===c?"":c,u=e.caption,p=e.accessKey,h=e.children,f=a?d()({},o,rt):o,m=n?et+" "+n:et,v=i?ot+" "+i:ot,_=p?l+" ["+p+"]":l;return(0,t.jsx)("button",{ref:this._refNode,className:m,style:f,accessKey:p,tabIndex:0,title:_,onClick:this._hClick,children:(0,t.jsxs)("div",{className:s,children:[(0,t.jsx)(tt,{className:v,caption:u,accessKey:p}),h]})})},o.focus=function(){this.rootNode.focus()},n}(V.Component);it.defaultProps={timeout:3e3};const at=it;var ct="modal-dialog",lt="md__actions",ut="show-popup",dt="hide-popup",pt={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_POPUP:{opacity:0,transform:"scaleY(0)"}},ht=function(e){function n(n){var o;return(o=e.call(this)||this)._hClickDialog=function(t){t.stopPropagation()},o._refBtClose=function(t){return o._btClose=t},o._renderCommandButton=function(){var e=o.props,n=e.commandButtons,r=e.withoutClose,s=e.onClose;return(0,t.jsxs)("div",{className:lt,children:[n,!r&&(0,t.jsx)(at,{ref:o._refBtClose,caption:"Close",timeout:0,onClick:s})]})},o.wasClosing=!1,o}W()(n,e);var o=n.prototype;return o.shouldComponentUpdate=function(t,e){return t===this.props||!t.isNotUpdate},o.focusBtClose=function(){this.props.isFocusClose&&this._btClose&&this._btClose.focus()},o.componentDidMount=function(){this.focusBtClose()},o.componentDidUpdate=function(t,e){var n=this,o=this.props,r=o.timeout,s=o.isShow;this.wasClosing&&setTimeout((function(){n.setState({})}),r),!1===t.isShow&&s&&this.focusBtClose()},o.render=function(){var e,n,o=this.props,r=o.className,s=o.style,i=o.isShow,a=o.isWithButton,c=o.caption,l=o.captionStyle,u=o.children,p=o.onClose;return this.wasClosing?(n=pt.HIDE,this.wasClosing=!1):(e=i?ct+" "+r+" "+ut:ct+" "+r+" "+dt,n=i?pt.SHOW:pt.HIDE_POPUP,i||(this.wasClosing=!0)),(0,t.jsxs)("div",{role:"dialog",className:e,style:d()({},s,n),onClick:this._hClickDialog,children:[(0,t.jsx)(J,{rootStyle:l,caption:c,onClose:p}),(0,t.jsx)("div",{children:u}),a&&this._renderCommandButton()]})},n}(V.Component);ht.defaultProps={className:"",isWithButton:!0,isNotUpdate:!1,isFocusClose:!0,timeout:450};const ft=ht;var mt="d-notif__row",vt="d-notif__caption",_t="d-notif__descr";const gt=function(e){function n(){return e.apply(this,arguments)||this}W()(n,e);var o=n.prototype;return o.shouldComponentUpdate=function(t,e){return t===this.props||t.isShow!==this.props.isShow},o.render=function(){var e=this.props,n=e.isShow,o=e.data,r=void 0===o?{}:o,s=e.TS,i=e.onClose,a=r.caption,c=void 0===a?"":a,l=r.descr,u=void 0===l?"":l;return(0,t.jsxs)(ft,{style:s.DIALOG,caption:"Notification",isShow:n,onClose:i,children:[c&&(0,t.jsx)("div",{className:mt,children:(0,t.jsx)("p",{className:vt,children:c})}),(0,t.jsx)("div",{className:mt,children:(0,t.jsx)("p",{className:_t,children:u})})]})},n}(V.Component);const bt=(0,V.createContext)();const yt=function(e){return function(n){function o(){return n.apply(this,arguments)||this}return W()(o,n),o.prototype.render=function(){var n=this;return(0,t.jsx)(bt.Consumer,{children:function(o){return(0,t.jsx)(e,d()({},n.props,{theme:o}))}})},o}(V.Component)};const Ct={themeName:void 0,style:void 0,createStyle:function(t){return{DIALOG:d()({},t.BG),SELECT:{MODAL_PANE:d()({},t.BG)}}}};var xt={app:function(t){return t.app||{}},currentBoard:function(t){return xt.app(t).boardId},boardIds:function(t){return xt.app(t).boardIds||[]},uiTheme:function(t){return xt.app(t).uiTheme}},Nt={msg:function(t){return t.drawerMsg||[]}},It={boards:function(t){return t.boards||{}},currentBoard:function(t){return It.boards(t)[xt.currentBoard(t)]||{}},board:function(t,e){return It.boards(t)[e]||{}},columnIds:function(t,e){return It.board(t,e).columnIds||[]},boardIds:function(t){return xt.boardIds(t)}},Dt=function(t){return t.noteLabels||{}},Et={columns:function(t){return t.columns||{}},column:function(t,e){return Et.columns(t)[e]||{}},noteIds:function(t,e){return Et.column(t,e).noteIds||[]}};const St={app:xt,drawer:Nt,board:It,note:{notes:function(t){return t.notes||{}}},column:Et};const jt=function(){return(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"m-select__svg-arrow",children:(0,t.jsx)("path",{d:"M7 10l5 5 5-5z"})})};var Tt=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._isEventTargetOutside=function(e){return t.rootNode&&t.rootNode.contains&&!t.rootNode.contains(e.target)},t._hClickOutside=function(e){var n=t.props.onClose;t._isEventTargetOutside(e)&&(e.stopPropagation(),n(e))},t._addOutsideListener=function(){document.addEventListener("click",t._hClickOutside,!0)},t._removeOutsideListener=function(){document.removeEventListener("click",t._hClickOutside,!0)},t._initShowMode=function(){t._addOutsideListener(),t.rootNode&&t.rootNode.focus()},t._hKeyDown=function(e){"Escape"===e.key&&(e.preventDefault(),t.props.onClose(e))},t._refRootNode=function(e){return t.rootNode=e},t}W()(n,e);var o=n.prototype;return o.componentDidMount=function(){this.props.isShow&&this._initShowMode()},o.componentWillUnmount=function(){this._removeOutsideListener()},o.componentDidUpdate=function(t){this.props!==t&&(this.props.isShow?this._initShowMode():this._removeOutsideListener())},o.render=function(){var e=this.props,n=e.className,o=e.style,r=e.children;return(0,t.jsx)("div",{ref:this._refRootNode,className:n,style:o,tabIndex:"0",onKeyDown:this._hKeyDown,children:r})},n}(V.Component);Tt.defaultProps={onClose:function(){}};const Ot=Tt;var wt={SHOW:{display:"block"},HIDE:{display:"none"}};const At=function(e){var n=e.isShow,o=e.className,r=e.style,s=e.children,i=n?wt.SHOW:wt.HIDE,a=n?"show-popup":"",c=o?o+" "+a:a||void 0;return(0,t.jsx)("div",{className:c,style:d()({},r,i),children:s})};var Rt={PANE:{position:"absolute",top:12,zIndex:20,width:"100%",paddingTop:12,paddingBottom:12,lineHeight:1.8,backgroundColor:"rgb(77, 77, 77)",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},ITEM:{lineHeight:2.2,paddingLeft:12},ITEM_CURRENT:{color:"greenyellow"}},Lt=function(e,n,o,r,s){return e.map((function(e){var s,i=e.value===n.value?d()({},Rt.ITEM,Rt.ITEM_CURRENT):Rt.ITEM,a=r.bind(null,e),c=(s=a,function(t){13===t.which&&s(t)});return(0,t.jsx)("div",{role:"button",tabIndex:"0",style:i,className:o,onClick:a,onKeyPress:c,children:e.caption},e.value)}))};const Mt=function(e){var n=e.isShow,o=e.options,r=e.item,s=e.rootStyle,i=e.clItem,a=e.onSelect,c=e.onClose;return(0,t.jsx)(Ot,{style:s,isShow:n,onClose:c,children:(0,t.jsx)(At,{isShow:n,style:d()({},Rt.PANE,s),children:Lt(o,r,i,a)})})};var Bt="m-select",kt="m-select__label",Pt="m-select__div",Ht="m-select__div__value",Gt="m-select__div__bt",Ut="m-select__line",Ft=function(e){function n(t){var n;return(n=e.call(this)||this)._handleOpen=function(){n.setState({isShow:!0})},n._handleClose=function(){n.setState({isShow:!1})},n._handleSelect=function(t,e){e.stopPropagation(),n.props.onSelect(t),n.setState({isShow:!1,item:t})},n.state={isShow:!1,item:t.initItem},n}return W()(n,e),n.prototype.render=function(){var e=this.props,n=e.caption,o=e.options,r=e.styleConfig,s=void 0===r?{}:r,i=this.state,a=i.isShow,c=i.item;return(0,t.jsxs)("div",{className:Bt,style:s.ROOT,onClick:this._handleOpen,children:[(0,t.jsx)(Mt,{rootStyle:s.MODAL_PANE,isShow:a,item:c,options:o,clItem:s.CL_ITEM,onSelect:this._handleSelect,onClose:this._handleClose}),(0,t.jsx)("label",{className:kt,children:n}),(0,t.jsxs)("div",{className:Pt,children:[(0,t.jsx)("div",{className:Ht,children:c.caption}),(0,t.jsx)("button",{className:Gt,tabIndex:"0",children:(0,t.jsx)("div",{children:(0,t.jsx)(jt,{})})}),(0,t.jsx)("div",{className:Ut})]})]})},n}(V.Component);Ft.defaultProps={initItem:{caption:"",value:""}};const Kt=Ft;var Wt={caption:"Dark",value:"DARK"},Vt=[{caption:"Dark",value:"DARK"},{caption:"Light",value:"WHITE"},{caption:"Sand",value:"SAND"}],Xt=function(t){if(!t)return Wt;var e=Vt.find((function(e){return e.value===t}));return e?d()({},e):Wt};const zt=yt(function(e){function n(t){var n;(n=e.call(this)||this)._selectTheme=function(t){var e=n.props,o=e.theme,r=e.dispatch;t.value!==o.getThemeName()&&(r(_(t.value)),n.forceUpdate())};var o=xt.uiTheme(t.store.getState());return n.state={initItem:Xt(o)},n}W()(n,e);var o=n.prototype;return o.shouldComponentUpdate=function(t,e){return t===this.props||t.isShow!==this.props.isShow},o.render=function(){var e=this.props,n=e.isShow,o=e.theme,r=e.onClose,s=this.state.initItem,i=o.createStyle(Ct);return(0,t.jsx)(ft,{className:"md-settings",style:i.DIALOG,caption:"User Settings",isShow:n,onClose:r,children:(0,t.jsx)("div",{children:(0,t.jsx)(Kt,{styleConfig:i.SELECT,caption:"UI Theme (Default: Dark)",initItem:s,options:Vt,onSelect:this._selectTheme})})})},n}(V.Component));var Yt={UL:{listStyle:"outside none none",marginTop:4,marginLeft:12,marginRight:5,marginBottom:8,textAlign:"left"},TABS:{width:"100%",height:"100%"},TAB_SELECTED:{display:"block",width:"100%",height:"100%"},NONE:{display:"none"}},qt=V.Children.toArray;const Jt=function(e){function n(n){var o;(o=e.call(this,n)||this)._hClickTab=function(t,e){o.setState({selectedTabIndex:t}),"function"==typeof e.props.onClick&&e.props.onClick()},o._renderTabs=function(t){var e=o.state.selectedTabIndex;return t.map((function(t,n){var r=n===e;return(0,V.cloneElement)(t,{key:n,onClick:o._hClickTab.bind(Q()(o),n,t),isSelected:r})}))},o._renderComponents=function(){var e=o.state,n=e.selectedTabIndex;return e.components.map((function(e,o){var r=o===n,s=r?Yt.TAB_SELECTED:Yt.NONE;return(0,t.jsx)("div",{style:s,children:(0,V.cloneElement)(e,{isSelected:r})},"a"+o)}))};var r=qt(n.children).map((function(t,e){return(0,V.cloneElement)(t.props.children,{key:"comp"+e})}));return o.state={selectedTabIndex:0,components:r},o}W()(n,e);var o=n.prototype;return o.render=function(){var e=this.props,n=e.width,o=e.height,r=e.tabsStyle,s=e.children,i=qt(s);return(0,t.jsxs)("div",{style:{width:n,height:o},children:[(0,t.jsx)("ul",{style:d()({},Yt.UL,r),children:this._renderTabs(i)}),(0,t.jsx)("div",{style:Yt.TABS,children:this._renderComponents()})]})},o.getSelectedTabIndex=function(){return this.state.selectedTabIndex},n}(V.Component);var $t="tab not-selected",Qt="tab--selected",Zt="",te=32,ee=function(t,e){return function(n){(function(t){return t.key===Zt||t.keyCode===te})(n)&&!t&&e()}};const ne=function(e){var n=e.title,o=e.isSelected,r=e.onClick,s=function(t){return t?$t+" "+Qt:$t}(o),i=function(t,e){return function(){t||e()}}(o,r),a=ee(o,r);return(0,t.jsx)("li",{role:"tab",tabIndex:0,className:s,onClick:i,onKeyDown:a,children:(0,t.jsx)("span",{children:n})})};var oe="MOVE_NOTE",re="DELETE_NOTE",se="ADD_NOTE",ie="EDIT_NOTE_TITLE",ae="EDIT_NOTE_DESCR",ce="EDIT_NOTE_LABELS",le=function(t){var e=t.draggableId,n=t.source,o=t.destination;return{type:oe,noteId:e,source:n,destination:o}},ue=function(t,e){return{type:re,columnId:t,noteId:e}},de=function(t,e){return{type:ie,noteId:t,title:e}},pe=function(t,e){return{type:se,columnId:t,noteId:e}};const he={moveNote:le,deleteNote:ue,editNoteTitle:de,editNoteDescr:function(t,e){return{type:ae,noteId:t,descr:e}},editNoteLabels:function(t,e,n,o){return{type:ce,noteId:t,labels:e,labelsTo:n,newLabels:o}},addNote:pe};var fe="Delete",me=46,ve=function(e){function n(t){var n;return(n=e.call(this,t)||this)._hChange=function(t){n.setState({value:t.target.value})},n._hKeyDown=function(t){(function(t){return t.key===fe||t.keyCode===me})(t)&&n.setState({value:""})},n._refInputNode=function(t){return n._inputNode=t},n.state={value:t.initValue},n}W()(n,e);var o=n.prototype;return o.render=function(){var e=this.props,n=e.className,o=e.style,r=e.maxLength,s=this.state.value;return(0,t.jsx)("textarea",{ref:this._refInputNode,className:n,style:o,value:s,maxLength:r,onChange:this._hChange,onKeyDown:this._hKeyDown})},o.getValue=function(){return this.state.value},o.focus=function(){this._inputNode&&this._inputNode.focus&&this._inputNode.focus()},n}(V.Component);ve.defaultProps={initValue:""};const _e=ve;const ge=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._refBtClose=function(e){return t._btClose=e},t}W()(n,e);var o=n.prototype;return o.render=function(){var e=this.props,n=e.className,o=e.onSave,r=e.onClose;return(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)(at,{caption:"Save",timeout:100,onClick:o}),(0,t.jsx)(at,{ref:this._refBtClose,caption:"Close",timeout:0,onClick:r})]})},o.focusBtClose=function(){this._btClose&&this._btClose.focus&&this._btClose.focus()},n}(V.Component);const be=function(t){return"object"!=typeof t||null==t?"This note is not exist.":t.descr||"Edit description..."};var ye="md-details__descr",Ce="md__actions";const xe=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._focusBtClose=function(){t.props.isSelected&&t._buttons&&t._buttons.focusBtClose()},t._editDescr=function(){var e=t.props,n=e.note,o=e.dispatch,r=t._inputDescr.getValue();o(he.editNoteDescr(n.id,r))},t._refInputDescr=function(e){return t._inputDescr=e},t._refButtons=function(e){return t._buttons=e},t}W()(n,e);var o=n.prototype;return o.componentDidMount=function(){this._focusBtClose()},o.render=function(){var e=this.props,n=e.note,o=e.onClose,r=be(n);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_e,{ref:this._refInputDescr,className:ye,maxLength:250,initValue:r},n.id),(0,t.jsx)(ge,{ref:this._refButtons,className:Ce,onSave:this._editDescr,onClose:o})]})},o.componentDidUpdate=function(t){this.props!==t&&this.props.isSelected&&this._focusBtClose()},n}(V.Component);const Ne=function(e){var n=e.className,o=e.clClose,r=e.item,s=e.onRemove;return(0,t.jsxs)("button",{className:n,style:{backgroundColor:r.color},onClick:s,children:[r.title,s&&(0,t.jsx)("span",{className:o,children:"x"})]})};const Ie={HEADER:"header",LOGO:"header__logo-notes",TITLE_GAP:"header__title-gap",LOGO_BOARD:"header-board__logo_notes",HEADER_TITLE:"header__title",TITLE_BOARD:"header-board__title",CONT:"container-list",MODAL_PANE:"modal-pane",MD_ACTIONS:"md__actions",ITEM_CARD:"card",CARD_TITLE:"card__title",CARD_BT:"bt__card",NOTE_LABEL:"note__label",NOTE_LABEL_CLOSE:"note__label__close",INPUT:"input-text",BT_CIRCLE:"bt-circle",NAV_LINK:"nav-link",ML_8:"ml-8"};var De={ROOT:{paddingBottom:4}},Ee=function(e){var n=e.labels,o=e.onRemove;return(0,t.jsx)("div",{style:De.ROOT,children:n.map((function(e){return(0,t.jsx)(Ne,{className:Ie.NOTE_LABEL,clClose:Ie.NOTE_LABEL_CLOSE,item:e,onRemove:o?o.bind(null,e):void 0},e.id||e.title)}))})};Ee.defaultProps={labels:[]};const Se=Ee;var je="Enter",Te=13,Oe="Delete",we=46,Ae=function(t){return t.key===je||t.keyCode===Te},Re=function(t){return t.key===Oe||t.keyCode===we},Le=function(t){return{value:t.value}},Me=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state=Le(t.props),t._hChange=function(e){var n=e.target.value;n.length<=t.props.maxLength&&t.setState({value:n})},t._hKeyDown=function(e){if(Ae(e)){var n=document.activeElement;n&&"function"==typeof n.blur&&n.blur()}else Re(e)&&t.setState({value:""})},t}W()(n,e);var o=n.prototype;return o.render=function(){var e=this.props,n=e.className,o=e.style,r=e.onBlur,s=n?Ie.INPUT+" "+n:Ie.INPUT,i=this.state.value;return(0,t.jsx)("input",{type:"text",className:s,style:o,value:i,onChange:this._hChange,onBlur:r,onKeyDown:this._hKeyDown})},o.setValue=function(t){this.setState({value:t})},n}(V.Component);Me.defaultProps={className:"",maxLength:40};const Be=Me;var ke=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._refCellNode=function(e){return t.cellNode=e},t}W()(n,e);var o=n.prototype;return o.componentDidMount=function(){var t=this.props.onReg;"function"==typeof t&&t(this.cellNode)},o.render=function(){var e=this.props,n=e.tabIndex,o=e.style,r=e.color,s=e.onClick,i=e.children,a=r?{backgroundColor:r}:void 0,c=s?s.bind(null,r):void 0;return(0,t.jsx)("button",{ref:this._refCellNode,tabIndex:n,style:d()({},o,a),onClick:c,children:i})},n}(V.Component);ke.defaultProps={tabIndex:"-1"};const Pe=ke;var He=["#8abb5d","#f7a35c","#795548","#f45b5b","#d2b772","#dda0dd"],Ge=["#f1d600","#008b8b","#2f7ed8","#000000","#607d8b","#7092be"],Ue={ROOT:{paddingBottom:4},ROW2:{paddingLeft:56,paddingTop:4},TO_CELL:{marginLeft:12,marginRight:12},CELL:{marginRight:4,position:"relative",display:"inline-block",height:32,width:32,borderRadius:2,verticalAlign:"bottom",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"}},Fe=function(t){return t.initColor||"#2f7ed8"};const Ke=function(e){function n(n){var o;return(o=e.call(this)||this)._hInit=function(){o.setState({color:Fe(o.props)})},o._hClick=function(t){t&&o.setState({color:t})},o._renderColors=function(e,n){return e.map((function(e){return(0,t.jsx)(Pe,{color:e,style:Ue.CELL,onClick:o._hClick},e)}))},o.state={color:Fe(n)},o}W()(n,e);var o=n.prototype;return o.componentDidMount=function(){var t=this.props.onReg;"function"==typeof t&&t(this)},o.render=function(){var e=this.state.color;return(0,t.jsxs)("div",{style:Ue.ROOT,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(Pe,{color:e,style:d()({},Ue.CELL,Ue.TO_CELL),onClick:this._hInit}),this._renderColors(He)]}),(0,t.jsx)("div",{style:Ue.ROW2,children:this._renderColors(Ge)})]})},o.getColor=function(){return this.state.color},n}(V.Component);const We={toTitle:function(t){if("string"!=typeof t)return"";var e=t.trim();return e&&e.length>1?e[0].toUpperCase()+e.substring(1).trim():e},addLabel:function(t,e,n){var o=t.labels;return!e||o.find((function(t){return t.title===e}))?null:{labels:[].concat(o,[{title:e,color:n}])}},removeLabel:function(t,e){return{labels:t.labels.filter((function(t){return t.title!==e.title}))}}};var Ve=We.toTitle,Xe=We.addLabel,ze=We.removeLabel,Ye={LABELS:{paddingTop:4,paddingLeft:12,paddingBottom:8},BT_ADD:{marginLeft:16}};const qe=function(e){function n(t){var n;return(n=e.call(this,t)||this)._focusBtClose=function(){n.props.isSelected&&n._buttons&&n._buttons.focusBtClose()},n._onBlurLabel=function(t){n._label=t.target.value},n._onAddLabel=function(){n.setState((function(t){return Xe(t,Ve(n._label),n._inputColor.getColor())}),(function(){return n._inputLabel.setValue("")}))},n._onRemoveLabel=function(t){n.setState((function(e){return ze(e,t)}))},n._saveLabels=function(){var t=n.props,e=t.note;(0,t.dispatch)(he.editNoteLabels(e.id,n.state.labels))},n._refInputLabel=function(t){return n._inputLabel=t},n._refInputColor=function(t){return n._inputColor=t},n._refButtons=function(t){return n._buttons=t},n.state={labels:t.note.labels||[]},n}W()(n,e);var o=n.prototype;return o.componentDidMount=function(){this._focusBtClose()},o.render=function(){var e=this.props.onClose,n=this.state.labels;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:Ye.LABELS,children:[(0,t.jsx)(Se,{labels:n,onRemove:this._onRemoveLabel}),(0,t.jsx)(Be,{ref:this._refInputLabel,onBlur:this._onBlurLabel}),(0,t.jsx)(at,{clCaption:Ie.CARD_BT,rootStyle:Ye.BT_ADD,caption:"AddLabel",title:"Click to add a new label",timeout:400,onClick:this._onAddLabel})]}),(0,t.jsx)(Ke,{ref:this._refInputColor}),(0,t.jsx)(ge,{ref:this._refButtons,className:Ie.MD_ACTIONS,onSave:this._saveLabels,onClose:e})]})},o.componentDidUpdate=function(t){this.props!==t&&this.props.isSelected&&this._focusBtClose()},n}(V.Component);var Je="md-details",$e={CAPTION:{marginBottom:0}};const Qe=yt(function(e){function n(){return e.apply(this,arguments)||this}W()(n,e);var o=n.prototype;return o.shouldComponentUpdate=function(t,e){return t===this.props||t.isShow!==this.props.isShow},o.render=function(){var e,n,o,r=this.props,s=r.isShow,i=r.theme,a=r.data,c=r.dispatch,l=r.onClose,u=(e=a.title,"Details: "+(o=(n=void 0===e?"":e).substring(0,12))+(n.length>o.length?"...":"")),d=i.createStyle(Ct);return(0,t.jsx)(ft,{className:Je,style:d.DIALOG,captionStyle:$e.CAPTION,caption:u,isShow:s,withoutClose:!0,onClose:l,children:(0,t.jsxs)(Jt,{width:"100%",children:[(0,t.jsx)(ne,{title:"Descr",children:(0,t.jsx)(xe,{note:a,dispatch:c,onClose:l})}),(0,t.jsx)(ne,{title:"Labels",children:(0,t.jsx)(qe,{note:a,dispatch:c,onClose:l})})]},a.id)})},n}(V.Component));var Ze,tn="NOTIF",en="SETTINGS",nn="DETAILS",on=((Ze={DF:gt})[tn]=gt,Ze[en]=zt,Ze[nn]=Qe,Ze);const rn={getDialog:function(t){return on[t]||on.DF}};var sn="SHOW_MODAL",an=function(t,e){return{type:sn,id:t,data:e}},cn=an.bind(null,nn),ln=an.bind(null,en),un=an.bind(null,tn);const dn={showModal:an,showDetails:cn};const pn=function(t,e){switch(void 0===t&&(t=E.modal),e.type){case sn:var n=e.id,o=e.data;return d()({},t,{id:n,data:o});default:return t}};var hn="EDIT_COLUMN_TITLE",fn="ADD_COLUMN",mn="REMOVE_COLUMN",vn="TOGGLE_COLUMN",_n="MOVE_COLUMN",gn=function(t,e){return{type:hn,columnId:t,title:e}},bn=function(t,e){return{type:fn,boardId:t,columnId:e}},yn=function(t,e){return{type:mn,boardId:t,columnId:e}},Cn=function(t){return{type:vn,columnId:t}},xn=function(t){var e=t.draggableId,n=t.source,o=t.destination;return{type:_n,columnId:e,source:n,destination:o}};const Nn={editColumnTitle:gn,addColumn:bn,removeColumn:yn,toggleColumn:Cn,moveColumn:xn};const In=function(t){return function(e,n){var o;return d()({},e,((o={})[t]=n,o))}};var Dn=function(t,e){return function(n,o,r,s,i){var a,c=[].concat(i[t]);return c.splice(r.index,1),c.splice(s.index,0,o),d()({},n,((a={})[i.id]=e(i,c),a))}},En=function(t,e){return function(n,o,r,s,i,a){var c,l=[].concat(i[t]);l.splice(r.index,1);var u=[].concat(a[t]);return u.splice(s.index,0,o),d()({},n,((c={})[i.id]=e(i,l),c[a.id]=e(a,u),c))}};const Sn=function(t){var e=In(t);return{idsTo:e,moveInternal:Dn(t,e),moveExternal:En(t,e)}};var jn=T,Tn=j,On=S,wn=Sn("columnIds"),An=wn.moveInternal,Rn=wn.moveExternal;const Ln=function(t,e){switch(void 0===t&&(t=E.boards),e.type){case g:var n=e.boardId,o=e.title,r=d()({},t[n],{title:o});return jn(t,n,r);case y:var s=e.boardId;return jn(t,s,{id:s,title:"New Board",columnIds:[]});case C:var i=e.boardId;return Tn(t,i);case fn:var a=e.boardId,c=e.columnId,l=t[a],u=d()({},l,{columnIds:[].concat(l.columnIds,[c])});return jn(t,a,u);case mn:var p=e.boardId,h=e.columnId,f=t[p];return jn(t,p,d()({},f,{columnIds:On(f.columnIds,h)}));case _n:var m=e.columnId,v=e.source,_=e.destination,b=t[v.droppableId],x=t[_.droppableId];return b===x?An(t,m,v,_,b):Rn(t,m,v,_,b,x);default:return t}};var Mn=T,Bn=j;const kn=function(t,e){switch(void 0===t&&(t=E.notes),e.type){case ie:var n=e.noteId,o=e.title,r=t[n],s=d()({},r,{title:o});return Mn(t,n,s);case ae:var i=e.noteId,a=e.descr,c=t[i],l=d()({},c,{descr:a});return Mn(t,i,l);case ce:var u=e.noteId,p=e.labelsTo,h=t[u],f=d()({},h,{labels:p});return Mn(t,u,f);case se:var m,v=e.noteId;return d()({},t,((m={})[v]=function(t){return{id:t,title:"New Note"}}(v),m));case re:var _=e.noteId;return Bn(t,_);default:return t}};const Pn=function(t,e){switch(void 0===t&&(t=E.noteLabels),e.type){case ce:return e.newLabels.forEach((function(e){t[e.id]=e})),d()({},t);default:return t}};var Hn=T,Gn=S,Un=j,Fn=Sn("noteIds"),Kn=Fn.idsTo,Wn=Fn.moveInternal;const Vn={setInObj:Hn,crColumn:function(t,e){return void 0===e&&(e=!0),{id:t,title:"New Topic",noteIds:[],withAdd:e}},removeProp:Un,filterNoteIds:function(t,e){return Gn(t.noteIds,e)},noteIdsTo:Kn,moveExternal:Fn.moveExternal,moveInternal:Wn};var Xn=Vn.setInObj,zn=Vn.crColumn,Yn=Vn.noteIdsTo,qn=Vn.filterNoteIds,Jn=Vn.removeProp,$n=Vn.moveExternal,Qn=Vn.moveInternal;const Zn=function(t,e){switch(void 0===t&&(t=E.columns),e.type){case hn:var n=e.columnId,o=e.title;return Xn(t,n,d()({},t[n],{title:o}));case fn:var r=e.columnId;return Xn(t,r,zn(r));case mn:var s=e.columnId;return Jn(t,s);case vn:var i=e.columnId,a=t[i];return Xn(t,i,d()({},a,{isHide:!a.isHide}));case oe:var c=e.noteId,l=e.source,u=e.destination,p=t[l.droppableId],h=t[u.droppableId];return p===h?Qn(t,c,l,u,p):$n(t,c,l,u,p,h);case re:var f=e.columnId,m=e.noteId,v=t[f],_=qn(v,m);return Xn(t,f,Yn(v,_));case se:var g=e.columnId,b=e.noteId,y=t[g],C=[b].concat(y.noteIds);return Xn(t,g,Yn(y,C));default:return t}};const to=(0,r.combineReducers)({app:A,drawerMsg:F,modal:pn,boards:Ln,notes:kn,noteLabels:Pn,columns:Zn});const eo=function(t){return void 0===t&&(t="a"),t+"-"+(Date.now().toString(36)+Math.random().toString(36).substr(2,9)).toUpperCase().substr(12)};const no=function(t){return Object.keys(t).map((function(e){return t[e]}))};var oo=[].concat([function(t){var e=t.getState,n=t.dispatch;return function(t){return function(o){if(o.type===y){if(r=e(),xt.boardIds(r).length>=l.MAX_BOARDS)return n(un(l.N_MAX_BOARDS)),!1;o=d()({},o,{boardId:eo(l.BOARDS_PREFIX)})}var r;return t(o)}}},function(t){var e=t.getState,n=t.dispatch;return function(t){return function(o){if(o.type===fn){if(function(t,e){return It.columnIds(t,e).length>=l.MAX_COLUMNS}(e(),o.boardId))return n(un(l.N_MAX_COLUMNS)),!1;o=d()({},o,{columnId:eo(l.COLUMNS_PREFIX)})}return t(o)}}},function(t){var e=t.getState,n=t.dispatch;return function(t){return function(o){if(o.type===se){if(function(t,e){return Et.noteIds(t,e).length>=l.MAX_NOTES}(e(),o.columnId))return n(un(l.N_MAX_NOTES)),!1;o=d()({},o,{noteId:eo(l.NOTES_PREFIX)})}return t(o)}}},function(t){var e=t.getState;t.dispatch;return function(t){return function(n){if(n.type===ce){var o=Dt(e());n=d()({},n,function(t,e){var n=[],o=[];if(!t||"object"!=typeof t||!Array.isArray(e))return{labelsTo:n,newLabels:o};var r=no(t);return e.forEach((function(t){if(t.id)n.push(t);else{var e=r.find(function(t){return function(e){return e.title===t.title&&e.color===t.color}}(t));e?(t.id=e.id,n.push(t)):(t.id=eo(l.NLABELS_PREFIX),n.push(t),o.push(t))}})),{labelsTo:n,newLabels:o}}(o,n.labels))}return t(n)}}},function(t){var e=t.getState,n=t.dispatch;return function(t){return function(o){switch(o.type){case p:try{return window.localStorage.setItem(l.STORAGE_KEY,JSON.stringify(d()({},e(),{drawerMsg:[],modal:{id:null,data:null}}))),n(P.addDrawerMsg(l.MSG_SAVED)),!0}catch(t){return n(P.addDrawerMsg(l.MSG_SAVE_FAIL)),console.log(t.msg),!1}case h:try{return window.localStorage.removeItem(l.STORAGE_KEY),n(P.addDrawerMsg(l.MSG_CLEANED)),!0}catch(t){return n(P.addDrawerMsg(l.MSG_CLEAN_FAIL)),console.log(t.msg),!1}default:return t(o)}}}},function(t){return function(t){return function(e){return e.type===R&&(e=d()({},e,{id:eo(l.DMSG_PREFIX)})),t(e)}}},function(t){return function(e){return function(n){if(n.type===mn){var o=Et.noteIds(t.getState(),n.columnId);if(!Array.isArray(o)||0!==o.length)return!1}return e(n)}}},function(t){return function(e){return function(n){if(n.type===C){var o=It.columnIds(t.getState(),n.boardId);if(!Array.isArray(o)||0!==o.length)return!1}return e(n)}}},function(t){return function(t){return function(e){return e.type!==ie||"string"==typeof(n=e.title)&&n.trim()?t(e):(t(d()({},e,{title:"New Note"})),!1);var n}}}]),ro=r.compose;const so=(0,r.createStore)(to,function(){var t;try{var e=window.localStorage.getItem(l.STORAGE_KEY);e&&(t=JSON.parse(e))}catch(t){console.log(t.msg)}return t||E}(),ro(r.applyMiddleware.apply(void 0,oo)));var io,ao=n(21),co={BG:{},ITEM:{}},lo=Object.assign,uo=[function(t,e){document.body.style.backgroundColor=e.BG_BODY},function(t,e){lo(t.BG,{backgroundColor:e.BG})},function(t,e){lo(t.ITEM,{backgroundColor:e.BG,border:"1px solid "+e.BG})}],po={DEFAULT:"DARK",DARK:"DARK",WHITE:"WHITE",SAND:"SAND"},ho=((io={})[po.DARK]={pallete:{BG_BODY:"#5f5f5f",BG:"#4d4d4d",BG_HEADER:"#3a6799",C_HEADER:"#8a8a8a"},clSuffix:""},io[po.WHITE]={pallete:{BG_BODY:"#d2d2d2",BG:"#ebf1f5",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--white"},io[po.SAND]={pallete:{BG_BODY:"darkgrey",BG:"#e8e0cb",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--sand"},io),fo={},mo=function(t){var e,n=ho[t],o=n.clSuffix,r=n.pallete;void 0===(e=o)&&(e=""),Object.keys(fo).forEach((function(t){co[t]=fo[t]+e})),function(t,e){uo.forEach((function(n){return n(t,e)}))}(co,r)},vo={themeName:po.DEFAULT,_init:function(){this.setThemeName(po.DEFAULT)},getThemeName:function(){return this.themeName},setThemeName:function(t){this.themeName=po[t]||po.DEFAULT,mo(this.themeName)},createStyle:function(t){return this.themeName!==t.themeName&&(t.style=t.createStyle(co,this.themeName),t.themeName=this.themeName),t.style}};vo._init();const _o=vo;var go=n(806);const bo=function(t){if(!t||"object"!=typeof t)return!1;var e=t.destination,n=t.source;return!e||!n||e.droppableId===n.droppableId&&e.index===n.index};const yo={themeName:void 0,style:void 0,createStyle:function(t){return{COMP:d()({},t.BG)}}};const Co=yt((function(e){var n=e.className,o=e.style,r=e.theme,s=e.children,i=r.createStyle(yo);return(0,t.jsx)("header",{className:n,style:d()({},o,i.COMP),children:s})}));var xo="drawer-bt",No="drawer-left",Io="drawer-modal",Do={BT_DRAWER:{width:"auto",height:"auto"},DRAWER_OFF:{transform:"translateX(-264px)",pointerEvents:"none"},DRAWER_ON:{transform:"translate(0px, 0px)"},MODAL_OFF:{opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},MODAL_ON:{opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}};const Eo=yt(function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={isOpen:!1},t._hToggle=function(){t.setState((function(t){return{isOpen:!t.isOpen}}))},t}return W()(n,e),n.prototype.render=function(){var e=this.props,n=e.btStyle,o=e.theme,r=e.captionComp,s=e.children,i=this.state.isOpen,a=i?Do.DRAWER_ON:Do.DRAWER_OFF,c=i?Do.MODAL_ON:Do.MODAL_OFF,l=i?this._hToggle:void 0,u=o.createStyle(yo);return[(0,t.jsx)("button",{className:xo,style:d()({},Do.BT_DRAWER,n),"aria-label":"Open Drawer",onClick:this._hToggle,children:r},"bt-drawer"),(0,t.jsx)("div",{"aria-hidden":!i,className:Io,style:c,onClick:l},"wrapper"),(0,t.jsx)("aside",{className:No,style:d()({},a,u.COMP),children:s},"aside")]},n}(V.Component));const So=function(e){var n=e.className,o=void 0===n?Ie.LOGO:n,r=e.style,s=e.title,i=void 0===s?"Logo of web app Notes v0.2.0":s;return(0,t.jsx)("span",{className:o,style:r,title:i,children:(0,t.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,t.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,t.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,t.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})};const jo=function(t,e){return void 0===e&&(e="Notes"),null==t?e+": Not Exist":e+": "+(t.title||"")+" ("+(Array.isArray(t.columnIds)?t.columnIds.length:0)+")"};const To=(0,o.connect)((function(t){return{board:St.board.currentBoard(t)}}))((function(e){var n=e.board;return[(0,t.jsx)(So,{className:Ie.LOGO_BOARD},"logo"),(0,t.jsx)("span",{className:Ie.HEADER_TITLE+" "+Ie.TITLE_BOARD,children:jo(n)},"title")]})),Oo="drawer__title",wo="drawer__list",Ao="drawer__list-bt",Ro="drawer__list-bt__badge";const Lo=function(e){var n=e.board;return(0,t.jsx)("div",{className:Oo,children:jo(n,"Topics")})};var Mo="hide",Bo="show",ko={LI:{position:"relative"}},Po=function(e){var n=e.isHide;return(0,t.jsx)("span",{className:Ro,children:n?"H":"S"})},Ho=function(e){var n=e.topic,o=e.onClick,r=n.isHide,s=n.title,i="Click to "+(r?Bo:Mo)+" topic";return(0,t.jsxs)("li",{style:ko.LI,children:[(0,t.jsx)(at,{className:Ao,caption:s,title:i,timeout:0,onClick:o}),(0,t.jsx)(Po,{isHide:r})]})};Ho.defaultProps={topic:{}};const Go=Ho;var Uo={UL:{listStyleType:"none"}},Fo=function(e){var n=e.board,o=e.columns,r=e.toggleColumn,s=n.columnIds;return(void 0===s?[]:s).map((function(e){return(0,t.jsx)(Go,{topic:o[e],onClick:r.bind(null,e)},e)}))},Ko=function(e){return(0,t.jsx)("ul",{style:Uo.UL,children:Fo(e)})};Ko.defaultProps={toggleColumn:function(){}};const Wo=Ko;var Vo="drawer__msg-ul",Xo="drawer__msg-li",zo="drawer__msg-bt",Yo={removeDrawerMsg:k};const qo=(0,o.connect)((function(t){return{items:Nt.msg(t)}}),Yo)((function(e){var n=e.items,o=e.removeDrawerMsg;return(0,t.jsx)("ul",{className:Vo,children:n.map((function(e){return(0,t.jsx)("li",{className:Xo,children:(0,t.jsx)("button",{className:zo,onClick:o.bind(null,e.id),children:e.msg})},e.id)}))})}));var Jo={toggleColumn:Nn.toggleColumn};const $o=(0,o.connect)((function(t){return{board:St.board.currentBoard(t),columns:St.column.columns(t)}}),Jo)((function(e){var n=e.board,o=e.columns,r=e.toggleColumn;return(0,t.jsxs)("div",{className:wo,children:[(0,t.jsx)(Lo,{board:n}),(0,t.jsx)(Wo,{board:n,columns:o,toggleColumn:r}),(0,t.jsx)(qo,{})]})}));const Qo=function(){return(0,t.jsx)(Eo,{captionComp:(0,t.jsx)(To,{}),children:(0,t.jsx)($o,{})})};var Zo="drawer-bt",tr="drawer-span",er="drawer-svg",nr="drawer",or="drawer-modal",rr={BT_DRAWER:{position:"absolute",top:4,right:16},DRAWER_OFF:{transform:"translateX(264px)",pointerEvents:"none"},DRAWER_ON:{transform:"translate(0px, 0px)"},MODAL_OFF:{opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},MODAL_ON:{opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}};const sr=yt(function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={isOpen:!1},t._hToggle=function(){t.setState((function(t){return{isOpen:!t.isOpen}}))},t}return W()(n,e),n.prototype.render=function(){var e=this.props,n=e.btStyle,o=e.theme,r=e.children,s=this.state.isOpen,i=s?rr.DRAWER_ON:rr.DRAWER_OFF,a=s?rr.MODAL_ON:rr.MODAL_OFF,c=s?this._hToggle:void 0,l=o.createStyle(yo);return[(0,t.jsx)("button",{className:Zo,style:d()({},rr.BT_DRAWER,n),"aria-label":"Open Drawer",onClick:this._hToggle,children:(0,t.jsx)("span",{className:tr,children:(0,t.jsxs)("svg",{className:er,focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,t.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,t.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})})},"bt-drawer"),(0,t.jsx)("div",{"aria-hidden":!s,className:or,style:a,onClick:c},"wrapper"),(0,t.jsx)("aside",{className:nr,style:d()({},i,l.COMP),children:r},"aside")]},n}(V.Component));var ir="header__title",ar="drawer__list",cr="drawer__list-bt",lr={HEADER:{marginLeft:16,paddingTop:16,paddingBottom:8},UL:{listStyleType:"none"}},ur={showSettings:ln,saveBoard:m,cleanStorage:v};const dr=(0,o.connect)(null,ur)((function(e){var n=e.showSettings,o=e.saveBoard,r=e.cleanStorage;return(0,t.jsxs)("div",{className:ar,children:[(0,t.jsx)("div",{className:ir,style:lr.HEADER,children:"Web App Notes v0.2.0"}),(0,t.jsxs)("ul",{style:lr.UL,children:[(0,t.jsx)("li",{children:(0,t.jsx)(at,{className:cr,caption:"User Settings",title:"Click to open user settings dialog",onClick:n})}),(0,t.jsx)("li",{children:(0,t.jsx)(at,{className:cr,caption:"Save Boards",title:"Click to save boards to localStorage",onClick:o})}),(0,t.jsx)("li",{children:(0,t.jsx)(at,{className:cr,caption:"Clean Storage",title:"Click to remove boards from localStorage",onClick:r})})]}),(0,t.jsx)(qo,{})]})}));const pr=function(){return(0,t.jsx)(sr,{children:(0,t.jsx)(dr,{})})};const hr=function(e){var n=e.addColumn;return(0,t.jsxs)(Co,{className:Ie.HEADER,children:[(0,t.jsx)(Qo,{}),(0,t.jsx)(at,{caption:"Add Topic",title:"Click to add topic to board",accessKey:"a",timeout:500,onClick:n}),(0,t.jsx)("nav",{children:(0,t.jsx)(ao.NavLink,{to:"/boards",className:Ie.NAV_LINK+" "+Ie.ML_8,children:"ToBoards"})}),(0,t.jsx)(pr,{})]})};const fr=function(e){var n=e.children;return(0,t.jsx)("main",{className:Ie.CONT,children:n})};const mr=function(t){return!Array.isArray(t)||0===t.length};var vr=function(e){var n=e.className,o=e.style,r=e.svgStyle,s=e.title,i=e.onClick;return(0,t.jsx)("button",{className:"bt-svg-more "+n,style:o,title:s,onClick:i,children:(0,t.jsxs)("svg",{style:r,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,t.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,t.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})};vr.defaultProps={className:""};const _r=vr;var gr={BT:{paddingLeft:8,width:"100%",textAlign:"left"}};const br=yt((function(e){var n=e.style,o=e.theme,r=e.isShow,s=e.onHideTopic,i=e.onAddNote,a=e.onClose,c=o.createStyle(yo);return(0,t.jsxs)(Ot,{className:Ie.MODAL_PANE,style:d()({},n,c.COMP),isShow:r,onClose:a,children:[(0,t.jsx)(at,{rootStyle:gr.BT,caption:"Hide Topic",title:"Click to hide Topic",onClick:s}),(0,t.jsx)(at,{rootStyle:gr.BT,caption:"Add Note",title:"Click to add new Note",timeout:100,onClick:i})]})}));const yr={themeName:void 0,style:void 0,createStyle:function(t){return{ITEM:d()({},t.ITEM)}}};var Cr={display:"none"};const xr=yt((function(e){var n=e.isHide,o=e.theme,r=e.children,s=o.createStyle(yr),i=n?d()({},s.ITEM,Cr):s.ITEM;return(0,t.jsx)("section",{className:Ie.ITEM_CARD,style:i,children:r})}));var Nr={display:"inline-block",fontWeight:600,paddingLeft:12};const Ir={Item:xr,Title:function(e){return(0,t.jsx)(Be,d()({className:Ie.CARD_TITLE},e))},Counter:function(e){var n=e.style,o=e.value;return(0,t.jsx)("span",{style:d()({},Nr,n),children:o})},BtCircle:function(e){var n=e.style,o=e.caption,r=e.title,s=e.tabIndex,i=void 0===s?"-1":s,a=e.onClick;return(0,t.jsx)("button",{className:Ie.BT_CIRCLE,style:n,tabIndex:i,title:r,onClick:a,children:o})}};var Dr=n(316),Er=n.n(Dr),Sr={ROOT:{minHeight:100},DRAGGING_OVER:{border:"2px dashed lightgreen"},NOT_DRAGGING_OVER:{border:"2px dashed transparent"}};const jr=function(e){var n=e.className,o=e.style,r=e.innerRef,s=e.isDraggingOver,i=e.notDraggingStyle,a=e.children,c=Er()(e,["className","style","innerRef","isDraggingOver","notDraggingStyle","children"]),l=function(t,e){return t?Sr.DRAGGING_OVER:e||Sr.NOT_DRAGGING_OVER}(s,i);return(0,t.jsx)("div",d()({},c,{ref:r,className:n,style:d()({},Sr.ROOT,o,l),children:a}))};var Tr=function(e,n){return function(o){var r=o.draggableProps,s=o.innerRef,i=o.isDragging,a=o.dragHandleProps,c=Er()(o,["draggableProps","innerRef","isDragging","dragHandleProps"]),l=n||{},u=l.dragBg,p=l.notDragBg,h=l.isDragHanlerProps,f=r.style,m=Er()(r,["style"]),v=function(t,e,n){return void 0===e&&(e="#1e90ff"),void 0===n&&(n="transparent"),{backgroundColor:t?e:n}}(i,u,p),_=h?void 0:a;return(0,t.jsx)("div",d()({ref:s,style:d()({},f,v)},m,_,{children:(0,t.jsx)(e,d()({dragHandleProps:h?a:void 0},c))}))}};const Or=function(t,e){return"function"==typeof t?Tr(t,e):function(e){return Tr(e,t)}};var wr="note__handle",Ar="note__handle--open";const Rr=function(e){var n=e.isDetails,o=Er()(e,["isDetails"]),r=n?wr+" "+Ar:wr;return(0,t.jsx)("span",d()({className:r},o))};var Lr={BT:{paddingLeft:8,width:"100%",textAlign:"left"}};const Mr=yt((function(e){var n=e.theme,o=e.className,r=e.style,s=e.isShow,i=e.onClose,a=e.onEdit,c=e.onRemove,l=n.createStyle(yo);return(0,t.jsxs)(Ot,{className:Ie.MODAL_PANE+" "+(o||""),style:d()({},r,l.COMP),isShow:s,onClose:i,children:[(0,t.jsx)(at,{rootStyle:Lr.BT,caption:"Edit Details",onClick:a}),(0,t.jsx)(at,{rootStyle:Lr.BT,caption:"Remove Note",onClick:c})]})}));var Br="note__caption",kr="note__bt-more",Pr="note__menu-more";const Hr=function(e){var n=e.dragHandleProps,o=e.isDetails,r=e.onClickHandle,s=e.noteTitle,i=e.onBlurTitle,a=e.isMenuMore,c=e.onClickMenuMore,l=e.onCloseMenuMore,u=e.onEditDetails,p=e.onRemoveNote;return(0,t.jsxs)("div",{children:[(0,t.jsx)(Rr,d()({},n,{isDetails:o,onClick:r})),(0,t.jsx)(Be,{className:Br,value:s,onBlur:i}),(0,t.jsx)(_r,{className:kr,title:"Click to open note menu",onClick:c}),a&&(0,t.jsx)(Mr,{isShow:a,className:Pr,onClose:l,onEdit:u,onRemove:p})]})};const Gr=function(e){var n=e.isShow,o=e.note,r=e.editDetails,s=be(o);return(0,t.jsx)(At,{className:"note__details",isShow:n,children:(0,t.jsxs)("div",{onClick:r,children:[(0,t.jsx)(Se,{labels:o.labels}),(0,t.jsx)("div",{children:s})]})})};var Ur=function(e){function n(t){var n;return(n=e.call(this,t)||this)._openMenuMore=function(){n.state.isMenuMore||n.setState({isMenuMore:!0})},n._closeMenuMore=function(){n.setState({isMenuMore:!1})},n._deleteNote=function(){var t=n.props;(0,t.deleteNote)(t.columnId,t.note.id)},n._blurTitle=function(t){var e=t.target.value,o=n.props,r=o.note,s=o.editNoteTitle;e!==r.title&&s(r.id,e)},n._toggleDetails=function(){n.setState((function(t){return{isDetails:!t.isDetails}}))},n._editDetails=function(){var t=n.props,e=t.note;(0,t.editDetails)(e)},n.state=function(t){return{noteTitle:t.note.title,isMenuMore:!1,isDetails:!1}}(t),n}return W()(n,e),n.prototype.render=function(){var e=this.props,n=e.dragHandleProps,o=e.note,r=this.state,s=r.noteTitle,i=r.isMenuMore,a=r.isDetails;return(0,t.jsxs)("div",{className:"note",id:o.id,children:[(0,t.jsx)(Hr,{dragHandleProps:n,isDetails:a,onClickHandle:this._toggleDetails,noteTitle:s,onBlurTitle:this._blurTitle,isMenuMore:i,onClickMenuMore:this._openMenuMore,onCloseMenuMore:this._closeMenuMore,onEditDetails:this._editDetails,onRemoveNote:this._deleteNote}),(0,t.jsx)(Gr,{isShow:a,note:o,editDetails:this._editDetails})]})},n}(V.Component),Fr={deleteNote:ue,editNoteTitle:de,editDetails:dn.showDetails};const Kr=(0,o.connect)(null,Fr)(Ur);var Wr=Or({notDragBg:"#9e9e9e",isDragHanlerProps:!0})(Kr);Wr.displayName="DnDNote";const Vr=Wr;var Xr={ROOT:{minHeight:50},NOT_DRAGGING_OVER:{border:"2px solid #9e9e9e"}};const zr=function(e){var n=e.cId,o=e.noteIds,r=e.notes;return(0,t.jsx)(go.Droppable,{droppableId:n,children:function(e,s){return function(e){var n=e.provided,o=e.snapshot,r=e.noteIds,s=e.notes,i=e.cId;return(0,t.jsxs)(jr,d()({},n.droppableProps,{innerRef:n.innerRef,isDraggingOver:o.isDraggingOver,style:Xr.ROOT,notDraggingStyle:Xr.NOT_DRAGGING_OVER,children:[r.map((function(e,n){return(0,t.jsx)(go.Draggable,{draggableId:e,index:n,children:function(n,o){return(0,t.jsx)(Vr,{draggableProps:n.draggableProps,innerRef:n.innerRef,isDragging:o.isDragging,dragHandleProps:n.dragHandleProps,note:s[e],columnId:i})}},e)})),n.placeholder]}))}({provided:e,snapshot:s,noteIds:o,notes:r,cId:n})}})};var Yr={SVG_MORE:{marginRight:8},MENU_MORE:{position:"absolute",width:150}},qr=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={isMenuMore:!1},t._openMenuMore=function(){t.state.isMenuMore||t.setState({isMenuMore:!0})},t._closeMenuMore=function(){t.setState({isMenuMore:!1})},t._hHideTopic=function(){var e=t.props;(0,e.toggleColumn)(e.column.id)},t._hAddNewTask=function(){var e=t.props,n=e.column;(0,e.addNote)(n.id)},t._hBlurTitle=function(e){var n=t.props,o=n.column;(0,n.editColumnTitle)(o.id,e.target.value)},t._hRemoveColumn=function(){var e=t.props,n=e.boardId,o=e.column;(0,e.removeColumn)(n,o.id)},t}return W()(n,e),n.prototype.render=function(){var e=this.state.isMenuMore,n=this.props,o=n.column,r=n.notes,s=o.id,i=o.isHide,a=o.title,c=o.withAdd,l=o.noteIds;return(0,t.jsxs)(Ir.Item,{isHide:i,children:[(0,t.jsx)(_r,{style:Yr.SVG_MORE,title:"Click to open topic menu",onClick:this._openMenuMore}),e&&(0,t.jsx)(br,{style:Yr.MENU_MORE,isShow:e,onAddNote:this._hAddNewTask,onHideTopic:this._hHideTopic,onClose:this._closeMenuMore}),(0,t.jsx)(Ir.Title,{value:a,onBlur:this._hBlurTitle}),(0,t.jsx)(Ir.Counter,{value:l.length}),c&&(0,t.jsx)(at,{clCaption:Ie.CARD_BT,caption:"AddNote",title:"Click to add a new note",timeout:1e3,onClick:this._hAddNewTask}),(0,t.jsx)(zr,{cId:s,noteIds:l,notes:r}),(0,t.jsx)("div",{children:mr(l)&&(0,t.jsx)(at,{clCaption:Ie.CARD_BT,caption:"Remove Topic",onClick:this._hRemoveColumn})})]})},n}(V.Component),Jr={editColumnTitle:gn,removeColumn:yn,toggleColumn:Cn};const $r=(0,o.connect)(null,Jr)(qr);var Qr=function(e){function n(){for(var n,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this)._hDragEnd=function(t){bo(t)||n.props.moveNote(t)},n._renderColumns=function(e,n,o,r){return e.columnIds.map((function(s){var i=n[s];return(0,t.jsx)($r,{boardId:e.id,column:i,notes:o,addNote:r},i.id)}))},n._hAddColumn=function(){var t=n.props;(0,t.addColumn)(t.board.id)},n}return W()(n,e),n.prototype.render=function(){var e=this.props,n=e.board,o=e.notes,r=e.columns,s=e.addNote;return[(0,t.jsx)(hr,{addColumn:this._hAddColumn},"header"),(0,t.jsx)(go.DragDropContext,{onDragEnd:this._hDragEnd,children:(0,t.jsx)(fr,{children:this._renderColumns(n,r,o,s)})},"ddc")]},n}(V.Component),Zr={moveNote:le,addNote:pe,addColumn:bn};const ts=(0,o.connect)((function(t){return{board:St.board.currentBoard(t),notes:St.note.notes(t),columns:St.column.columns(t)}}),Zr)(Qr);var es={addBoard:I};const ns=(0,o.connect)(null,es)((function(e){var n=e.style,o=e.addBoard;return(0,t.jsxs)(Co,{className:Ie.HEADER,style:n,children:[(0,t.jsx)(So,{}),(0,t.jsx)("span",{className:Ie.TITLE_GAP}),(0,t.jsx)("span",{className:Ie.HEADER_TITLE,children:"Notes: Boards"}),(0,t.jsx)(at,{caption:"Add Board",title:"Click to add new board",accessKey:"a",timeout:200,onClick:o}),(0,t.jsx)(pr,{})]})}));var os={TOPIC:{paddingLeft:12,lineHeight:2},COUNTER:{float:"right",paddingRight:12}};var rs=Or((function(e){var n=e.title,o=e.count;return(0,t.jsxs)("div",{style:os.TOPIC,children:[(0,t.jsx)("span",{children:n}),(0,t.jsx)(Ir.Counter,{style:os.COUNTER,value:o})]})}));rs.displayName="DnDTopic";const ss=rs;const is=function(e){var n=e.id,o=e.columnIds,r=e.columns;return(0,t.jsx)(go.Droppable,{droppableId:n,children:function(e,n){return function(e){var n=e.provided,o=e.snapshot,r=e.columnIds,s=e.columns;return(0,t.jsxs)(jr,d()({},n.droppableProps,{innerRef:n.innerRef,isDraggingOver:o.isDraggingOver,children:[r.map((function(e,n){return(0,t.jsx)(go.Draggable,{draggableId:e,index:n,children:function(n,o){return(0,t.jsx)(ss,d()({draggableProps:n.draggableProps,innerRef:n.innerRef,isDragging:o.isDragging,dragHandleProps:n.dragHandleProps},{title:(r=s[e]).title,count:r.noteIds.length}));var r}},e)})),n.placeholder]}))}({provided:e,snapshot:n,columnIds:o,columns:r})}})};var as={LINK:{marginTop:8,marginLeft:8,marginBottom:4}},cs=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._hBlurTitle=function(e){var n=t.props,o=n.board;(0,n.editBoardTitle)(o.id,e.target.value)},t._hSetCurrent=function(){var e=t.props,n=e.board;(0,e.setBoardCurrent)(n.id)},t._hRemove=function(){var e=t.props,n=e.board;(0,e.removeBoard)(n.id)},t._hToNotes=function(){var e=t.props,n=e.board;(0,e.setBoardCurrent)(n.id)},t}return W()(n,e),n.prototype.render=function(){var e=this.props,n=e.id,o=e.board,r=e.columns,s=o.columnIds;return(0,t.jsxs)(Ir.Item,{children:[(0,t.jsx)(Ir.Title,{value:o.title,onBlur:this._hBlurTitle}),(0,t.jsx)(Ir.Counter,{value:s.length}),(0,t.jsx)(is,{id:n,columnIds:s,columns:r}),(0,t.jsx)(ao.NavLink,{to:"/boards/"+o.id,className:Ie.NAV_LINK,style:as.LINK,onClick:this._hToNotes,children:"ToNotes"}),(0,t.jsx)("div",{children:mr(s)&&(0,t.jsx)(at,{clCaption:Ie.CARD_BT,caption:"Remove Board",onClick:this._hRemove})})]})},n}(V.Component),ls={editBoardTitle:x,setBoardCurrent:N,removeBoard:D};const us=(0,o.connect)((function(t,e){return{board:It.board(t,e.id),columns:Et.columns(t)}}),ls)(cs);const ds=(0,o.connect)((function(t){return{boardIds:It.boardIds(t),boards:It.boards(t)}}))((function(e){var n=e.boardIds;e.boards;return n.map((function(e){return(0,t.jsx)(us,{id:e},e)}))}));var ps=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._hDragEnd=function(e){bo(e)||t.props.moveColumn(e)},t}return W()(n,e),n.prototype.render=function(){return[(0,t.jsx)(ns,{},"header"),(0,t.jsx)(go.DragDropContext,{onDragEnd:this._hDragEnd,children:(0,t.jsx)(fr,{children:(0,t.jsx)(ds,{})})},"ddc")]},n}(V.Component),hs={moveColumn:xn};const fs=(0,o.connect)(null,hs)(ps);var ms="modal-root",vs="modal-root show-modal",_s="modal-root hide-modal",gs={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_BACKGROUND:{backgroundColor:"rgba(0,0,0, 0)"}},bs=function(e){function n(t){var n;return(n=e.call(this)||this)._hideModal=function(){n.wasClosing=!0,n.setState({})},n.wasClosing=!0,n}W()(n,e);var o=n.prototype;return o.shouldComponentUpdate=function(t,e){return!!(this.wasClosing||t.isShow||this.props.isShow)},o.componentDidUpdate=function(t,e){t.isShow&&!this.props.isShow&&setTimeout(this._hideModal,this.props.timeout)},o.render=function(){var e,n,o,r=this.props,s=r.isShow,i=r.children,a=r.onClose;return!s&&this.wasClosing?(e=ms,n=gs.HIDE,o=!0,this.wasClosing=!1):(e=s?vs:_s,n=s?gs.SHOW:gs.HIDE_BACKGROUND,o=!1),(0,t.jsx)("div",{className:e,style:n,"aria-hidden":o,onClick:a,children:i})},n}(V.Component);bs.defaultProps={timeout:450};const ys=bs;const Cs=yt(function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null},t._onStore=function(){var e=t.props.store.getState().modal,n=void 0===e?{}:e,o=n.id,r=n.data,s=void 0===r?{}:r;o&&t.modal!==n&&(t.modal=n,t.setState((function(t){var e=t.inits,n=t.shows,r=t.data,i=t.dialogs;return e[o]?(n[o]=!0,r[o]=s,{isShow:!0,currentDialog:o,shows:n,data:r}):(i.push({type:o,comp:rn.getDialog(o)}),e[o]=!0,n[o]=!0,r[o]=s,{isShow:!0,currentDialog:o,shows:n,data:r,dialogs:i})})))},t._hClose=function(e){t.setState((function(t){return t.shows[e]=!1,{isShow:!1,currentDialog:null,shows:t.shows}}))},t._renderDialogs=function(){var e=t.props,n=e.store,o=e.theme,r=t.state,s=r.shows,i=r.data;return r.dialogs.map((function(e){var r=e.type,a=e.comp;return(0,V.createElement)(a,{key:r,isShow:s[r],data:i[r],onClose:t._hClose.bind(null,r),store:n,dispatch:n.dispatch,TS:o.createStyle(Ct)})}))},t}W()(n,e);var o=n.prototype;return o.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},o.componentWillUnmount=function(){this.unsubscribe()},o.shouldComponentUpdate=function(t,e){return this.state.currentDialog!==e.currentDialog},o.render=function(){var e=this.state,n=e.isShow,o=e.currentDialog;return(0,t.jsx)(ys,{isShow:n,onClose:this._hClose.bind(null,o),children:this._renderDialogs()})},n}(V.Component));const xs=function(e){function n(t){var n;(n=e.call(this)||this)._onStore=function(){var t=n.props.store,e=n.state.theme,o=xt.uiTheme(t.getState());o!==e.getThemeName()&&n.setState((function(t){return t.theme.setThemeName(o),{theme:d()({},t.theme)}}))};var o=t.store,r=xt.uiTheme(o.getState());return _o.setThemeName(r),n.state={theme:_o},n}W()(n,e);var o=n.prototype;return o.componentDidMount=function(){var t=this.props.store;this._unsubscribe=t.subscribe(this._onStore)},o.componentWillUnmount=function(){this._unsubscribe()},o.render=function(){var e=this.props,n=e.basename,o=e.store,r=this.state.theme;return(0,t.jsx)(V.StrictMode,{children:(0,t.jsx)(ao.BrowserRouter,{basename:n,children:(0,t.jsxs)(bt.Provider,{value:r,children:[(0,t.jsx)(Cs,{store:o}),(0,t.jsxs)(ao.Switch,{children:[(0,t.jsx)(ao.Route,{path:"/boards/:id",component:ts}),(0,t.jsx)(ao.Route,{path:"/boards",component:fs}),(0,t.jsx)(ao.Redirect,{from:"/",to:"/boards"})]})]})})})},n}(V.Component);(0,e.render)((0,t.jsx)(o.Provider,{store:so,children:(0,t.jsx)(xs,{basename:"/notes",store:so})}),document.getElementById("app"))})()})();