/*! For license information please see app_3574e2b396934e5a893d.js.LICENSE.txt */
"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[143],{397:(e,n,t)=>{var o=t(745),r=t(706),a=t(168),s=function(e,n){return"Max number ("+n+") of "+e+" reached."},i=8,l=8,c=12;const d={STORAGE_KEY:"notes-manager",DMSG_PREFIX:"m",MSG_SAVED:"Boards saved",MSG_SAVE_FAIL:"Boards not saved",MSG_CLEANED:"localStorage cleaned",MSG_CLEAN_FAIL:"localStorage not cleaned",BOARDS_PREFIX:"b",MAX_BOARDS:i,N_MAX_BOARDS:{descr:s("boards",i)},MAX_COLUMNS:l,COLUMNS_PREFIX:"c",N_MAX_COLUMNS:{descr:s("columns",l)},MAX_NOTES:c,NOTES_PREFIX:"n",N_MAX_NOTES:{descr:s("notes",c)},NLABELS_PREFIX:"nl"};var u=t(791),f=(0,a.PH)("boards/addBoard"),v=(0,a.PH)("boards/removeBoard"),m=(0,a.PH)("boards/setCurrentBoard");const p={app:{boardId:"b-1",boardIds:["b-1"],uiTheme:"DARK"},drawerMsg:[],modal:{id:void 0,data:void 0},boards:{"b-1":{id:"b-1",title:"Board 1",columnIds:["c-1","c-2"]}},notes:{},noteLabels:{},columns:{"c-1":{id:"c-1",title:"Topic 1",noteIds:[],withAdd:!0},"c-2":{id:"c-2",title:"Topic 2",noteIds:[]}}};var h=(0,a.oM)({name:"app",initialState:p.app,reducers:{setUiTheme:function(e,n){var t=n.payload.uiTheme;e.uiTheme=t}},extraReducers:function(e){return e.addCase(f,(function(e,n){var t=n.payload.boardId;e.boardIds.push(t)})).addCase(v,(function(e,n){var t=n.payload.boardId;e.boardIds=e.boardIds.filter((function(e){return e!==t}))})).addCase(m,(function(e,n){var t=n.payload.boardId;e.boardId=t}))}}),x=h.actions,g=h.reducer,b=x.setUiTheme;const y=g;var j=function(e,n){return{id:e,msg:n}},C=(0,a.oM)({name:"drawerMsg",initialState:p.drawerMsg,reducers:{addDrawerMsg:function(e,n){var t=n.payload,o=t.id,r=t.msg;e.unshift(j(o,r))},removeDrawerMsg:function(e,n){var t=n.payload.id;return e.filter((function(e){return e.id!==t}))}}}),N=C.actions,I=C.reducer,S=N.addDrawerMsg,_=N.removeDrawerMsg;const w=I;var k=t(711),E=t(294),D=function(e){return(e||{}).current},R=function(e,n){e&&(e.current=n)},A=function(e){var n=D(e);n&&"function"==typeof n.focus&&n.focus()},T=function(e,n){return e.isShow===n.isShow};const B=function(e){return(0,E.memo)(e,T)};var M=t(462);const O=function(e){return function(n,t){return(0,E.useCallback)((function(t){e(t)&&(t.preventDefault(),t.stopPropagation(),n(t))}),t||[])}}((function(e){return 27===e.keyCode||"Escape"===e.key}));var L=Array.isArray,H=function(e){return L(e)?e[0]?e[1]:"":e||""};const P=function(e,n){var t=H(e),o=H(n);return t?o?t+" "+o:t:o||void 0};var G=t(893);const Z=function(e){var n=e.className,t=e.style,o=e.tabIndex,r=e.onClose;return(0,G.jsx)("button",{tabIndex:o,className:P("bt-svg-close",n),style:t,onClick:r,children:(0,G.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,G.jsx)("path",{d:"M 0,0 L 12,12"}),(0,G.jsx)("path",{d:"M 12,0 L 0,12"})]})})};const F=function(e){var n=e.rootStyle,t=(e.svgStyle,e.caption),o=e.onClose,r=e.children;return(0,G.jsxs)("div",{className:"dialog__header",style:n,children:[(0,G.jsx)("span",{className:"dialog__caption not-selected",children:t}),r,(0,G.jsx)(Z,{className:"dialog__svg-close",onClose:o})]})};const K=function(e,n,t){void 0===n&&(n=3e3),void 0===t&&(t=!0);var o=(0,E.useRef)(null);return(0,E.useCallback)((function(r){var a=t?r:void 0;if(0!==n){var s=o.current,i=r.timeStamp;(null==s||i-s>n)&&(e(a),o.current=i)}else e(a)}),[t,n,e])};var X=Array.isArray,V=function(e){return X(e)?e[0]?e[1]:void 0:e||void 0};const U=function(){var e=V(arguments.length<=0?void 0:arguments[0]),n=V(arguments.length<=1?void 0:arguments[1]);return e?n?(0,M.Z)({},e,n):e:n||void 0};var z={textDecoration:"underline"},W=function(e,n){var t=function(e,n){return e?n.toLowerCase().indexOf(e):-1}(e,n);if(-1===t)return n;var o=n.substring(0,t),r=n.substring(t,t+1),a=n.substring(t+1);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("span",{children:o}),(0,G.jsx)("span",{style:z,children:r}),(0,G.jsx)("span",{children:a})]})};const Y=function(e){var n=e.className,t=e.caption,o=e.accessKey,r=e.children;return t?(0,G.jsxs)("span",{className:n,children:[W(o,t),r]}):null};var $={color:"#607d8b"};const J=(0,E.forwardRef)((function(e,n){var t=e.timeout,o=e.className,r=e.style,a=e.clDiv,s=void 0===a?"bt-flat__div":a,i=e.clCaption,l=e.isPrimary,c=e.title,d=void 0===c?"":c,u=e.caption,f=e.accessKey,v=e.children,m=e.isEvent,p=e.onClick,h=K(p,t,m),x=P("bt-flat",o),g=P("bt-flat__span",i),b=U(r,[l,$]),y=function(e,n){return n?e+" ["+n+"]":e}(d,f);return(0,G.jsx)("button",{ref:n,className:x,style:b,accessKey:f,title:y,onClick:h,children:(0,G.jsxs)("div",{className:s,children:[(0,G.jsx)(Y,{className:g,caption:u,accessKey:f}),v]})})}));var q="header",Q=q+"__logo-notes",ee=q+"__title-gap",ne=q+"-board__logo_notes",te=q+"__title",oe="modal-pane",re="md__actions",ae="card",se=ae+"__title",ie="bt__card",le="note__label",ce=le+"__close",de="nav-link",ue={display:"block"},fe={display:"none"},ve=function(e){var n=e.buttons,t=e.refBtClose,o=e.withoutClose,r=e.onClose;return(0,G.jsxs)("div",{className:re,children:[n,!o&&(0,G.jsx)(J,{ref:t,caption:"Close",timeout:0,onClick:r})]})};const me=function(e){var n=e.className,t=void 0===n?"":n,o=e.style,r=e.isShow,a=e.isWithButton,s=void 0===a||a,i=e.isFocusClose,l=void 0===i||i,c=e.caption,d=e.captionStyle,u=e.children,f=e.commandButtons,v=e.withoutClose,m=e.onClose,p=function(e,n){var t=(0,E.useRef)(),o=(0,E.useRef)(),r=(0,E.useRef)(),a=(0,E.useCallback)((function(){o.current=document.activeElement,n&&A(t)}),[n]),s=(0,E.useCallback)((function(){A(o),o.current=null}),[]);return(0,E.useEffect)((function(){var n=D(r);e&&!n?a():!e&&n&&s(),r.current=e}),[e,a,s]),t}(r,l),h=(0,E.useCallback)((function(e){e.stopPropagation()}),[]),x=O(m),g=P("modal-dialog "+t,[r,"show-popup"]),b=r?ue:fe;return(0,G.jsxs)("div",{role:"dialog","aria-label":c,"aria-hidden":!r,className:g,style:(0,M.Z)({},o,b),onClick:h,onKeyDown:x,children:[(0,G.jsx)(F,{rootStyle:d,caption:c,onClose:m}),(0,G.jsx)("div",{children:u}),s&&(0,G.jsx)(ve,{buttons:f,refBtClose:p,withoutClose:v,onClose:m})]})};var pe="d-notif__row";const he=B((function(e){var n=e.isShow,t=e.data,o=e.TS,r=e.onClose,a=t||{},s=a.caption,i=void 0===s?"":s,l=a.descr,c=void 0===l?"":l;return(0,G.jsxs)(me,{style:o.DIALOG,caption:"Notification",isShow:n,onClose:r,children:[i&&(0,G.jsx)("div",{className:pe,children:(0,G.jsx)("p",{className:"d-notif__caption",children:i})}),(0,G.jsx)("div",{className:pe,children:(0,G.jsx)("p",{className:"d-notif__descr",children:c})})]})}));const xe=(0,E.createContext)();const ge=function(e){return(0,E.useContext)(xe).createStyle(e)};var be={themeName:void 0,style:void 0,createStyle:function(e){return{DIALOG:(0,M.Z)({},e.BG),SELECT:{MODAL_PANE:(0,M.Z)({},e.BG)}}}};const ye=be;var je=function(e){return!!e},Ce=function(e,n){return n};const Ne=function(e){var n=(0,E.useReducer)(Ce,e,je),t=n[0],o=n[1],r=(0,E.useRef)((function(){return o(!0)})),a=(0,E.useRef)((function(){return o(!1)}));return[t,D(r),D(a)]};var Ie="m-select",Se=Ie+"__label",_e=Ie+"__div",we=Ie+"__div__value",ke=Ie+"__div__bt",Ee=Ie+"__line",De=Ie+"__svg-arrow";const Re=function(){return(0,G.jsx)("svg",{className:De,viewBox:"0 0 24 24",children:(0,G.jsx)("path",{d:"M7 10l5 5 5-5z"})})};var Ae=function(e,n){D(n)&&(document.removeEventListener("click",e,!0),R(n,null))};const Te=function(e,n){var t=(0,E.useRef)(null),o=(0,E.useRef)(null),r=(0,E.useCallback)((function(e){var o=D(t);o&&o.contains&&!o.contains(e.target)&&(e.stopPropagation(),n(e))}),[]);return(0,E.useEffect)((function(){e&&!D(o)?(document.addEventListener("click",r,!0),R(o,!0)):e||Ae(r,o)})),(0,E.useEffect)((function(){return function(){return Ae(r,o)}}),[]),t};const Be=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.children,a=e.onClose,s=Te(n,a),i=O(a),l=n?i:void 0;return(0,G.jsx)("div",{role:"presentation",ref:s,className:t,style:o,onKeyDown:l,children:r})};var Me={display:"block"},Oe={display:"none"};const Le=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.children,a=P(t,[n,"show-popup"]),s=U(o,n?Me:Oe);return(0,G.jsx)("div",{className:a,style:s,children:r})};var He={position:"absolute",top:12,zIndex:20,width:"100%",paddingTop:12,paddingBottom:12,lineHeight:1.8,backgroundColor:"rgb(77, 77, 77)",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},Pe={lineHeight:2.2,paddingLeft:12},Ge={color:"greenyellow"},Ze=function(e,n,t,o,r){return e.map((function(e){var r,a=U(Pe,[e.value===n.value,Ge]),s=o.bind(null,e),i=(r=s,function(e){13===e.which&&r(e)});return(0,G.jsx)("div",{role:"button",tabIndex:"0",style:a,className:t,onClick:s,onKeyPress:i,children:e.caption},e.value)}))};const Fe=function(e){var n=e.isShow,t=e.style,o=e.options,r=e.item,a=e.clItem,s=e.onSelect,i=e.onClose;return(0,G.jsx)(Be,{isShow:n,style:t,onClose:i,children:(0,G.jsx)(Le,{isShow:n,style:(0,M.Z)({},He,t),children:Ze(o,r,a,s)})})};var Ke={caption:"",value:""},Xe={};const Ve=function(e){var n=e.initialItem,t=e.caption,o=e.options,r=e.styleConfig,a=void 0===r?Xe:r,s=e.onSelect,i=Ne(),l=i[0],c=i[1],d=i[2],u=(0,E.useState)(n||Ke),f=u[0],v=u[1],m=(0,E.useCallback)((function(e,n){n.stopPropagation(),s(e),d(),v(e)}),[s,d]);return(0,G.jsxs)("div",{role:"presentation",className:Ie,style:a.ROOT,onClick:c,children:[(0,G.jsx)(Fe,{style:a.MODAL_PANE,isShow:l,item:f,options:o,clItem:a.CL_ITEM,onSelect:m,onClose:d}),(0,G.jsx)("label",{className:Se,children:t}),(0,G.jsxs)("div",{className:_e,children:[(0,G.jsx)("div",{className:we,children:f.caption}),(0,G.jsx)("button",{className:ke,tabIndex:"0",children:(0,G.jsx)(Re,{})}),(0,G.jsx)("div",{className:Ee})]})]})};var Ue=[{caption:"Dark",value:"DARK"},{caption:"Light",value:"WHITE"},{caption:"Sand",value:"SAND"}],ze=Ue[0];const We=B((function(e){var n=e.isShow,t=e.dispatch,o=e.onClose,r=(0,E.useCallback)((function(e){var n=e.value;t(b({uiTheme:n}))}),[]),a=ge(ye);return(0,G.jsx)(me,{isShow:n,className:"md-settings",style:a.DIALOG,caption:"User Settings",onClose:o,children:(0,G.jsx)(Ve,{styleConfig:a.SELECT,caption:"UI Theme (Default: Dark)",initialItem:ze,options:Ue,onSelect:r})})}));var Ye={listStyle:"outside none none",marginTop:4,marginLeft:12,marginRight:5,marginBottom:8,textAlign:"left"},$e={width:"100%",height:"100%"},Je={display:"block",width:"100%",height:"100%"},qe={display:"none"},Qe=function(e,n,t){return e.map((function(e,o){return(0,E.cloneElement)(e,{key:o,id:o,onClick:function(){return t(o)},isSelected:o===n})}))},en=function(e,n){return e.map((function(e,t){var o=t===n,r=o?Je:qe;return(0,G.jsx)("div",{style:r,role:"tabpanel",id:"tabpanel-"+t,"aria-labelledby":"tab-"+t,children:(0,E.cloneElement)(e.props.children,{key:"comp"+t,isSelected:o})},"a"+t)}))};const nn=(0,E.forwardRef)((function(e,n){var t=e.width,o=e.height,r=e.tabsStyle,a=e.children,s=(0,E.useState)(0),i=s[0],l=s[1];return(0,E.useImperativeHandle)(n,(function(){return{getSelectedTabIndex:function(){return i}}}),[i]),(0,G.jsxs)("div",{style:{width:t,height:o},children:[(0,G.jsx)("ul",{style:(0,M.Z)({},Ye,r),children:Qe(a,i,l)}),(0,G.jsx)("div",{style:$e,children:en(a,i)})]})}));const tn=function(e){var n=e.id,t=e.title,o=e.isSelected,r=e.onClick,a=P("tab not-selected",[o,"tab--selected"]),s=function(){o||r()};return(0,G.jsx)("li",{role:"tab",tabIndex:0,className:a,id:"tab-"+n,"aria-selected":o,"aria-controls":"tabpanel-"+n,onClick:s,onKeyDown:function(e){(function(e){return""===e.key||32===e.keyCode})(e)&&s()},children:(0,G.jsx)("span",{children:t})})};const on=function(e,n,t){return(0,E.useEffect)((function(){var e=D(e);n&&e&&e.focus()}),[t])};var rn=(0,a.oM)({name:"notes",initialState:{},reducers:{addNote:function(e,n){var t=n.payload.noteId;e[t]=function(e){return{id:e,title:"New Note"}}(t)},deleteNote:function(e,n){delete e[n.payload.noteId]},editNoteTitle:function(e,n){var t=n.payload,o=t.noteId,r=t.title;e[o].title=r},editNoteDescr:function(e,n){var t=n.payload,o=t.noteId,r=t.descr;e[o].descr=r},editNoteLabels:function(e,n){var t=n.payload,o=t.noteId,r=t.labelsTo;e[o].labels=r}}}),an=rn.reducer,sn=rn.actions,ln=sn.editNoteTitle,cn=sn.editNoteDescr;const dn=an;const un=function(e){return"Delete"===e.key||46===e.keyCode};const fn=(0,E.forwardRef)((function(e,n){var t=e.className,o=e.style,r=e.initialValue,a=e.maxLength,s=(0,E.useRef)(),i=(0,E.useState)(r),l=i[0],c=i[1],d=(0,E.useCallback)((function(e){c(e.target.value)}),[]),u=(0,E.useCallback)((function(e){un(e)&&c("")}));return(0,E.useImperativeHandle)(n,(function(){return{getValue:function(){return l},focus:function(){var e=D(s);e&&e.focus()}}}),[l]),(0,G.jsx)("textarea",{ref:s,className:t,style:o,value:l,maxLength:a,onChange:d,onKeyDown:u})}));const vn=function(e){var n=e.refBtClose,t=e.className,o=e.onSave,r=e.onClose;return(0,G.jsxs)("div",{className:t,children:[(0,G.jsx)(J,{caption:"Save",timeout:100,onClick:o}),(0,G.jsx)(J,{ref:n,caption:"Close",timeout:0,onClick:r})]})};const mn=function(e){return"object"!=typeof e||null==e?"This note is not exist.":e.descr||"Edit description..."};const pn=function(e){var n=e.isSelected,t=e.note,o=e.dispatch,r=e.onClose,a=t.id,s=(0,E.useRef)(null),i=(0,E.useRef)(null),l=(0,E.useCallback)((function(){o(cn({noteId:a,descr:D(i).getValue()}))}),[a]);on(s,n,e);var c=mn(t);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(fn,{ref:i,className:"md-details__descr",maxLength:250,initialValue:c},a),(0,G.jsx)(vn,{refBtClose:s,className:"md__actions",onSave:l,onClose:r})]})};var hn=(0,a.PH)("notes/addNote"),xn=(0,a.PH)("notes/deleteNote"),gn=(0,a.PH)("notes/moveNote"),bn=(0,a.PH)("notes/editNoteLabels");const yn=function(e){var n=e.className,t=e.clClose,o=e.item,r=e.onRemove;return(0,G.jsxs)("button",{className:n,style:{backgroundColor:o.color},onClick:r,children:[o.title,r&&(0,G.jsx)("span",{className:t,children:"x"})]})};var jn={paddingBottom:4};const Cn=function(e){var n=e.labels,t=e.onRemove;return(0,G.jsx)("div",{style:jn,children:(n||[]).map((function(e){return(0,G.jsx)(yn,{className:le,clClose:ce,item:e,onRemove:t?t.bind(null,e):void 0},e.id||e.title)}))})};const Nn=function(e){return"Enter"===e.key||13===e.keyCode};const In=(0,E.forwardRef)((function(e,n){var t=e.className,o=e.style,r=e.initialValue,a=e.maxLength,s=void 0===a?40:a,i=e.onBlur,l=(0,E.useState)(r),c=l[0],d=l[1],u=(0,E.useCallback)((function(e){var n=e.target.value;n.length<=s&&d(n)}),[s]),f=(0,E.useCallback)((function(e){if(Nn(e)){var n=document.activeElement;n&&"function"==typeof n.blur&&n.blur()}else un(e)&&d("")}),[]);(0,E.useImperativeHandle)(n,(function(){return{setValue:function(e){e.length<=s&&d(e)}}}),[s]);var v=P("input-text",t);return(0,G.jsx)("input",{type:"text",className:v,style:o,value:c,onChange:u,onBlur:i,onKeyDown:f})}));var Sn=function(){};const _n=function(e){var n=e.tabIndex,t=void 0===n?"-1":n,o=e.style,r=e.color,a=e.onClick,s=void 0===a?Sn:a,i=e.children,l=r?{backgroundColor:r}:void 0;return(0,G.jsx)("button",{tabIndex:t,style:(0,M.Z)({},o,l),onClick:function(){return s(r)},children:i})};var wn=["#8abb5d","#f7a35c","#795548","#f45b5b","#d2b772","#dda0dd"],kn=["#f1d600","#008b8b","#2f7ed8","#000000","#607d8b","#7092be"],En={paddingBottom:4},Dn={padding:"4px 0 0 56px"},Rn={position:"relative",display:"inline-block",height:32,width:32,marginRight:4,borderRadius:2,verticalAlign:"bottom",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},An=(0,M.Z)({},Rn,{margin:"0 12px"}),Tn=function(e){var n=e.colors,t=e.onClick;return(0,G.jsx)(G.Fragment,{children:n.map((function(e){return(0,G.jsx)(_n,{color:e,style:Rn,onClick:t},e)}))})};const Bn=(0,E.forwardRef)((function(e,n){var t=e.initColor,o=void 0===t?"#2f7ed8":t,r=(0,E.useState)(o),a=r[0],s=r[1],i=(0,E.useCallback)((function(e){e&&s(e)}),[]),l=(0,E.useCallback)((function(){return s(o)}),[o]);return(0,E.useImperativeHandle)(n,(function(){return{getColor:function(){return a}}}),[a]),(0,G.jsxs)("div",{style:En,children:[(0,G.jsxs)("div",{children:[(0,G.jsx)(_n,{style:An,color:a,onClick:l}),(0,G.jsx)(Tn,{colors:wn,onClick:i})]}),(0,G.jsx)("div",{style:Dn,children:(0,G.jsx)(Tn,{colors:kn,onClick:i})})]})}));var Mn={padding:"4px 0 8px 12px"},On={marginLeft:16};const Ln=function(e){var n=e.isSelected,t=e.note,o=e.dispatch,r=e.onClose,a=t.id,s=(0,E.useState)((function(){return t.labels||[]})),i=s[0],l=s[1],c=(0,E.useRef)(null),d=(0,E.useRef)(""),u=(0,E.useRef)(null),f=(0,E.useRef)(null),v=(0,E.useCallback)((function(e){d.current=e.target.value}),[]),m=(0,E.useCallback)((function(){l((function(e){return function(e,n,t){return!n||e.find((function(e){return e.title===n}))?e:e.concat({title:n,color:t})}(e,function(e){if("string"!=typeof e)return"";var n=e.trim();return n&&n.length>0?n[0].toUpperCase()+n.slice(1):n}(D(d)),D(f).getColor())}),D(u).setValue(""))}),[]),p=(0,E.useCallback)((function(e){l((function(n){return function(e,n){return e.filter((function(e){return e.title!==n.title}))}(n,e)}))}),[]),h=(0,E.useCallback)((function(){o(bn({noteId:a,labels:i}))}),[a,i]);return on(c,n,e),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{style:Mn,children:[(0,G.jsx)(Cn,{labels:i,onRemove:p}),(0,G.jsx)(In,{ref:u,onBlur:v}),(0,G.jsx)(J,{clCaption:ie,style:On,caption:"AddLabel",title:"Click to add a new label",timeout:400,onClick:m})]}),(0,G.jsx)(Bn,{ref:f}),(0,G.jsx)(vn,{refBtClose:c,className:re,onSave:h,onClose:r})]})};var Hn={marginBottom:0};const Pn=B((function(e){var n,t,o,r=e.isShow,a=e.data,s=e.dispatch,i=e.onClose,l=ge(ye),c=(n=a.title,"Details: "+(o=(t=void 0===n?"":n).substring(0,12))+(t.length>o.length?"...":""));return(0,G.jsx)(me,{className:"md-details",style:l.DIALOG,captionStyle:Hn,caption:c,isShow:r,withoutClose:!0,onClose:i,children:(0,G.jsxs)(nn,{width:"100%",children:[(0,G.jsx)(tn,{title:"Descr",children:(0,G.jsx)(pn,{note:a,dispatch:s,onClose:i})}),(0,G.jsx)(tn,{title:"Labels",children:(0,G.jsx)(Ln,{note:a,dispatch:s,onClose:i})})]},a.id)})}));var Gn,Zn="NOTIF",Fn="SETTINGS",Kn="DETAILS",Xn=((Gn={DF:he})[Zn]=he,Gn[Fn]=We,Gn[Kn]=Pn,Gn);const Vn={getDialog:function(e){return Xn[e]||Xn.DF}};var Un=(0,a.oM)({name:"modal",initialState:{id:null,data:null},reducers:{showModal:function(e,n){var t=n.payload;return{id:t.id,data:t.data}}}}),zn=Un.actions,Wn=Un.reducer,Yn=zn.showModal,$n=function(e){return Yn({id:Zn,data:e})};const Jn=Wn;var qn=(0,a.PH)("columns/addColumn"),Qn=(0,a.PH)("columns/removeColumn"),et=(0,a.PH)("columns/moveColumn");const nt=function(e){return function(n,t){var o;return(0,M.Z)({},n,((o={})[e]=t,o))}};var tt=function(e,n){return function(t,o,r,a,s){var i=[].concat(s[e]);i.splice(r.index,1),i.splice(a.index,0,o),t[s.id]=n(s,i)}},ot=function(e,n){return function(t,o,r,a,s,i){var l=[].concat(s[e]);l.splice(r.index,1);var c=[].concat(i[e]);c.splice(a.index,0,o),t[s.id]=n(s,l),t[i.id]=n(i,c)}};const rt=function(e){var n=nt(e);return{idsTo:n,moveInternal:tt(e,n),moveExternal:ot(e,n)}};var at=rt("columnIds"),st=at.moveInternal,it=at.moveExternal,lt=(0,a.oM)({name:"boards",initialState:p.boards,reducers:{editBoardTitle:function(e,n){var t=n.payload,o=t.boardId,r=t.title;e[o].title=r},addBoard:function(e,n){var t=n.payload.boardId;e[t]={id:t,title:"New Board",columnIds:[]}},removeBoard:function(e,n){delete e[n.payload.boardId]}},extraReducers:function(e){return e.addCase(qn,(function(e,n){var t=n.payload,o=t.boardId,r=t.columnId;e[o].columnIds.push(r)})).addCase(Qn,(function(e,n){var t=n.payload,o=t.boardId,r=t.columnId,a=e[o];a.columnIds=a.columnIds.filter((function(e){return e!==r}))})).addCase(et,(function(e,n){var t=n.payload,o=t.draggableId,r=t.source,a=t.destination,s=e[r.droppableId],i=e[a.droppableId];s===i?st(e,o,r,a,s):it(e,o,r,a,s,i)}))}}),ct=lt.actions,dt=lt.reducer,ut=ct.editBoardTitle;const ft=dt;const vt=(0,a.oM)({name:"noteLabels",initialState:p.noteLabels,extraReducers:function(e){return e.addCase(bn,(function(e,n){n.payload.newLabels.forEach((function(n){e[n.id]=n}))}))}}).reducer;var mt=rt("noteIds"),pt=mt.moveInternal;const ht={crColumn:function(e,n){return void 0===n&&(n=!0),{id:e,title:"New Topic",noteIds:[],withAdd:n}},moveExternal:mt.moveExternal,moveInternal:pt};var xt=ht.crColumn,gt=ht.moveExternal,bt=ht.moveInternal,yt=(0,a.oM)({name:"columns",initialState:p.columns,reducers:{editColumnTitle:function(e,n){var t=n.payload,o=t.columnId,r=t.title;e[o].title=r},toggleColumn:function(e,n){var t=n.payload.columnId,o=e[t];e[t].isHide=!o.isHide},addColumn:function(e,n){var t=n.payload.columnId;e[t]=xt(t)},removeColumn:function(e,n){delete e[n.payload.columnId]}},extraReducers:function(e){e.addCase(hn,(function(e,n){var t=n.payload,o=t.columnId,r=t.noteId;e[o].noteIds.unshift(r)})).addCase(xn,(function(e,n){var t=n.payload,o=t.columnId,r=t.noteId,a=e[o];a.noteIds=a.noteIds.filter((function(e){return e!==r}))})).addCase(gn,(function(e,n){var t=n.payload,o=t.draggableId,r=t.source,a=t.destination,s=e[r.droppableId],i=e[a.droppableId];s===i?bt(e,o,r,a,s):gt(e,o,r,a,s,i)}))}}),jt=yt.actions,Ct=yt.reducer,Nt=jt.editColumnTitle,It=jt.toggleColumn;const St=Ct;const _t=(0,u.UY)({app:y,drawerMsg:w,modal:Jn,boards:ft,notes:dn,noteLabels:vt,columns:St});const wt=function(e){return void 0===e&&(e="a"),e+"-"+(Date.now().toString(36)+Math.random().toString(36).substr(2,9)).toUpperCase().substr(12)};var kt={app:function(e){return e.app||{}},modal:function(e){return e.modal||{}},currentBoard:function(e){return kt.app(e).boardId},boardIds:function(e){return kt.app(e).boardIds||[]},uiTheme:function(e){return kt.app(e).uiTheme}},Et={msg:function(e){return e.drawerMsg||[]}},Dt={boards:function(e){return e.boards||{}},currentBoard:function(e){return Dt.boards(e)[kt.currentBoard(e)]||{}},board:function(e,n){return Dt.boards(e)[n]||{}},columnIds:function(e,n){return Dt.board(e,n).columnIds||[]},boardIds:function(e){return kt.boardIds(e)}},Rt=function(e){return e.noteLabels||{}},At={columns:function(e){return e.columns||{}},column:function(e,n){return At.columns(e)[n]||{}},noteIds:function(e,n){return At.column(e,n).noteIds||[]}};const Tt={app:kt,drawer:Et,board:Dt,note:{notes:function(e){return e.notes||{}}},column:At};const Bt=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===f.type){if(a=n(),kt.boardIds(a).length>=d.MAX_BOARDS)return t($n(d.N_MAX_BOARDS)),!1;var r=wt(d.BOARDS_PREFIX);return o.payload={boardId:r},e(o),r}var a;return e(o)}}};const Mt=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===qn.type){if(function(e,n){return Dt.columnIds(e,n).length>=d.MAX_COLUMNS}(n(),o.payload.boardId))return t($n(d.N_MAX_COLUMNS)),!1;var r=wt(d.COLUMNS_PREFIX);return o.payload.columnId=r,e(o),r}return e(o)}}};const Ot=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===hn.type){var r=o.payload.columnId;if(function(e,n){return At.noteIds(e,n).length>=d.MAX_NOTES}(n(),r))return t($n(d.N_MAX_NOTES)),!1;var a=wt(d.NOTES_PREFIX);return o.payload.noteId=a,e(o),a}return e(o)}}};var Lt=Object.keys;const Ht=function(e){return Lt(e).map((function(n){return e[n]}))};var Pt=Array.isArray;const Gt=function(e){var n=e.getState;e.dispatch;return function(e){return function(t){if(t.type===bn.type){var o=Rt(n()),r=t.payload;t.payload=(0,M.Z)({},r,function(e,n){var t,o=[],r=[];if(t=e,!t||"object"!=typeof t||!Pt(n))return{labelsTo:o,newLabels:r};var a=Ht(e);return n.forEach((function(e){if(e.id)o.push(e);else{var n=a.find(function(e){return function(n){return n.title===e.title&&n.color===e.color}}(e));n?(e.id=n.id,o.push(e)):(e.id=wt(d.NLABELS_PREFIX),o.push(e),r.push(e))}})),{labelsTo:o,newLabels:r}}(o,r.labels))}return e(t)}}};var Zt=(0,a.PH)("app/saveBoard"),Ft=(0,a.PH)("app/cleanStorage");const Kt=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){switch(o.type){case Zt.type:try{return window.localStorage.setItem(d.STORAGE_KEY,JSON.stringify((0,M.Z)({},n(),{drawerMsg:[],modal:{id:null,data:null}}))),t(S({msg:d.MSG_SAVED})),!0}catch(e){return t(S({msg:d.MSG_SAVE_FAIL})),console.log(e.msg),!1}case Ft.type:try{return window.localStorage.removeItem(d.STORAGE_KEY),t(S({msg:d.MSG_CLEANED})),!0}catch(e){return t(S({msg:d.MSG_CLEAN_FAIL})),console.log(e.msg),!1}default:return e(o)}}}};var Xt=function(e){return e<10?"0"+e:""+e};const Vt=function(){return function(e){return function(n){if(n.type===S.type){var t=n.payload,o=wt(d.DMSG_PREFIX);return t.id=o,t.msg=(r=t.msg,a=new Date,Xt(a.getHours())+":"+Xt(a.getMinutes())+" "+r),e(n),o}var r,a;return e(n)}}};var Ut=Array.isArray;const zt=function(e){var n=e.getState;return function(e){return function(t){if(t.type===Qn.type){var o=At.noteIds(n(),t.payload.columnId);if(!Ut(o)||0!==o.length)return!1}return e(t)}}};var Wt=Array.isArray;var Yt=[].concat([Bt,Mt,Ot,Gt,Kt,Vt,zt,function(e){var n=e.getState;return function(e){return function(t){if(t.type===v.type){var o=Dt.columnIds(n(),t.payload.boardId);if(!Wt(o)||0!==o.length)return!1}return e(t)}}},function(){return function(e){return function(n){return n.type!==ln.type||"string"==typeof(t=n.payload.title)&&t.trim()?e(n):(n.payload.title="New Note",e(n),!1);var t}}}]);const $t=(0,a.xC)({reducer:_t,preloadedState:function(){var e;try{var n=window.localStorage.getItem(d.STORAGE_KEY);n&&(e=JSON.parse(n))}catch(e){console.log(e.msg)}return e||p}(),devTools:!1,middleware:function(e){return Yt}});var Jt,qt=t(974),Qt={BG:{},ITEM:{}},eo=Object.assign,no=[function(e,n){document.body.style.backgroundColor=n.BG_BODY},function(e,n){eo(e.BG,{backgroundColor:n.BG})},function(e,n){eo(e.ITEM,{backgroundColor:n.BG,border:"1px solid "+n.BG})}],to={DEFAULT:"DARK",DARK:"DARK",WHITE:"WHITE",SAND:"SAND"},oo=((Jt={})[to.DARK]={pallete:{BG_BODY:"#5f5f5f",BG:"#4d4d4d",BG_HEADER:"#3a6799",C_HEADER:"#8a8a8a"},clSuffix:""},Jt[to.WHITE]={pallete:{BG_BODY:"#d2d2d2",BG:"#ebf1f5",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--white"},Jt[to.SAND]={pallete:{BG_BODY:"darkgrey",BG:"#e8e0cb",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--sand"},Jt),ro={},ao=function(e){var n,t=oo[e],o=t.clSuffix,r=t.pallete;void 0===(n=o)&&(n=""),Object.keys(ro).forEach((function(e){Qt[e]=ro[e]+n})),function(e,n){no.forEach((function(t){return t(e,n)}))}(Qt,r)},so={themeName:to.DEFAULT,_init:function(){this.setThemeName(to.DEFAULT)},getThemeName:function(){return this.themeName},setThemeName:function(e){this.themeName=to[e]||to.DEFAULT,ao(this.themeName)},createStyle:function(e){return this.themeName!==e.themeName&&(e.style=e.createStyle(Qt,this.themeName),e.themeName=this.themeName),e.style}};so._init();const io=so;var lo=t(613);const co=function(e){if(!e||"object"!=typeof e)return!1;var n=e.destination,t=e.source;return!n||!t||n.droppableId===t.droppableId&&n.index===t.index};var uo={themeName:void 0,style:void 0,createStyle:function(e){return{COMP:(0,M.Z)({},e.BG)}}};const fo=uo;const vo=function(e){var n=e.className,t=e.style,o=e.children,r=ge(fo);return(0,G.jsx)("header",{className:n,style:(0,M.Z)({},t,r.COMP),children:o})};var mo=function(e){return!!e},po=function(e,n){return"boolean"==typeof n?n:!e};const ho=function(e){return(0,E.useReducer)(po,e,mo)};var xo={width:"auto",height:"auto"},go={transform:"translateX(-264px)",pointerEvents:"none"},bo={transform:"translate(0px, 0px)"},yo={opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},jo={opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"};const Co=function(e){var n=e.btStyle,t=e.captionEl,o=e.children,r=ho(!1),a=r[0],s=r[1],i=ge(fo),l=a?[bo,jo,s]:[go,yo],c=l[0],d=l[1],u=l[2];return[(0,G.jsx)("button",{className:"drawer-bt",style:(0,M.Z)({},xo,n),"aria-label":"Open Drawer",onClick:s,children:t},"bt-drawer"),(0,G.jsx)("div",{role:"presentation","aria-hidden":!a,className:"drawer-modal",style:d,onClick:u},"wrapper"),(0,G.jsx)("aside",{className:"drawer-left",style:(0,M.Z)({},c,i.COMP),children:o},"aside")]};const No=function(e){var n=e.className,t=void 0===n?Q:n,o=e.style,r=e.title;return(0,G.jsx)("span",{className:t,style:o,title:r,children:(0,G.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,G.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,G.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,G.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})};var Io=Array.isArray;const So=function(e,n){var t=null==e?"Not Exist":function(e){var n=e.title||"",t=e.columnIds;return n+" ("+(Io(t)?t.length:0)+")"}(e);return(n||"Notes")+": "+t};var _o=te+" header-board__title";const wo=function(){var e=(0,r.v9)(Dt.currentBoard);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(No,{className:ne},"logo"),(0,G.jsx)("span",{className:_o,children:So(e)})]})};var ko="drawer",Eo=ko+"__title",Do=ko+"__list",Ro=Do+"-bt",Ao=Ro+"__badge";const To=function(e){var n=e.board;return(0,G.jsx)("div",{className:Eo,children:So(n,"Topics")})};var Bo=function(e){var n=e.isHide;return(0,G.jsx)("span",{className:Ao,children:n?"H":"S"})};const Mo=function(e){var n=e.topic,t=e.onClick;if(!n)return null;var o=n.isHide,r=n.title,a="Click to "+(o?"show":"hide")+" topic";return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J,{className:Ro,caption:r,title:a,timeout:0,onClick:t}),(0,G.jsx)(Bo,{isHide:o})]})};var Oo={listStyleType:"none"},Lo={position:"relative"},Ho=function(){};const Po=function(e){var n=e.board,t=e.columns,o=e.toggleColumn,r=void 0===o?Ho:o,a=n.columnIds;return(0,G.jsx)("ul",{style:Oo,children:(a||[]).map((function(e){return(0,G.jsx)("li",{style:Lo,children:(0,G.jsx)(Mo,{topic:t[e],onClick:function(){return r({columnId:e})}})},e)}))})};var Go={removeDrawerMsg:_};const Zo=(0,r.$j)((function(e){return{items:Et.msg(e)}}),Go)((function(e){var n=e.items,t=e.removeDrawerMsg;return(0,G.jsx)("ul",{className:"drawer__msg-ul",children:n.map((function(e){return(0,G.jsx)("li",{className:"drawer__msg-li",children:(0,G.jsx)("button",{className:"drawer__msg-bt",onClick:function(){return t({id:e.id})},children:e.msg})},e.id)}))})}));var Fo={toggleColumn:It};const Ko=(0,r.$j)((function(e){return{board:Tt.board.currentBoard(e),columns:Tt.column.columns(e)}}),Fo)((function(e){var n=e.board,t=e.columns,o=e.toggleColumn;return(0,G.jsxs)("div",{className:Do,children:[(0,G.jsx)(To,{board:n}),(0,G.jsx)(Po,{board:n,columns:t,toggleColumn:o}),(0,G.jsx)(Zo,{})]})}));var Xo=(0,G.jsx)(wo,{});const Vo=function(){return(0,G.jsx)(Co,{captionEl:Xo,children:(0,G.jsx)(Ko,{})})};var Uo={position:"absolute",top:4,right:16},zo={transform:"translateX(264px)",pointerEvents:"none"},Wo={transform:"translate(0px, 0px)"},Yo={opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},$o={opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"};const Jo=function(e){var n=e.btStyle,t=e.children,o=ho(!1),r=o[0],a=o[1],s=ge(fo),i=r?Wo:zo,l=r?$o:Yo,c=r?a:void 0;return[(0,G.jsx)("button",{className:"drawer-bt",style:(0,M.Z)({},Uo,n),"aria-label":"Open Drawer",onClick:a,children:(0,G.jsx)("span",{className:"drawer-span",children:(0,G.jsxs)("svg",{className:"drawer-svg",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,G.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,G.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})})},"bt-drawer"),(0,G.jsx)("div",{role:"presentation","aria-hidden":!r,className:"drawer-modal",style:l,onClick:c},"wrapper"),(0,G.jsx)("aside",{className:"drawer",style:(0,M.Z)({},i,s.COMP),children:t},"aside")]};var qo="Web App Notes v0.4.0",Qo="drawer__list-bt",er={padding:"16px 0 8px 0",marginLeft:16},nr={listStyleType:"none"},tr={showSettings:function(){return Yn({id:Fn})},saveBoard:Zt,cleanStorage:Ft};const or=(0,r.$j)(null,tr)((function(e){var n=e.showSettings,t=e.saveBoard,o=e.cleanStorage;return(0,G.jsxs)("div",{className:"drawer__list",children:[(0,G.jsx)("div",{className:"header__title",style:er,children:qo}),(0,G.jsxs)("ul",{style:nr,children:[(0,G.jsx)("li",{children:(0,G.jsx)(J,{className:Qo,caption:"User Settings",title:"Click to open user settings dialog",onClick:n})}),(0,G.jsx)("li",{children:(0,G.jsx)(J,{className:Qo,caption:"Save Boards",title:"Click to save boards to localStorage",onClick:t})}),(0,G.jsx)("li",{children:(0,G.jsx)(J,{className:Qo,caption:"Clean Storage",title:"Click to remove boards from localStorage",onClick:o})})]}),(0,G.jsx)(Zo,{})]})}));const rr=function(){return(0,G.jsx)(Jo,{children:(0,G.jsx)(or,{})})};var ar=de+" ml-8";const sr=function(e){var n=e.addColumn;return(0,G.jsxs)(vo,{className:q,children:[(0,G.jsx)(Vo,{}),(0,G.jsx)(J,{caption:"Add Topic",title:"Click to add topic to board",accessKey:"a",timeout:500,onClick:n}),(0,G.jsx)("nav",{children:(0,G.jsx)(k.OL,{to:"/boards",className:ar,children:"ToBoards"})}),(0,G.jsx)(rr,{})]})};const ir=function(e){var n=e.children;return(0,G.jsx)("main",{className:"container-list",children:n})};var lr=Array.isArray;const cr=function(e){return!lr(e)||0===e.length};const dr=function(e){var n=e.className,t=e.style,o=e.svgStyle,r=e.title,a=e.onClick;return(0,G.jsx)("button",{className:P("bt-svg-more",n),style:t,title:r,onClick:a,children:(0,G.jsxs)("svg",{style:o,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,G.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,G.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,G.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})};var ur={paddingLeft:8,width:"100%",textAlign:"left"};const fr=function(e){var n=e.style,t=e.isShow,o=e.onHideTopic,r=e.onAddNote,a=e.onClose,s=ge(fo);return(0,G.jsxs)(Be,{className:oe,style:(0,M.Z)({},n,s.COMP),isShow:t,onClose:a,children:[(0,G.jsx)(J,{style:ur,caption:"Hide Topic",title:"Click to hide Topic",onClick:o}),(0,G.jsx)(J,{style:ur,caption:"Add Note",title:"Click to add new Note",timeout:100,onClick:r})]})};var vr={themeName:void 0,style:void 0,createStyle:function(e){return{ITEM:(0,M.Z)({},e.ITEM)}}};const mr=vr;var pr={display:"none"};var hr={padding:"8px 0",lineHeight:"36px"};var xr={display:"inline-block",paddingLeft:12,fontWeight:600};const gr={Item:function(e){var n=e.isHide,t=e.children,o=ge(mr),r=U(o.ITEM,[n,pr]);return(0,G.jsx)("section",{className:ae,style:r,children:t})},Header:function(e){var n=e.children;return(0,G.jsx)("div",{style:hr,children:n})},Title:function(e){return(0,G.jsx)(In,(0,M.Z)({className:se},e))},Counter:function(e){var n=e.style,t=e.value;return(0,G.jsx)("span",{style:(0,M.Z)({},xr,n),children:t})},BtCircle:function(e){var n=e.style,t=e.caption,o=e.title,r=e.tabIndex,a=void 0===r?"-1":r,s=e.onClick;return(0,G.jsx)("button",{className:"bt-circle",style:n,tabIndex:a,title:o,onClick:s,children:t})}};var br=t(366),yr=["className","style","innerRef","isDraggingOver","notDraggingStyle","children"],jr={ROOT:{minHeight:100},DRAGGING_OVER:{border:"2px dashed lightgreen"},NOT_DRAGGING_OVER:{border:"2px dashed transparent"}};const Cr=function(e){var n=e.className,t=e.style,o=e.innerRef,r=e.isDraggingOver,a=e.notDraggingStyle,s=e.children,i=(0,br.Z)(e,yr),l=function(e,n){return e?jr.DRAGGING_OVER:n||jr.NOT_DRAGGING_OVER}(r,a);return(0,G.jsx)("div",(0,M.Z)({},i,{ref:o,className:n,style:(0,M.Z)({},jr.ROOT,t,l),children:s}))};var Nr=["draggableProps","innerRef","isDragging","dragHandleProps"],Ir=["style"],Sr=function(e,n){return function(t){var o=t.draggableProps,r=t.innerRef,a=t.isDragging,s=t.dragHandleProps,i=(0,br.Z)(t,Nr),l=n||{},c=l.dragBg,d=l.notDragBg,u=l.isDragHanlerProps,f=o.style,v=(0,br.Z)(o,Ir),m=function(e,n,t){return void 0===n&&(n="#1e90ff"),void 0===t&&(t="transparent"),{backgroundColor:e?n:t}}(a,c,d),p=u?void 0:s;return(0,G.jsx)("div",(0,M.Z)({ref:r,style:(0,M.Z)({},f,m)},v,p,{children:(0,G.jsx)(e,(0,M.Z)({dragHandleProps:u?s:void 0},i))}))}};const _r=function(e,n){return"function"==typeof e?Sr(e,n):function(n){return Sr(n,e)}};var wr=["isDetails"];const kr=function(e){var n=e.isDetails,t=(0,br.Z)(e,wr),o=P("note__handle",[n,"note__handle--open"]);return(0,G.jsx)("span",(0,M.Z)({className:o},t))};var Er={paddingLeft:8,width:"100%",textAlign:"left"};const Dr=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.onClose,a=e.onEdit,s=e.onRemove,i=ge(fo),l=P(oe,t);return(0,G.jsxs)(Be,{className:l,style:(0,M.Z)({},o,i.COMP),isShow:n,onClose:r,children:[(0,G.jsx)(J,{style:Er,caption:"Edit Details",onClick:a}),(0,G.jsx)(J,{style:Er,caption:"Remove Note",onClick:s})]})};const Rr=function(e){var n=e.dragHandleProps,t=e.isDetails,o=e.onClickHandle,r=e.refTitle,a=e.noteTitle,s=e.onBlurTitle,i=e.isMenuMore,l=e.onClickMenuMore,c=e.onCloseMenuMore,d=e.onEditDetails,u=e.onRemoveNote;return(0,G.jsxs)("div",{children:[(0,G.jsx)(kr,(0,M.Z)({},n,{isDetails:t,onClick:o})),(0,G.jsx)(In,{ref:r,className:"note__caption",initialValue:a,onBlur:s}),(0,G.jsx)(dr,{className:"note__bt-more",title:"Click to open note menu",onClick:l}),i&&(0,G.jsx)(Dr,{isShow:i,className:"note__menu-more",onClose:c,onEdit:d,onRemove:u})]})};const Ar=function(e){var n=e.isShow,t=e.note,o=e.editDetails,r=mn(t);return(0,G.jsx)(Le,{className:"note__details",isShow:n,children:(0,G.jsxs)("div",{onClick:o,children:[(0,G.jsx)(Cn,{labels:t.labels}),(0,G.jsx)("div",{children:r})]})})};const Tr=function(e){var n=e.columnId,t=e.note,o=e.dragHandleProps,a=t.id,s=t.title,i=(0,E.useRef)(),l=Ne(),c=l[0],d=l[1],u=l[2],f=ho(),v=f[0],m=f[1],p=(0,r.I0)(),h=(0,E.useCallback)((function(){p(xn({columnId:n,noteId:a}))}),[n]),x=(0,E.useCallback)((function(e){var n=e.target.value;if(n)n!==s&&p(ln({noteId:a,title:n}));else{var t=D(i);t&&t.setValue(s)}}),[s]),g=(0,E.useCallback)((function(){p(Yn({id:Kn,data:t})),u()}),[t]);return(0,G.jsxs)("div",{className:"note",id:a,children:[(0,G.jsx)(Rr,{dragHandleProps:o,isDetails:v,onClickHandle:m,refTitle:i,noteTitle:s,onBlurTitle:x,isMenuMore:c,onClickMenuMore:d,onCloseMenuMore:u,onEditDetails:g,onRemoveNote:h}),(0,G.jsx)(Ar,{isShow:v,note:t,editDetails:g})]})};var Br=_r({notDragBg:"#9e9e9e",isDragHanlerProps:!0})(Tr);Br.displayName="DnDNote";const Mr=Br;var Or={minHeight:50},Lr={border:"2px solid #9e9e9e"};const Hr=function(e){var n=e.cId,t=e.noteIds,o=e.notes;return(0,G.jsx)(lo.bK,{droppableId:n,children:function(e,r){return function(e){var n=e.provided,t=e.snapshot,o=e.noteIds,r=e.notes,a=e.cId;return(0,G.jsxs)(Cr,(0,M.Z)({},n.droppableProps,{innerRef:n.innerRef,isDraggingOver:t.isDraggingOver,style:Or,notDraggingStyle:Lr,children:[o.map((function(e,n){return(0,G.jsx)(lo._l,{draggableId:e,index:n,children:function(n,t){return(0,G.jsx)(Mr,{draggableProps:n.draggableProps,innerRef:n.innerRef,isDragging:t.isDragging,dragHandleProps:n.dragHandleProps,note:r[e],columnId:a})}},e)})),n.placeholder]}))}({provided:e,snapshot:r,noteIds:t,notes:o,cId:n})}})};var Pr={marginRight:8},Gr={position:"absolute",width:150};const Zr=function(e){var n=e.boardId,t=e.column,o=e.notes,a=e.addNote,s=t.id,i=t.isHide,l=t.title,c=t.withAdd,d=t.noteIds,u=Ne(),f=u[0],v=u[1],m=u[2],p=(0,r.I0)(),h=(0,E.useCallback)((function(){p(It({columnId:s}))}),[s]),x=(0,E.useCallback)((function(){a({columnId:s})}),[a,s]),g=(0,E.useCallback)((function(e){p(Nt({columnId:s,title:e.target.value}))}),[s]),b=(0,E.useCallback)((function(){p(Qn({boardId:n,columnId:s}))}),[n,s]),y=d.length;return(0,G.jsxs)(gr.Item,{isHide:i,children:[(0,G.jsxs)(gr.Header,{children:[(0,G.jsx)(dr,{style:Pr,title:"Click to open topic menu",onClick:v}),f&&(0,G.jsx)(fr,{style:Gr,isShow:f,onAddNote:x,onHideTopic:h,onClose:m}),(0,G.jsx)(gr.Title,{initialValue:l,onBlur:g}),(0,G.jsx)(gr.Counter,{value:y}),c&&(0,G.jsx)(J,{clCaption:ie,caption:"AddNote",title:"Click to add a new note",timeout:1e3,onClick:x})]}),(0,G.jsx)(Hr,{cId:s,noteIds:d,notes:o}),(0,G.jsx)("div",{children:cr(d)&&(0,G.jsx)(J,{clCaption:ie,caption:"Remove Topic",onClick:b})})]})};var Fr=function(e){var n=e.boardId,t=e.columnIds,o=e.columns,r=e.notes,a=e.addNote;return(t||[]).map((function(e){var t=o[e];return(0,G.jsx)(Zr,{boardId:n,column:t,notes:r,addNote:a},t.id)}))},Kr={moveNote:gn,addNote:hn,addColumn:qn};const Xr=(0,r.$j)((function(e){return{board:Tt.board.currentBoard(e),notes:Tt.note.notes(e),columns:Tt.column.columns(e)}}),Kr)((function(e){var n=e.board,t=e.notes,o=e.columns,r=e.addNote,a=e.moveNote,s=e.addColumn,i=n.id,l=n.columnIds,c=(0,E.useCallback)((function(e){co(e)||a(e)}),[]),d=(0,E.useCallback)((function(){s({boardId:i})}),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(sr,{addColumn:d}),(0,G.jsx)(lo.Z5,{onDragEnd:c,children:(0,G.jsx)(ir,{children:(0,G.jsx)(Fr,{boardId:i,columnIds:l,columns:o,notes:t,addNote:r})})})]})}));var Vr={addBoard:f};const Ur=(0,r.$j)(null,Vr)((function(e){var n=e.style,t=e.addBoard;return(0,G.jsxs)(vo,{className:q,style:n,children:[(0,G.jsx)(No,{title:qo}),(0,G.jsx)("span",{className:ee}),(0,G.jsx)("span",{className:te,children:"Notes: Boards"}),(0,G.jsx)(J,{caption:"Add Board",title:"Click to add new board",accessKey:"a",isEvent:!1,timeout:200,onClick:t}),(0,G.jsx)(rr,{})]})}));var zr={float:"right",paddingRight:12};var Wr=_r((function(e){var n=e.title,t=e.count;return(0,G.jsxs)("div",{className:"topic",children:[(0,G.jsx)("span",{children:n}),(0,G.jsx)(gr.Counter,{style:zr,value:t})]})}));Wr.displayName="DnDTopic";const Yr=Wr;const $r=function(e){var n=e.id,t=e.columnIds,o=e.columns;return(0,G.jsx)(lo.bK,{droppableId:n,children:function(e,n){return function(e){var n=e.provided,t=e.snapshot,o=e.columnIds,r=e.columns;return(0,G.jsxs)(Cr,(0,M.Z)({},n.droppableProps,{innerRef:n.innerRef,isDraggingOver:t.isDraggingOver,children:[o.map((function(e,n){return(0,G.jsx)(lo._l,{draggableId:e,index:n,children:function(n,t){return(0,G.jsx)(Yr,(0,M.Z)({draggableProps:n.draggableProps,innerRef:n.innerRef,isDragging:t.isDragging,dragHandleProps:n.dragHandleProps},{title:(o=r[e]).title,count:o.noteIds.length}));var o}},e)})),n.placeholder]}))}({provided:e,snapshot:n,columnIds:t,columns:o})}})};var Jr={margin:"8px 8px 4px 0"};const qr=function(e){var n=e.id,t=(0,r.I0)(),o=(0,E.useMemo)((function(){return[function(e){return t(ut({boardId:n,title:e.target.value}))},function(){return t(v({boardId:n}))},function(){return t(m({boardId:n}))},function(e){return Dt.board(e,n)}]}),[n,t]),a=o[0],s=o[1],i=o[2],l=o[3],c=(0,r.v9)(l),d=(0,r.v9)(At.columns),u=c.columnIds;return(0,G.jsxs)(gr.Item,{children:[(0,G.jsxs)(gr.Header,{children:[(0,G.jsx)(gr.Title,{initialValue:c.title,onBlur:a}),(0,G.jsx)(gr.Counter,{value:u.length})]}),(0,G.jsx)($r,{id:n,columnIds:u,columns:d}),(0,G.jsx)(k.OL,{to:"/boards/"+n,className:de,style:Jr,onClick:i,children:"ToNotes"}),(0,G.jsx)("div",{children:cr(u)&&(0,G.jsx)(J,{clCaption:ie,caption:"Remove Board",onClick:s})})]})};const Qr=(0,r.$j)((function(e){return{boardIds:Dt.boardIds(e),boards:Dt.boards(e)}}))((function(e){var n=e.boardIds;e.boards;return n.map((function(e){return(0,G.jsx)(qr,{id:e},e)}))}));var ea={moveColumn:et};const na=(0,r.$j)(null,ea)((function(e){var n=e.moveColumn,t=(0,E.useCallback)((function(e){co(e)||n(e)}),[n]);return[(0,G.jsx)(Ur,{},"header"),(0,G.jsx)(lo.Z5,{onDragEnd:t,children:(0,G.jsx)(ir,{children:(0,G.jsx)(Qr,{})})},"ddc")]}));var ta="modal-root",oa=ta+" show-modal",ra={display:"block"},aa={display:"none"};const sa=function(e){var n=e.isShow,t=e.onClose,o=e.children,r=n?[oa,ra]:[ta,aa],a=r[0],s=r[1];return(0,G.jsx)("div",{role:"presentation",className:a,style:s,onClick:t,children:o})};var ia=function(e){var n=e.TS,t=e.store,o=e.shows,r=e.data,a=e.dialogs,s=e.onClose;return a.map((function(e){var a=e.type,i=e.comp;return(0,E.createElement)(i,{TS:n,key:a,isShow:o[a],data:r[a],store:t,dispatch:t.dispatch,onClose:s.bind(null,a)})}))},la=(0,E.memo)((function(e){var n=e.store,t=ge(ye),o=(0,E.useRef)(),r=(0,E.useState)({isShow:!1,currentDialog:null,dialogs:[],inits:{},shows:{},data:{}}),a=r[0],s=r[1],i=(0,E.useCallback)((function(e){s((function(n){return n.shows[e]=!1,(0,M.Z)({},n,{isShow:!1,currentDialog:null,shows:n.shows})}))}),[]);(0,E.useEffect)((function(){return n.subscribe((function(){var e=kt.modal(n.getState()),t=e.id,r=e.data,a=void 0===r?{}:r,i=D(o);t&&i!==e&&(R(o,e),s((function(e){var n=e.inits,o=e.shows,r=e.data,s=e.dialogs;return n[t]||(s.push({type:t,comp:Vn.getDialog(t)}),n[t]=!0),o[t]=!0,r[t]=a,{isShow:!0,currentDialog:t,shows:o,data:r,dialogs:s,inits:n}})))}))}),[]);var l=a.isShow,c=a.currentDialog,d=a.shows,u=a.data,f=a.dialogs;return(0,G.jsx)(sa,{isShow:l,onClose:i.bind(null,c),children:(0,G.jsx)(ia,{TS:t,store:n,shows:d,data:u,dialogs:f,onClose:i})})}));const ca=la;const da=function(e){var n=e.basename,t=e.store,o=(0,E.useState)(io),a=o[0],s=o[1],i=(0,r.v9)(kt.uiTheme);return(0,E.useEffect)((function(){a.getThemeName!==i&&(a.setThemeName(i),s((0,M.Z)({},a)))}),[i]),(0,G.jsx)(E.StrictMode,{children:(0,G.jsx)(k.VK,{basename:n,children:(0,G.jsxs)(xe.Provider,{value:a,children:[(0,G.jsx)(ca,{store:t}),(0,G.jsxs)(qt.Z5,{children:[(0,G.jsx)(qt.AW,{path:"/boards/:id",element:(0,G.jsx)(Xr,{})}),(0,G.jsx)(qt.AW,{path:"/boards",element:(0,G.jsx)(na,{})}),(0,G.jsx)(qt.AW,{path:"/",element:(0,G.jsx)(qt.Fg,{to:"/boards",replace:!0})})]})]})})})};var ua=((window||{}).location||{}).pathname;(0,o.s)(document.getElementById("app")).render((0,G.jsx)(r.zt,{store:$t,children:(0,G.jsx)(da,{basename:ua,store:$t})}))},745:(e,n,t)=>{var o=t(935);n.s=o.createRoot,o.hydrateRoot},251:(e,n,t)=>{var o=t(294),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var o,a={},c=null,d=null;for(o in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)s.call(n,o)&&!l.hasOwnProperty(o)&&(a[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps)void 0===a[o]&&(a[o]=n[o]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:i.current}}n.Fragment=a,n.jsx=c,n.jsxs=c},893:(e,n,t)=>{e.exports=t(251)}},e=>{var n;n=397,e(e.s=n)}]);