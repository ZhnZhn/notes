/*! For license information please see app_ce5a5c3250d3bdd1e790.js.LICENSE.txt */
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="app/",n(n.s=14)}([function(e,t,n){"use strict";e.exports=n(12)},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){e.exports=n(7)(0)},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){e.exports=n(7)(22)},function(e,t,n){e.exports=n(7)(88)},function(e,t,n){e.exports=n(7)(86)},function(e,t){e.exports=lib_vendor},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){e.exports=n(7)(14)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){e.exports=n(7)(36)},function(e,t,n){"use strict";n(13);var o=n(2),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;r=i("react.element"),t.Fragment=i("react.fragment")}var s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var o,i={},l=null,u=null;for(o in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,o)&&!c.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:r,type:e,key:l,ref:u,props:i,_owner:s.current}}t.jsx=l,t.jsxs=l},function(e,t,n){e.exports=n(7)(47)},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(11),i=n(4),s=n(9),a=function(e,t){return"Max number ("+t+") of "+e+" reached."},c=8,l=8,u=12,d={STORAGE_KEY:"notes-manager",DMSG_PREFIX:"m",MSG_SAVED:"Boards saved",MSG_SAVE_FAIL:"Boards not saved",MSG_CLEANED:"localStorage cleaned",MSG_CLEAN_FAIL:"localStorage not cleaned",BOARDS_PREFIX:"b",MAX_BOARDS:c,N_MAX_BOARDS:{descr:a("boards",c)},MAX_COLUMNS:l,COLUMNS_PREFIX:"c",N_MAX_COLUMNS:{descr:a("columns",l)},MAX_NOTES:u,NOTES_PREFIX:"n",N_MAX_NOTES:{descr:a("notes",u)},NLABELS_PREFIX:"nl"},p=n(1),h=n.n(p),f="SAVE_BOARD",b="CLEAN_STORAGE",m="SET_UI_THEME",v=function(){return{type:f}},j=function(){return{type:b}},O=function(e){return{type:m,uiTheme:e}},_="EDIT_BOARD_TITLE",g="SET_BOARD_CURRENT",y="ADD_BOARD",C="REMOVE_BOARD",x=function(e,t){return{type:_,boardId:e,title:t}},N=function(e){return{type:g,boardId:e}},I=function(e){return{type:y,boardId:e}},D=function(e){return{type:C,boardId:e}},S={app:{boardId:"b-1",boardIds:["b-1"],uiTheme:"DARK"},drawerMsg:[],modal:{id:void 0,data:void 0},boards:{"b-1":{id:"b-1",title:"Board 1",columnIds:["c-1","c-2"]}},notes:{},noteLabels:{},columns:{"c-1":{id:"c-1",title:"Topic 1",noteIds:[],withAdd:!0},"c-2":{id:"c-2",title:"Topic 2",noteIds:[]}}},E=function(e,t){return Array.isArray(e)?e.filter((function(e){return e!==t})):e},T=function(e,t){var n={};return Object.keys(e).forEach((function(o){o!==t&&(n[o]=e[o])})),n},w=function(e,t,n){var o;return h()({},e,((o={})[t]=n,o))},A=w,R=E,L=function(e,t){switch(void 0===e&&(e=S.app),t.type){case m:var n=t.uiTheme;return h()({},e,{uiTheme:n});case g:var o=t.boardId;return h()({},e,{boardId:o});case y:var r=t.boardId,i=[].concat(e.boardIds,[r]);return A(e,"boardIds",i);case C:var s=t.boardId;return e.boardId===s&&(e.boardId=null),A(e,"boardIds",R(e.boardIds,s));default:return e}},M="ADD_DRAWER_MSG",B="REMOVE_DRAWER_MSG",k=function(e){return e<10?"0"+e:""+e},P=function(e){var t=new Date;return k(t.getHours())+":"+k(t.getMinutes())+" "+e},H=function(e){return{type:B,id:e}},G={addDrawerMsg:function(e,t){return{type:M,id:t,msg:P(e)}},removeDrawerMsg:H},U={crMsg:function(e,t){return{id:e,msg:t}},filterByProp:function(e,t,n){return void 0===n&&(n="id"),Array.isArray(e)?e.filter((function(e){return e[n]!==t})):e}},F=U.crMsg,K=U.filterByProp,W=function(e,t){switch(void 0===e&&(e=S.drawerMsg),t.type){case M:var n=t.id,o=t.msg;return[F(n,o)].concat(e);case B:var r=t.id;return K(e,r);default:return e}},V=n(3),X=n.n(V),z=n(2),Y=function(e){var t=e.className,n=void 0===t?"":t,r=e.style,i=e.tabIndex,s=e.onClose;return Object(o.jsx)("button",{tabIndex:i,className:"bt-svg-close "+n,style:r,onClick:s,children:Object(o.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("path",{d:"M 0,0 L 12,12"}),Object(o.jsx)("path",{d:"M 12,0 L 0,12"})]})})},J="dialog__header",$="dialog__caption not-selected",q="dialog__svg-close",Q=function(e){var t=e.rootStyle,n=(e.svgStyle,e.caption),r=e.children,i=e.onClose;return Object(o.jsxs)("div",{className:J,style:t,children:[Object(o.jsx)("span",{className:$,children:n}),r,Object(o.jsx)(Y,{className:q,onClose:i})]})},Z=n(10),ee=n.n(Z),te={KEY:{textDecoration:"underline"}},ne=function(e){var t=e.className,n=e.rootStyle,r=e.caption,i=void 0===r?"":r,s=e.accessKey,a=e.children,c=i.toLowerCase().indexOf(s);if(s&&-1!==c){var l=i.substring(0,c),u=i.substring(c,c+1),d=i.substring(c+1);return Object(o.jsxs)("span",{className:t,style:n,children:[Object(o.jsx)("span",{children:l}),Object(o.jsx)("span",{style:te.KEY,children:u}),Object(o.jsx)("span",{children:d}),a]})}return Object(o.jsxs)("span",{className:t,style:n,children:[i,a]})},oe="bt-flat",re="bt-flat__div",ie="bt-flat__span",se={color:"#607d8b"},ae="pointer-events",ce=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._setPointerEvents=function(e){void 0===e&&(e="auto"),ee()(t)&&t.rootNode&&t.rootNode.style&&(t.rootNode.style[ae]=e)},t._hClick=function(e){t._setPointerEvents("none");var n=t.props,o=n.timeout,r=n.onClick;setTimeout(t._setPointerEvents,o),r(e)},t._refNode=function(e){return t.rootNode=e},t}X()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.className,n=e.rootStyle,r=e.clDiv,i=void 0===r?re:r,s=e.clCaption,a=e.isPrimary,c=e.title,l=void 0===c?"":c,u=e.caption,d=e.accessKey,p=e.children,f=a?h()({},n,se):n,b=t?oe+" "+t:oe,m=s?ie+" "+s:ie,v=d?l+" ["+d+"]":l;return Object(o.jsx)("button",{ref:this._refNode,className:b,style:f,accessKey:d,tabIndex:0,title:v,onClick:this._hClick,children:Object(o.jsxs)("div",{className:i,children:[Object(o.jsx)(ne,{className:m,caption:u,accessKey:d}),p]})})},n.focus=function(){this.rootNode.focus()},t}(z.Component);ce.defaultProps={timeout:3e3};var le=ce,ue="modal-dialog",de="md__actions",pe="show-popup",he="hide-popup",fe={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_POPUP:{opacity:0,transform:"scaleY(0)"}},be=function(e){function t(t){var n;return(n=e.call(this)||this)._hClickDialog=function(e){e.stopPropagation()},n._refBtClose=function(e){return n._btClose=e},n._renderCommandButton=function(){var e=n.props,t=e.commandButtons,r=e.withoutClose,i=e.onClose;return Object(o.jsxs)("div",{className:de,children:[t,!r&&Object(o.jsx)(le,{ref:n._refBtClose,caption:"Close",timeout:0,onClick:i})]})},n.wasClosing=!1,n}X()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return e===this.props||!e.isNotUpdate},n.focusBtClose=function(){this.props.isFocusClose&&this._btClose&&this._btClose.focus()},n.componentDidMount=function(){this.focusBtClose()},n.componentDidUpdate=function(e,t){var n=this,o=this.props,r=o.timeout,i=o.isShow;this.wasClosing&&setTimeout((function(){n.setState({})}),r),!1===e.isShow&&i&&this.focusBtClose()},n.render=function(){var e,t,n=this.props,r=n.className,i=n.style,s=n.isShow,a=n.isWithButton,c=n.caption,l=n.captionStyle,u=n.children,d=n.onClose;return this.wasClosing?(t=fe.HIDE,this.wasClosing=!1):(e=s?ue+" "+r+" "+pe:ue+" "+r+" "+he,t=s?fe.SHOW:fe.HIDE_POPUP,s||(this.wasClosing=!0)),Object(o.jsxs)("div",{role:"dialog",className:e,style:h()({},i,t),onClick:this._hClickDialog,children:[Object(o.jsx)(Q,{rootStyle:l,caption:c,onClose:d}),Object(o.jsx)("div",{children:u}),a&&this._renderCommandButton()]})},t}(z.Component);be.defaultProps={className:"",isWithButton:!0,isNotUpdate:!1,isFocusClose:!0,timeout:450};var me=be,ve="d-notif__row",je="d-notif__caption",Oe="d-notif__descr",_e=function(e){function t(){return e.apply(this,arguments)||this}X()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return e===this.props||e.isShow!==this.props.isShow},n.render=function(){var e=this.props,t=e.isShow,n=e.data,r=void 0===n?{}:n,i=e.TS,s=e.onClose,a=r.caption,c=void 0===a?"":a,l=r.descr,u=void 0===l?"":l;return Object(o.jsxs)(me,{style:i.DIALOG,caption:"Notification",isShow:t,onClose:s,children:[c&&Object(o.jsx)("div",{className:ve,children:Object(o.jsx)("p",{className:je,children:c})}),Object(o.jsx)("div",{className:ve,children:Object(o.jsx)("p",{className:Oe,children:u})})]})},t}(z.Component),ge=Object(z.createContext)(),ye=function(e){return function(t){function n(){return t.apply(this,arguments)||this}return X()(n,t),n.prototype.render=function(){var t=this;return Object(o.jsx)(ge.Consumer,{children:function(n){return Object(o.jsx)(e,h()({},t.props,{theme:n}))}})},n}(z.Component)},Ce={themeName:void 0,style:void 0,createStyle:function(e){return{DIALOG:h()({},e.BG),SELECT:{MODAL_PANE:h()({},e.BG)}}}},xe={app:function(e){return e.app||{}},currentBoard:function(e){return xe.app(e).boardId},boardIds:function(e){return xe.app(e).boardIds||[]},uiTheme:function(e){return xe.app(e).uiTheme}},Ne={msg:function(e){return e.drawerMsg||[]}},Ie={boards:function(e){return e.boards||{}},currentBoard:function(e){return Ie.boards(e)[xe.currentBoard(e)]||{}},board:function(e,t){return Ie.boards(e)[t]||{}},columnIds:function(e,t){return Ie.board(e,t).columnIds||[]},boardIds:function(e){return xe.boardIds(e)}},De=function(e){return e.noteLabels||{}},Se={columns:function(e){return e.columns||{}},column:function(e,t){return Se.columns(e)[t]||{}},noteIds:function(e,t){return Se.column(e,t).noteIds||[]}},Ee={app:xe,drawer:Ne,board:Ie,note:{notes:function(e){return e.notes||{}}},column:Se},Te=function(){return Object(o.jsx)("svg",{viewBox:"0 0 24 24",className:"m-select__svg-arrow",children:Object(o.jsx)("path",{d:"M7 10l5 5 5-5z"})})},we=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._isEventTargetOutside=function(e){return t.rootNode&&t.rootNode.contains&&!t.rootNode.contains(e.target)},t._hClickOutside=function(e){var n=t.props.onClose;t._isEventTargetOutside(e)&&(e.stopPropagation(),n(e))},t._addOutsideListener=function(){document.addEventListener("click",t._hClickOutside,!0)},t._removeOutsideListener=function(){document.removeEventListener("click",t._hClickOutside,!0)},t._initShowMode=function(){t._addOutsideListener(),t.rootNode&&t.rootNode.focus()},t._hKeyDown=function(e){"Escape"===e.key&&(e.preventDefault(),t.props.onClose(e))},t._refRootNode=function(e){return t.rootNode=e},t}X()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isShow&&this._initShowMode()},n.componentWillUnmount=function(){this._removeOutsideListener()},n.componentDidUpdate=function(e){this.props!==e&&(this.props.isShow?this._initShowMode():this._removeOutsideListener())},n.render=function(){var e=this.props,t=e.className,n=e.style,r=e.children;return Object(o.jsx)("div",{ref:this._refRootNode,className:t,style:n,tabIndex:"0",onKeyDown:this._hKeyDown,children:r})},t}(z.Component);we.defaultProps={onClose:function(){}};var Ae=we,Re={SHOW:{display:"block"},HIDE:{display:"none"}},Le=function(e){var t=e.isShow,n=e.className,r=e.style,i=e.children,s=t?Re.SHOW:Re.HIDE,a=t?"show-popup":"",c=n?n+" "+a:a||void 0;return Object(o.jsx)("div",{className:c,style:h()({},r,s),children:i})},Me={PANE:{position:"absolute",top:12,zIndex:20,width:"100%",paddingLeft:16,paddingTop:12,paddingBottom:12,lineHeight:1.8,backgroundColor:"rgb(77, 77, 77)",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},ITEM:{color:"greenyellow"}},Be=function(e,t,n,r,i){return e.map((function(e){var i,s=e.value===t.value?Me.ITEM:void 0,a=r.bind(null,e),c=(i=a,function(e){13===e.which&&i(e)});return Object(o.jsx)("div",{role:"button",tabIndex:"0",style:s,className:n,onClick:a,onKeyPress:c,children:e.caption},e.value)}))},ke=function(e){var t=e.isShow,n=e.options,r=e.item,i=e.rootStyle,s=e.clItem,a=e.onSelect,c=e.onClose;return Object(o.jsx)(Ae,{style:i,isShow:t,onClose:c,children:Object(o.jsx)(Le,{isShow:t,style:h()({},Me.PANE,i),children:Be(n,r,s,a)})})},Pe="m-select",He="m-select__label",Ge="m-select__div",Ue="m-select__div__value",Fe="m-select__div__bt",Ke="m-select__line",We=function(e){function t(t){var n;return(n=e.call(this)||this)._handleOpen=function(){n.setState({isShow:!0})},n._handleClose=function(){n.setState({isShow:!1})},n._handleSelect=function(e,t){t.stopPropagation(),n.props.onSelect(e),n.setState({isShow:!1,item:e})},n.state={isShow:!1,item:t.initItem},n}return X()(t,e),t.prototype.render=function(){var e=this.props,t=e.caption,n=e.options,r=e.styleConfig,i=void 0===r?{}:r,s=this.state,a=s.isShow,c=s.item;return Object(o.jsxs)("div",{className:Pe,style:i.ROOT,onClick:this._handleOpen,children:[Object(o.jsx)(ke,{rootStyle:i.MODAL_PANE,isShow:a,item:c,options:n,clItem:i.CL_ITEM,onSelect:this._handleSelect,onClose:this._handleClose}),Object(o.jsx)("label",{className:He,children:t}),Object(o.jsxs)("div",{className:Ge,children:[Object(o.jsx)("div",{className:Ue,children:c.caption}),Object(o.jsx)("button",{className:Fe,tabIndex:"0",children:Object(o.jsx)("div",{children:Object(o.jsx)(Te,{})})}),Object(o.jsx)("div",{className:Ke})]})]})},t}(z.Component);We.defaultProps={initItem:{caption:"",value:""}};var Ve=We,Xe={caption:"Dark",value:"DARK"},ze=[{caption:"Dark",value:"DARK"},{caption:"Light",value:"WHITE"},{caption:"Sand",value:"SAND"}],Ye=function(e){if(!e)return Xe;var t=ze.find((function(t){return t.value===e}));return t?h()({},t):Xe},Je=ye(function(e){function t(t){var n;(n=e.call(this)||this)._selectTheme=function(e){var t=n.props,o=t.theme,r=t.dispatch;e.value!==o.getThemeName()&&(r(O(e.value)),n.forceUpdate())};var o=xe.uiTheme(t.store.getState());return n.state={initItem:Ye(o)},n}X()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return e===this.props||e.isShow!==this.props.isShow},n.render=function(){var e=this.props,t=e.isShow,n=e.theme,r=e.onClose,i=this.state.initItem,s=n.createStyle(Ce);return Object(o.jsx)(me,{className:"md-settings",style:s.DIALOG,caption:"User Settings",isShow:t,onClose:r,children:Object(o.jsx)("div",{children:Object(o.jsx)(Ve,{styleConfig:s.SELECT,caption:"UI Theme (Default: Dark)",initItem:i,options:ze,onSelect:this._selectTheme})})})},t}(z.Component)),$e={UL:{listStyle:"outside none none",marginTop:4,marginLeft:12,marginRight:5,marginBottom:8,textAlign:"left"},TABS:{width:"100%",height:"100%"},TAB_SELECTED:{display:"block",width:"100%",height:"100%"},NONE:{display:"none"}},qe=z.Children.toArray,Qe=function(e){function t(t){var n;(n=e.call(this,t)||this)._hClickTab=function(e,t){n.setState({selectedTabIndex:e}),"function"==typeof t.props.onClick&&t.props.onClick()},n._renderTabs=function(e){var t=n.state.selectedTabIndex;return e.map((function(e,o){var r=o===t;return Object(z.cloneElement)(e,{key:o,onClick:n._hClickTab.bind(ee()(n),o,e),isSelected:r})}))},n._renderComponents=function(){var e=n.state,t=e.selectedTabIndex;return e.components.map((function(e,n){var r=n===t,i=r?$e.TAB_SELECTED:$e.NONE;return Object(o.jsx)("div",{style:i,children:Object(z.cloneElement)(e,{isSelected:r})},"a"+n)}))};var r=qe(t.children).map((function(e,t){return Object(z.cloneElement)(e.props.children,{key:"comp"+t})}));return n.state={selectedTabIndex:0,components:r},n}X()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.width,n=e.height,r=e.tabsStyle,i=e.children,s=qe(i);return Object(o.jsxs)("div",{style:{width:t,height:n},children:[Object(o.jsx)("ul",{style:h()({},$e.UL,r),children:this._renderTabs(s)}),Object(o.jsx)("div",{style:$e.TABS,children:this._renderComponents()})]})},n.getSelectedTabIndex=function(){return this.state.selectedTabIndex},t}(z.Component),Ze="tab not-selected",et="tab--selected",tt="",nt=32,ot=function(e,t){return function(n){(function(e){return e.key===tt||e.keyCode===nt})(n)&&!e&&t()}},rt=function(e){var t=e.title,n=e.isSelected,r=e.onClick,i=function(e){return e?Ze+" "+et:Ze}(n),s=function(e,t){return function(){e||t()}}(n,r),a=ot(n,r);return Object(o.jsx)("li",{role:"tab",tabIndex:0,className:i,onClick:s,onKeyDown:a,children:Object(o.jsx)("span",{children:t})})},it="MOVE_NOTE",st="DELETE_NOTE",at="ADD_NOTE",ct="EDIT_NOTE_TITLE",lt="EDIT_NOTE_DESCR",ut="EDIT_NOTE_LABELS",dt=function(e){var t=e.draggableId,n=e.source,o=e.destination;return{type:it,noteId:t,source:n,destination:o}},pt=function(e,t){return{type:st,columnId:e,noteId:t}},ht=function(e,t){return{type:ct,noteId:e,title:t}},ft=function(e,t){return{type:at,columnId:e,noteId:t}},bt={moveNote:dt,deleteNote:pt,editNoteTitle:ht,editNoteDescr:function(e,t){return{type:lt,noteId:e,descr:t}},editNoteLabels:function(e,t,n,o){return{type:ut,noteId:e,labels:t,labelsTo:n,newLabels:o}},addNote:ft},mt="Delete",vt=46,jt=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hChange=function(e){n.setState({value:e.target.value})},n._hKeyDown=function(e){(function(e){return e.key===mt||e.keyCode===vt})(e)&&n.setState({value:""})},n._refInputNode=function(e){return n._inputNode=e},n.state={value:t.initValue},n}X()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.className,n=e.style,r=e.maxLength,i=this.state.value;return Object(o.jsx)("textarea",{ref:this._refInputNode,className:t,style:n,value:i,maxLength:r,onChange:this._hChange,onKeyDown:this._hKeyDown})},n.getValue=function(){return this.state.value},n.focus=function(){this._inputNode&&this._inputNode.focus&&this._inputNode.focus()},t}(z.Component);jt.defaultProps={initValue:""};var Ot=jt,_t=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._refBtClose=function(e){return t._btClose=e},t}X()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.className,n=e.onSave,r=e.onClose;return Object(o.jsxs)("div",{className:t,children:[Object(o.jsx)(le,{caption:"Save",timeout:100,onClick:n}),Object(o.jsx)(le,{ref:this._refBtClose,caption:"Close",timeout:0,onClick:r})]})},n.focusBtClose=function(){this._btClose&&this._btClose.focus&&this._btClose.focus()},t}(z.Component),gt=function(e){return"object"!=typeof e||null==e?"This note is not exist.":e.descr||"Edit description..."},yt="md-details__descr",Ct="md__actions",xt=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._focusBtClose=function(){t.props.isSelected&&t._buttons&&t._buttons.focusBtClose()},t._editDescr=function(){var e=t.props,n=e.note,o=e.dispatch,r=t._inputDescr.getValue();o(bt.editNoteDescr(n.id,r))},t._refInputDescr=function(e){return t._inputDescr=e},t._refButtons=function(e){return t._buttons=e},t}X()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._focusBtClose()},n.render=function(){var e=this.props,t=e.note,n=e.onClose,r=gt(t);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ot,{ref:this._refInputDescr,className:yt,maxLength:250,initValue:r},t.id),Object(o.jsx)(_t,{ref:this._refButtons,className:Ct,onSave:this._editDescr,onClose:n})]})},n.componentDidUpdate=function(e){this.props!==e&&this.props.isSelected&&this._focusBtClose()},t}(z.Component),Nt=function(e){var t=e.className,n=e.clClose,r=e.item,i=e.onRemove;return Object(o.jsxs)("button",{className:t,style:{backgroundColor:r.color},onClick:i,children:[r.title,i&&Object(o.jsx)("span",{className:n,children:"x"})]})},It={HEADER:"header",LOGO:"header__logo-notes",TITLE_GAP:"header__title-gap",LOGO_BOARD:"header-board__logo_notes",HEADER_TITLE:"header__title",TITLE_BOARD:"header-board__title",CONT:"container-list",MODAL_PANE:"modal-pane",MD_ACTIONS:"md__actions",ITEM_CARD:"card",CARD_TITLE:"card__title",CARD_BT:"bt__card",NOTE_LABEL:"note__label",NOTE_LABEL_CLOSE:"note__label__close",INPUT:"input-text",BT_CIRCLE:"bt-circle",NAV_LINK:"nav-link",ML_8:"ml-8"},Dt={ROOT:{paddingBottom:4}},St=function(e){var t=e.labels,n=e.onRemove;return Object(o.jsx)("div",{style:Dt.ROOT,children:t.map((function(e){return Object(o.jsx)(Nt,{className:It.NOTE_LABEL,clClose:It.NOTE_LABEL_CLOSE,item:e,onRemove:n?n.bind(null,e):void 0},e.id||e.title)}))})};St.defaultProps={labels:[]};var Et=St,Tt="Enter",wt=13,At="Delete",Rt=46,Lt=function(e){return e.key===Tt||e.keyCode===wt},Mt=function(e){return e.key===At||e.keyCode===Rt},Bt=function(e){return{value:e.value}},kt=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state=Bt(t.props),t._hChange=function(e){var n=e.target.value;n.length<=t.props.maxLength&&t.setState({value:n})},t._hKeyDown=function(e){if(Lt(e)){var n=document.activeElement;n&&"function"==typeof n.blur&&n.blur()}else Mt(e)&&t.setState({value:""})},t}X()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.className,n=e.style,r=e.onBlur,i=t?It.INPUT+" "+t:It.INPUT,s=this.state.value;return Object(o.jsx)("input",{type:"text",className:i,style:n,value:s,onChange:this._hChange,onBlur:r,onKeyDown:this._hKeyDown})},n.setValue=function(e){this.setState({value:e})},t}(z.Component);kt.defaultProps={className:"",maxLength:40};var Pt=kt,Ht=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._refCellNode=function(e){return t.cellNode=e},t}X()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.onReg;"function"==typeof e&&e(this.cellNode)},n.render=function(){var e=this.props,t=e.tabIndex,n=e.style,r=e.color,i=e.onClick,s=e.children,a=r?{backgroundColor:r}:void 0,c=i?i.bind(null,r):void 0;return Object(o.jsx)("button",{ref:this._refCellNode,tabIndex:t,style:h()({},n,a),onClick:c,children:s})},t}(z.Component);Ht.defaultProps={tabIndex:"-1"};var Gt,Ut,Ft=Ht,Kt=["#8abb5d","#f7a35c","#795548","#f45b5b","#d2b772","#dda0dd"],Wt=["#f1d600","#008b8b","#2f7ed8","#000000","#607d8b","#7092be"],Vt={ROOT:{paddingBottom:4},ROW2:{paddingLeft:56,paddingTop:4},TO_CELL:{marginLeft:12,marginRight:12},CELL:{marginRight:4,position:"relative",display:"inline-block",height:32,width:32,borderRadius:2,verticalAlign:"bottom",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"}},Xt=function(e){return e.initColor||"#2f7ed8"},zt=function(e){function t(t){var n;return(n=e.call(this)||this)._hInit=function(){n.setState({color:Xt(n.props)})},n._hClick=function(e){e&&n.setState({color:e})},n._renderColors=function(e,t){return e.map((function(e){return Object(o.jsx)(Ft,{color:e,style:Vt.CELL,onClick:n._hClick},e)}))},n.state={color:Xt(t)},n}X()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.onReg;"function"==typeof e&&e(this)},n.render=function(){var e=this.state.color;return Object(o.jsxs)("div",{style:Vt.ROOT,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)(Ft,{color:e,style:h()({},Vt.CELL,Vt.TO_CELL),onClick:this._hInit}),this._renderColors(Kt)]}),Object(o.jsx)("div",{style:Vt.ROW2,children:this._renderColors(Wt)})]})},n.getColor=function(){return this.state.color},t}(z.Component),Yt={toTitle:function(e){if("string"!=typeof e)return"";var t=e.trim();return t&&t.length>1?t[0].toUpperCase()+t.substring(1).trim():t},addLabel:function(e,t,n){var o=e.labels;return!t||o.find((function(e){return e.title===t}))?null:{labels:[].concat(o,[{title:t,color:n}])}},removeLabel:function(e,t){return{labels:e.labels.filter((function(e){return e.title!==t.title}))}}},Jt=Yt.toTitle,$t=Yt.addLabel,qt=Yt.removeLabel,Qt={LABELS:{paddingTop:4,paddingLeft:12,paddingBottom:8},BT_ADD:{marginLeft:16}},Zt=function(e){function t(t){var n;return(n=e.call(this,t)||this)._focusBtClose=function(){n.props.isSelected&&n._buttons&&n._buttons.focusBtClose()},n._onBlurLabel=function(e){n._label=e.target.value},n._onAddLabel=function(){n.setState((function(e){return $t(e,Jt(n._label),n._inputColor.getColor())}),(function(){return n._inputLabel.setValue("")}))},n._onRemoveLabel=function(e){n.setState((function(t){return qt(t,e)}))},n._saveLabels=function(){var e=n.props,t=e.note;(0,e.dispatch)(bt.editNoteLabels(t.id,n.state.labels))},n._refInputLabel=function(e){return n._inputLabel=e},n._refInputColor=function(e){return n._inputColor=e},n._refButtons=function(e){return n._buttons=e},n.state={labels:t.note.labels||[]},n}X()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._focusBtClose()},n.render=function(){var e=this.props.onClose,t=this.state.labels;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{style:Qt.LABELS,children:[Object(o.jsx)(Et,{labels:t,onRemove:this._onRemoveLabel}),Object(o.jsx)(Pt,{ref:this._refInputLabel,onBlur:this._onBlurLabel}),Object(o.jsx)(le,{clCaption:It.CARD_BT,rootStyle:Qt.BT_ADD,caption:"AddLabel",title:"Click to add a new label",timeout:400,onClick:this._onAddLabel})]}),Object(o.jsx)(zt,{ref:this._refInputColor}),Object(o.jsx)(_t,{ref:this._refButtons,className:It.MD_ACTIONS,onSave:this._saveLabels,onClose:e})]})},n.componentDidUpdate=function(e){this.props!==e&&this.props.isSelected&&this._focusBtClose()},t}(z.Component),en="md-details",tn={CAPTION:{marginBottom:0}},nn=ye(function(e){function t(){return e.apply(this,arguments)||this}X()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return e===this.props||e.isShow!==this.props.isShow},n.render=function(){var e,t,n,r=this.props,i=r.isShow,s=r.theme,a=r.data,c=r.dispatch,l=r.onClose,u=(e=a.title,"Details: "+(n=(t=void 0===e?"":e).substring(0,12))+(t.length>n.length?"...":"")),d=s.createStyle(Ce);return Object(o.jsx)(me,{className:en,style:d.DIALOG,captionStyle:tn.CAPTION,caption:u,isShow:i,withoutClose:!0,onClose:l,children:Object(o.jsxs)(Qe,{width:"100%",children:[Object(o.jsx)(rt,{title:"Descr",children:Object(o.jsx)(xt,{note:a,dispatch:c,onClose:l})}),Object(o.jsx)(rt,{title:"Labels",children:Object(o.jsx)(Zt,{note:a,dispatch:c,onClose:l})})]},a.id)})},t}(z.Component)),on="NOTIF",rn="SETTINGS",sn="DETAILS",an=((Gt={DF:_e})[on]=_e,Gt[rn]=Je,Gt[sn]=nn,Gt),cn={getDialog:function(e){return an[e]||an.DF}},ln="SHOW_MODAL",un=function(e,t){return{type:ln,id:e,data:t}},dn=un.bind(null,sn),pn=un.bind(null,rn),hn=un.bind(null,on),fn={showModal:un,showDetails:dn},bn=function(e,t){switch(void 0===e&&(e=S.modal),t.type){case ln:var n=t.id,o=t.data;return h()({},e,{id:n,data:o});default:return e}},mn="EDIT_COLUMN_TITLE",vn="ADD_COLUMN",jn="REMOVE_COLUMN",On="TOGGLE_COLUMN",_n="MOVE_COLUMN",gn=function(e,t){return{type:mn,columnId:e,title:t}},yn=function(e,t){return{type:vn,boardId:e,columnId:t}},Cn=function(e,t){return{type:jn,boardId:e,columnId:t}},xn=function(e){return{type:On,columnId:e}},Nn=function(e){var t=e.draggableId,n=e.source,o=e.destination;return{type:_n,columnId:t,source:n,destination:o}},In={editColumnTitle:gn,addColumn:yn,removeColumn:Cn,toggleColumn:xn,moveColumn:Nn},Dn=function(e){return function(t,n){var o;return h()({},t,((o={})[e]=n,o))}},Sn=function(e,t){return function(n,o,r,i,s){var a,c=[].concat(s[e]);return c.splice(r.index,1),c.splice(i.index,0,o),h()({},n,((a={})[s.id]=t(s,c),a))}},En=function(e,t){return function(n,o,r,i,s,a){var c,l=[].concat(s[e]);l.splice(r.index,1);var u=[].concat(a[e]);return u.splice(i.index,0,o),h()({},n,((c={})[s.id]=t(s,l),c[a.id]=t(a,u),c))}},Tn=function(e){var t=Dn(e);return{idsTo:t,moveInternal:Sn(e,t),moveExternal:En(e,t)}},wn=w,An=T,Rn=E,Ln=Tn("columnIds"),Mn=Ln.moveInternal,Bn=Ln.moveExternal,kn=function(e,t){switch(void 0===e&&(e=S.boards),t.type){case _:var n=t.boardId,o=t.title,r=h()({},e[n],{title:o});return wn(e,n,r);case y:var i=t.boardId;return wn(e,i,{id:i,title:"New Board",columnIds:[]});case C:var s=t.boardId;return An(e,s);case vn:var a=t.boardId,c=t.columnId,l=e[a],u=h()({},l,{columnIds:[].concat(l.columnIds,[c])});return wn(e,a,u);case jn:var d=t.boardId,p=t.columnId,f=e[d];return wn(e,d,h()({},f,{columnIds:Rn(f.columnIds,p)}));case _n:var b=t.columnId,m=t.source,v=t.destination,j=e[m.droppableId],O=e[v.droppableId];return j===O?Mn(e,b,m,v,j):Bn(e,b,m,v,j,O);default:return e}},Pn=w,Hn=T,Gn=function(e,t){switch(void 0===e&&(e=S.notes),t.type){case ct:var n=t.noteId,o=t.title,r=e[n],i=h()({},r,{title:o});return Pn(e,n,i);case lt:var s=t.noteId,a=t.descr,c=e[s],l=h()({},c,{descr:a});return Pn(e,s,l);case ut:var u=t.noteId,d=t.labelsTo,p=e[u],f=h()({},p,{labels:d});return Pn(e,u,f);case at:var b,m=t.noteId;return h()({},e,((b={})[m]=function(e){return{id:e,title:"New Note"}}(m),b));case st:var v=t.noteId;return Hn(e,v);default:return e}},Un=function(e,t){switch(void 0===e&&(e=S.noteLabels),t.type){case ut:return t.newLabels.forEach((function(t){e[t.id]=t})),h()({},e);default:return e}},Fn=w,Kn=E,Wn=T,Vn=Tn("noteIds"),Xn=Vn.idsTo,zn=Vn.moveInternal,Yn={setInObj:Fn,crColumn:function(e,t){return void 0===t&&(t=!0),{id:e,title:"New Topic",noteIds:[],withAdd:t}},removeProp:Wn,filterNoteIds:function(e,t){return Kn(e.noteIds,t)},noteIdsTo:Xn,moveExternal:Vn.moveExternal,moveInternal:zn},Jn=Yn.setInObj,$n=Yn.crColumn,qn=Yn.noteIdsTo,Qn=Yn.filterNoteIds,Zn=Yn.removeProp,eo=Yn.moveExternal,to=Yn.moveInternal,no=function(e,t){switch(void 0===e&&(e=S.columns),t.type){case mn:var n=t.columnId,o=t.title;return Jn(e,n,h()({},e[n],{title:o}));case vn:var r=t.columnId;return Jn(e,r,$n(r));case jn:var i=t.columnId;return Zn(e,i);case On:var s=t.columnId,a=e[s];return Jn(e,s,h()({},a,{isHide:!a.isHide}));case it:var c=t.noteId,l=t.source,u=t.destination,d=e[l.droppableId],p=e[u.droppableId];return d===p?to(e,c,l,u,d):eo(e,c,l,u,d,p);case st:var f=t.columnId,b=t.noteId,m=e[f],v=Qn(m,b);return Jn(e,f,qn(m,v));case at:var j=t.columnId,O=t.noteId,_=e[j],g=[O].concat(_.noteIds);return Jn(e,j,qn(_,g));default:return e}},oo=Object(s.combineReducers)({app:L,drawerMsg:W,modal:bn,boards:kn,notes:Gn,noteLabels:Un,columns:no}),ro=function(e){return void 0===e&&(e="a"),e+"-"+(Date.now().toString(36)+Math.random().toString(36).substr(2,9)).toUpperCase().substr(12)},io=function(e){return Object.keys(e).map((function(t){return e[t]}))},so=[].concat([function(e){var t=e.getState,n=e.dispatch;return function(e){return function(o){if(o.type===y){if(r=t(),xe.boardIds(r).length>=d.MAX_BOARDS)return n(hn(d.N_MAX_BOARDS)),!1;o=h()({},o,{boardId:ro(d.BOARDS_PREFIX)})}var r;return e(o)}}},function(e){var t=e.getState,n=e.dispatch;return function(e){return function(o){if(o.type===vn){if(r=t(),i=o.boardId,Ie.columnIds(r,i).length>=d.MAX_COLUMNS)return n(hn(d.N_MAX_COLUMNS)),!1;o=h()({},o,{columnId:ro(d.COLUMNS_PREFIX)})}var r,i;return e(o)}}},function(e){var t=e.getState,n=e.dispatch;return function(e){return function(o){if(o.type===at){if(r=t(),i=o.columnId,Se.noteIds(r,i).length>=d.MAX_NOTES)return n(hn(d.N_MAX_NOTES)),!1;o=h()({},o,{noteId:ro(d.NOTES_PREFIX)})}var r,i;return e(o)}}},function(e){var t=e.getState;e.dispatch;return function(e){return function(n){if(n.type===ut){var o=De(t());n=h()({},n,function(e,t){var n=[],o=[];if(!e||"object"!=typeof e||!Array.isArray(t))return{labelsTo:n,newLabels:o};var r=io(e);return t.forEach((function(e){if(e.id)n.push(e);else{var t=r.find(function(e){return function(t){return t.title===e.title&&t.color===e.color}}(e));t?(e.id=t.id,n.push(e)):(e.id=ro(d.NLABELS_PREFIX),n.push(e),o.push(e))}})),{labelsTo:n,newLabels:o}}(o,n.labels))}return e(n)}}},function(e){var t=e.getState,n=e.dispatch;return function(e){return function(o){switch(o.type){case f:try{return window.localStorage.setItem(d.STORAGE_KEY,JSON.stringify(h()({},t(),{drawerMsg:[],modal:{id:null,data:null}}))),n(G.addDrawerMsg(d.MSG_SAVED)),!0}catch(e){return n(G.addDrawerMsg(d.MSG_SAVE_FAIL)),console.log(e.msg),!1}case b:try{return window.localStorage.removeItem(d.STORAGE_KEY),n(G.addDrawerMsg(d.MSG_CLEANED)),!0}catch(e){return n(G.addDrawerMsg(d.MSG_CLEAN_FAIL)),console.log(e.msg),!1}default:return e(o)}}}},function(e){return function(e){return function(t){return t.type===M&&(t=h()({},t,{id:ro(d.DMSG_PREFIX)})),e(t)}}},function(e){return function(t){return function(n){if(n.type===jn){var o=Se.noteIds(e.getState(),n.columnId);if(!Array.isArray(o)||0!==o.length)return!1}return t(n)}}},function(e){return function(t){return function(n){if(n.type===C){var o=Ie.columnIds(e.getState(),n.boardId);if(!Array.isArray(o)||0!==o.length)return!1}return t(n)}}},function(e){return function(e){return function(t){return t.type!==ct||"string"==typeof(n=t.title)&&n.trim()?e(t):(e(h()({},t,{title:"New Note"})),!1);var n}}}]),ao=s.compose,co=Object(s.createStore)(oo,function(){var e;try{var t=window.localStorage.getItem(d.STORAGE_KEY);t&&(e=JSON.parse(t))}catch(e){console.log(e.msg)}return e||S}(),ao(s.applyMiddleware.apply(void 0,so))),lo=n(6),uo={BG:{},ITEM:{}},po=Object.assign,ho=[function(e,t){document.body.style.backgroundColor=t.BG_BODY},function(e,t){po(e.BG,{backgroundColor:t.BG})},function(e,t){po(e.ITEM,{backgroundColor:t.BG,border:"1px solid "+t.BG})}],fo={DEFAULT:"DARK",DARK:"DARK",WHITE:"WHITE",SAND:"SAND"},bo=((Ut={})[fo.DARK]={pallete:{BG_BODY:"#5f5f5f",BG:"#4d4d4d",BG_HEADER:"#3a6799",C_HEADER:"#8a8a8a"},clSuffix:""},Ut[fo.WHITE]={pallete:{BG_BODY:"#d2d2d2",BG:"#ebf1f5",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--white"},Ut[fo.SAND]={pallete:{BG_BODY:"darkgrey",BG:"#e8e0cb",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--sand"},Ut),mo={},vo=function(e){var t,n=bo[e],o=n.clSuffix,r=n.pallete;void 0===(t=o)&&(t=""),Object.keys(mo).forEach((function(e){uo[e]=mo[e]+t})),function(e,t){ho.forEach((function(n){return n(e,t)}))}(uo,r)},jo={themeName:fo.DEFAULT,_init:function(){this.setThemeName(fo.DEFAULT)},getThemeName:function(){return this.themeName},setThemeName:function(e){this.themeName=fo[e]||fo.DEFAULT,vo(this.themeName)},createStyle:function(e){return this.themeName!==e.themeName&&(e.style=e.createStyle(uo,this.themeName),e.themeName=this.themeName),e.style}};jo._init();var Oo=jo,_o=n(5),go=function(e){if(!e||"object"!=typeof e)return!1;var t=e.destination,n=e.source;return!t||!n||t.droppableId===n.droppableId&&t.index===n.index},yo={themeName:void 0,style:void 0,createStyle:function(e){return{COMP:h()({},e.BG)}}},Co=ye((function(e){var t=e.className,n=e.style,r=e.theme,i=e.children,s=r.createStyle(yo);return Object(o.jsx)("header",{className:t,style:h()({},n,s.COMP),children:i})})),xo="drawer-bt",No="drawer-left",Io="drawer-modal",Do={BT_DRAWER:{width:"auto",height:"auto"},DRAWER_OFF:{transform:"translateX(-264px)",pointerEvents:"none"},DRAWER_ON:{transform:"translate(0px, 0px)"},MODAL_OFF:{opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},MODAL_ON:{opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}},So=ye(function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={isOpen:!1},t._hToggle=function(){t.setState((function(e){return{isOpen:!e.isOpen}}))},t}return X()(t,e),t.prototype.render=function(){var e=this.props,t=e.btStyle,n=e.theme,r=e.captionComp,i=e.children,s=this.state.isOpen,a=s?Do.DRAWER_ON:Do.DRAWER_OFF,c=s?Do.MODAL_ON:Do.MODAL_OFF,l=s?this._hToggle:void 0,u=n.createStyle(yo);return[Object(o.jsx)("button",{className:xo,style:h()({},Do.BT_DRAWER,t),"aria-label":"Open Drawer",onClick:this._hToggle,children:r},"bt-drawer"),Object(o.jsx)("div",{"aria-hidden":!s,className:Io,style:c,onClick:l},"wrapper"),Object(o.jsx)("aside",{className:No,style:h()({},a,u.COMP),children:i},"aside")]},t}(z.Component)),Eo=function(e){var t=e.className,n=void 0===t?It.LOGO:t,r=e.style,i=e.title,s=void 0===i?"Logo of web app Notes v0.2.0":i;return Object(o.jsx)("span",{className:n,style:r,title:s,children:Object(o.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[Object(o.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),Object(o.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),Object(o.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})},To=function(e,t){return void 0===t&&(t="Notes"),null==e?t+": Not Exist":t+": "+(e.title||"")+" ("+(Array.isArray(e.columnIds)?e.columnIds.length:0)+")"},wo=Object(i.connect)((function(e){return{board:Ee.board.currentBoard(e)}}))((function(e){var t=e.board;return[Object(o.jsx)(Eo,{className:It.LOGO_BOARD},"logo"),Object(o.jsx)("span",{className:It.HEADER_TITLE+" "+It.TITLE_BOARD,children:To(t)},"title")]})),Ao="drawer__title",Ro="drawer__list",Lo="drawer__list-bt",Mo="drawer__list-bt__badge",Bo=function(e){var t=e.board;return Object(o.jsx)("div",{className:Ao,children:To(t,"Topics")})},ko="hide",Po="show",Ho={LI:{position:"relative"}},Go=function(e){var t=e.isHide;return Object(o.jsx)("span",{className:Mo,children:t?"H":"S"})},Uo=function(e){var t=e.topic,n=e.onClick,r=t.isHide,i=t.title,s="Click to "+(r?Po:ko)+" topic";return Object(o.jsxs)("li",{style:Ho.LI,children:[Object(o.jsx)(le,{className:Lo,caption:i,title:s,timeout:0,onClick:n}),Object(o.jsx)(Go,{isHide:r})]})};Uo.defaultProps={topic:{}};var Fo=Uo,Ko={UL:{listStyleType:"none"}},Wo=function(e){return Object(o.jsx)("ul",{style:Ko.UL,children:(t=e,n=t.board,r=t.columns,i=t.toggleColumn,s=n.columnIds,(void 0===s?[]:s).map((function(e){return Object(o.jsx)(Fo,{topic:r[e],onClick:i.bind(null,e)},e)})))});var t,n,r,i,s};Wo.defaultProps={toggleColumn:function(){}};var Vo=Wo,Xo="drawer__msg-ul",zo="drawer__msg-li",Yo="drawer__msg-bt",Jo={removeDrawerMsg:H},$o=Object(i.connect)((function(e){return{items:Ne.msg(e)}}),Jo)((function(e){var t=e.items,n=e.removeDrawerMsg;return Object(o.jsx)("ul",{className:Xo,children:t.map((function(e){return Object(o.jsx)("li",{className:zo,children:Object(o.jsx)("button",{className:Yo,onClick:n.bind(null,e.id),children:e.msg})},e.id)}))})})),qo={toggleColumn:In.toggleColumn},Qo=Object(i.connect)((function(e){return{board:Ee.board.currentBoard(e),columns:Ee.column.columns(e)}}),qo)((function(e){var t=e.board,n=e.columns,r=e.toggleColumn;return Object(o.jsxs)("div",{className:Ro,children:[Object(o.jsx)(Bo,{board:t}),Object(o.jsx)(Vo,{board:t,columns:n,toggleColumn:r}),Object(o.jsx)($o,{})]})})),Zo=function(){return Object(o.jsx)(So,{captionComp:Object(o.jsx)(wo,{}),children:Object(o.jsx)(Qo,{})})},er="drawer-bt",tr="drawer-span",nr="drawer-svg",or="drawer",rr="drawer-modal",ir={BT_DRAWER:{position:"absolute",top:4,right:16},DRAWER_OFF:{transform:"translateX(264px)",pointerEvents:"none"},DRAWER_ON:{transform:"translate(0px, 0px)"},MODAL_OFF:{opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},MODAL_ON:{opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}},sr=ye(function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={isOpen:!1},t._hToggle=function(){t.setState((function(e){return{isOpen:!e.isOpen}}))},t}return X()(t,e),t.prototype.render=function(){var e=this.props,t=e.btStyle,n=e.theme,r=e.children,i=this.state.isOpen,s=i?ir.DRAWER_ON:ir.DRAWER_OFF,a=i?ir.MODAL_ON:ir.MODAL_OFF,c=i?this._hToggle:void 0,l=n.createStyle(yo);return[Object(o.jsx)("button",{className:er,style:h()({},ir.BT_DRAWER,t),"aria-label":"Open Drawer",onClick:this._hToggle,children:Object(o.jsx)("span",{className:tr,children:Object(o.jsxs)("svg",{className:nr,focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:[Object(o.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})})},"bt-drawer"),Object(o.jsx)("div",{"aria-hidden":!i,className:rr,style:a,onClick:c},"wrapper"),Object(o.jsx)("aside",{className:or,style:h()({},s,l.COMP),children:r},"aside")]},t}(z.Component)),ar="header__title",cr="drawer__list",lr="drawer__list-bt",ur={HEADER:{marginLeft:16,paddingTop:16,paddingBottom:8},UL:{listStyleType:"none"}},dr={showSettings:pn,saveBoard:v,cleanStorage:j},pr=Object(i.connect)(null,dr)((function(e){var t=e.showSettings,n=e.saveBoard,r=e.cleanStorage;return Object(o.jsxs)("div",{className:cr,children:[Object(o.jsx)("div",{className:ar,style:ur.HEADER,children:"Web App Notes v0.2.0"}),Object(o.jsxs)("ul",{style:ur.UL,children:[Object(o.jsx)("li",{children:Object(o.jsx)(le,{className:lr,caption:"User Settings",title:"Click to open user settings dialog",onClick:t})}),Object(o.jsx)("li",{children:Object(o.jsx)(le,{className:lr,caption:"Save Boards",title:"Click to save boards to localStorage",onClick:n})}),Object(o.jsx)("li",{children:Object(o.jsx)(le,{className:lr,caption:"Clean Storage",title:"Click to remove boards from localStorage",onClick:r})})]}),Object(o.jsx)($o,{})]})})),hr=function(){return Object(o.jsx)(sr,{children:Object(o.jsx)(pr,{})})},fr=function(e){var t=e.addColumn;return Object(o.jsxs)(Co,{className:It.HEADER,children:[Object(o.jsx)(Zo,{}),Object(o.jsx)(le,{caption:"Add Topic",title:"Click to add topic to board",accessKey:"a",timeout:500,onClick:t}),Object(o.jsx)("nav",{children:Object(o.jsx)(lo.NavLink,{to:"/boards",className:It.NAV_LINK+" "+It.ML_8,children:"ToBoards"})}),Object(o.jsx)(hr,{})]})},br=function(e){var t=e.children;return Object(o.jsx)("main",{className:It.CONT,children:t})},mr=function(e){return!Array.isArray(e)||0===e.length},vr=function(e){var t=e.className,n=e.style,r=e.svgStyle,i=e.title,s=e.onClick;return Object(o.jsx)("button",{className:"bt-svg-more "+t,style:n,title:i,onClick:s,children:Object(o.jsxs)("svg",{style:r,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("circle",{cx:"3",cy:"4",r:"2"}),Object(o.jsx)("circle",{cx:"3",cy:"11",r:"2"}),Object(o.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})};vr.defaultProps={className:""};var jr=vr,Or=ye((function(e){var t=e.style,n=e.theme,r=e.isShow,i=e.onHideTopic,s=e.onAddNote,a=e.onClose,c=n.createStyle(yo);return Object(o.jsxs)(Ae,{className:It.MODAL_PANE,style:h()({},t,c.COMP),isShow:r,onClose:a,children:[Object(o.jsx)("div",{children:Object(o.jsx)(le,{caption:"Hide Topic",title:"Click to hide Topic",onClick:i})}),Object(o.jsx)("div",{children:Object(o.jsx)(le,{caption:"Add Note",title:"Click to add new Note",timeout:100,onClick:s})})]})})),_r={themeName:void 0,style:void 0,createStyle:function(e){return{ITEM:h()({},e.ITEM)}}},gr={display:"none"},yr=ye((function(e){var t=e.isHide,n=e.theme,r=e.children,i=n.createStyle(_r),s=t?h()({},i.ITEM,gr):i.ITEM;return Object(o.jsx)("section",{className:It.ITEM_CARD,style:s,children:r})})),Cr={display:"inline-block",fontWeight:600,paddingLeft:12},xr={Item:yr,Title:function(e){return Object(o.jsx)(Pt,h()({className:It.CARD_TITLE},e))},Counter:function(e){var t=e.style,n=e.value;return Object(o.jsx)("span",{style:h()({},Cr,t),children:n})},BtCircle:function(e){var t=e.style,n=e.caption,r=e.title,i=e.tabIndex,s=void 0===i?"-1":i,a=e.onClick;return Object(o.jsx)("button",{className:It.BT_CIRCLE,style:t,tabIndex:s,title:r,onClick:a,children:n})}},Nr=n(8),Ir=n.n(Nr),Dr={ROOT:{minHeight:100},DRAGGING_OVER:{border:"2px dashed lightgreen"},NOT_DRAGGING_OVER:{border:"2px dashed transparent"}},Sr=function(e){var t=e.className,n=e.style,r=e.innerRef,i=e.isDraggingOver,s=e.notDraggingStyle,a=e.children,c=Ir()(e,["className","style","innerRef","isDraggingOver","notDraggingStyle","children"]),l=function(e,t){return e?Dr.DRAGGING_OVER:t||Dr.NOT_DRAGGING_OVER}(i,s);return Object(o.jsx)("div",h()({},c,{ref:r,className:t,style:h()({},Dr.ROOT,n,l),children:a}))},Er=function(e,t){return function(n){var r=n.draggableProps,i=n.innerRef,s=n.isDragging,a=n.dragHandleProps,c=Ir()(n,["draggableProps","innerRef","isDragging","dragHandleProps"]),l=t||{},u=l.dragBg,d=l.notDragBg,p=l.isDragHanlerProps,f=r.style,b=Ir()(r,["style"]),m=function(e,t,n){return void 0===t&&(t="#1e90ff"),void 0===n&&(n="transparent"),{backgroundColor:e?t:n}}(s,u,d),v=p?void 0:a;return Object(o.jsx)("div",h()({ref:i,style:h()({},f,m)},b,v,{children:Object(o.jsx)(e,h()({dragHandleProps:p?a:void 0},c))}))}},Tr=function(e,t){return"function"==typeof e?Er(e,t):function(t){return Er(t,e)}},wr="note__handle",Ar="note__handle--open",Rr=function(e){var t=e.isDetails,n=Ir()(e,["isDetails"]),r=t?wr+" "+Ar:wr;return Object(o.jsx)("span",h()({className:r},n))},Lr=ye((function(e){var t=e.theme,n=e.className,r=e.style,i=e.isShow,s=e.onClose,a=e.onEdit,c=e.onRemove,l=t.createStyle(yo);return Object(o.jsxs)(Ae,{className:It.MODAL_PANE+" "+(n||""),style:h()({},r,l.COMP),isShow:i,onClose:s,children:[Object(o.jsx)("div",{children:Object(o.jsx)(le,{caption:"Edit Details",onClick:a})}),Object(o.jsx)("div",{children:Object(o.jsx)(le,{caption:"Remove Note",onClick:c})})]})})),Mr="note__caption",Br="note__bt-more",kr="note__menu-more",Pr=function(e){var t=e.dragHandleProps,n=e.isDetails,r=e.onClickHandle,i=e.noteTitle,s=e.onBlurTitle,a=e.isMenuMore,c=e.onClickMenuMore,l=e.onCloseMenuMore,u=e.onEditDetails,d=e.onRemoveNote;return Object(o.jsxs)("div",{children:[Object(o.jsx)(Rr,h()({},t,{isDetails:n,onClick:r})),Object(o.jsx)(Pt,{className:Mr,value:i,onBlur:s}),Object(o.jsx)(jr,{className:Br,title:"Click to open note menu",onClick:c}),a&&Object(o.jsx)(Lr,{isShow:a,className:kr,onClose:l,onEdit:u,onRemove:d})]})},Hr=function(e){var t=e.isShow,n=e.note,r=e.editDetails,i=gt(n);return Object(o.jsx)(Le,{className:"note__details",isShow:t,children:Object(o.jsxs)("div",{onClick:r,children:[Object(o.jsx)(Et,{labels:n.labels}),Object(o.jsx)("div",{children:i})]})})},Gr=function(e){function t(t){var n;return(n=e.call(this,t)||this)._openMenuMore=function(){n.state.isMenuMore||n.setState({isMenuMore:!0})},n._closeMenuMore=function(){n.setState({isMenuMore:!1})},n._deleteNote=function(){var e=n.props;(0,e.deleteNote)(e.columnId,e.note.id)},n._blurTitle=function(e){var t=e.target.value,o=n.props,r=o.note,i=o.editNoteTitle;t!==r.title&&i(r.id,t)},n._toggleDetails=function(){n.setState((function(e){return{isDetails:!e.isDetails}}))},n._editDetails=function(){var e=n.props,t=e.note;(0,e.editDetails)(t)},n.state=function(e){return{noteTitle:e.note.title,isMenuMore:!1,isDetails:!1}}(t),n}return X()(t,e),t.prototype.render=function(){var e=this.props,t=e.dragHandleProps,n=e.note,r=this.state,i=r.noteTitle,s=r.isMenuMore,a=r.isDetails;return Object(o.jsxs)("div",{className:"note",id:n.id,children:[Object(o.jsx)(Pr,{dragHandleProps:t,isDetails:a,onClickHandle:this._toggleDetails,noteTitle:i,onBlurTitle:this._blurTitle,isMenuMore:s,onClickMenuMore:this._openMenuMore,onCloseMenuMore:this._closeMenuMore,onEditDetails:this._editDetails,onRemoveNote:this._deleteNote}),Object(o.jsx)(Hr,{isShow:a,note:n,editDetails:this._editDetails})]})},t}(z.Component),Ur={deleteNote:pt,editNoteTitle:ht,editDetails:fn.showDetails},Fr=Object(i.connect)(null,Ur)(Gr),Kr=Tr({notDragBg:"#9e9e9e",isDragHanlerProps:!0})(Fr);Kr.displayName="DnDNote";var Wr=Kr,Vr={ROOT:{minHeight:50},NOT_DRAGGING_OVER:{border:"2px solid #9e9e9e"}},Xr=function(e){var t=e.cId,n=e.noteIds,r=e.notes;return Object(o.jsx)(_o.Droppable,{droppableId:t,children:function(e,i){return function(e){var t=e.provided,n=e.snapshot,r=e.noteIds,i=e.notes,s=e.cId;return Object(o.jsxs)(Sr,h()({},t.droppableProps,{innerRef:t.innerRef,isDraggingOver:n.isDraggingOver,style:Vr.ROOT,notDraggingStyle:Vr.NOT_DRAGGING_OVER,children:[r.map((function(e,t){return Object(o.jsx)(_o.Draggable,{draggableId:e,index:t,children:function(t,n){return Object(o.jsx)(Wr,{draggableProps:t.draggableProps,innerRef:t.innerRef,isDragging:n.isDragging,dragHandleProps:t.dragHandleProps,note:i[e],columnId:s})}},e)})),t.placeholder]}))}({provided:e,snapshot:i,noteIds:n,notes:r,cId:t})}})},zr={SVG_MORE:{marginRight:8},MENU_MORE:{position:"absolute",width:150}},Yr=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={isMenuMore:!1},t._openMenuMore=function(){t.state.isMenuMore||t.setState({isMenuMore:!0})},t._closeMenuMore=function(){t.setState({isMenuMore:!1})},t._hHideTopic=function(){var e=t.props;(0,e.toggleColumn)(e.column.id)},t._hAddNewTask=function(){var e=t.props,n=e.column;(0,e.addNote)(n.id)},t._hBlurTitle=function(e){var n=t.props,o=n.column;(0,n.editColumnTitle)(o.id,e.target.value)},t._hRemoveColumn=function(){var e=t.props,n=e.boardId,o=e.column;(0,e.removeColumn)(n,o.id)},t}return X()(t,e),t.prototype.render=function(){var e=this.state.isMenuMore,t=this.props,n=t.column,r=t.notes,i=n.id,s=n.isHide,a=n.title,c=n.withAdd,l=n.noteIds;return Object(o.jsxs)(xr.Item,{isHide:s,children:[Object(o.jsx)(jr,{style:zr.SVG_MORE,title:"Click to open topic menu",onClick:this._openMenuMore}),e&&Object(o.jsx)(Or,{style:zr.MENU_MORE,isShow:e,onAddNote:this._hAddNewTask,onHideTopic:this._hHideTopic,onClose:this._closeMenuMore}),Object(o.jsx)(xr.Title,{value:a,onBlur:this._hBlurTitle}),Object(o.jsx)(xr.Counter,{value:l.length}),c&&Object(o.jsx)(le,{clCaption:It.CARD_BT,caption:"AddNote",title:"Click to add a new note",timeout:1e3,onClick:this._hAddNewTask}),Object(o.jsx)(Xr,{cId:i,noteIds:l,notes:r}),Object(o.jsx)("div",{children:mr(l)&&Object(o.jsx)(le,{clCaption:It.CARD_BT,caption:"Remove Topic",onClick:this._hRemoveColumn})})]})},t}(z.Component),Jr={editColumnTitle:gn,removeColumn:Cn,toggleColumn:xn},$r=Object(i.connect)(null,Jr)(Yr),qr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._hDragEnd=function(e){go(e)||t.props.moveNote(e)},t._renderColumns=function(e,t,n,r){return e.columnIds.map((function(i){var s=t[i];return Object(o.jsx)($r,{boardId:e.id,column:s,notes:n,addNote:r},s.id)}))},t._hAddColumn=function(){var e=t.props;(0,e.addColumn)(e.board.id)},t}return X()(t,e),t.prototype.render=function(){var e=this.props,t=e.board,n=e.notes,r=e.columns,i=e.addNote;return[Object(o.jsx)(fr,{addColumn:this._hAddColumn},"header"),Object(o.jsx)(_o.DragDropContext,{onDragEnd:this._hDragEnd,children:Object(o.jsx)(br,{children:this._renderColumns(t,r,n,i)})},"ddc")]},t}(z.Component),Qr={moveNote:dt,addNote:ft,addColumn:yn},Zr=Object(i.connect)((function(e){return{board:Ee.board.currentBoard(e),notes:Ee.note.notes(e),columns:Ee.column.columns(e)}}),Qr)(qr),ei={addBoard:I},ti=Object(i.connect)(null,ei)((function(e){var t=e.style,n=e.addBoard;return Object(o.jsxs)(Co,{className:It.HEADER,style:t,children:[Object(o.jsx)(Eo,{}),Object(o.jsx)("span",{className:It.TITLE_GAP}),Object(o.jsx)("span",{className:It.HEADER_TITLE,children:"Notes: Boards"}),Object(o.jsx)(le,{caption:"Add Board",title:"Click to add new board",accessKey:"a",timeout:200,onClick:n}),Object(o.jsx)(hr,{})]})})),ni={TOPIC:{paddingLeft:12,lineHeight:2},COUNTER:{float:"right",paddingRight:12}},oi=Tr((function(e){var t=e.title,n=e.count;return Object(o.jsxs)("div",{style:ni.TOPIC,children:[Object(o.jsx)("span",{children:t}),Object(o.jsx)(xr.Counter,{style:ni.COUNTER,value:n})]})}));oi.displayName="DnDTopic";var ri=oi,ii=function(e){var t=e.id,n=e.columnIds,r=e.columns;return Object(o.jsx)(_o.Droppable,{droppableId:t,children:function(e,t){return function(e){var t=e.provided,n=e.snapshot,r=e.columnIds,i=e.columns;return Object(o.jsxs)(Sr,h()({},t.droppableProps,{innerRef:t.innerRef,isDraggingOver:n.isDraggingOver,children:[r.map((function(e,t){return Object(o.jsx)(_o.Draggable,{draggableId:e,index:t,children:function(t,n){return Object(o.jsx)(ri,h()({draggableProps:t.draggableProps,innerRef:t.innerRef,isDragging:n.isDragging,dragHandleProps:t.dragHandleProps},{title:(r=i[e]).title,count:r.noteIds.length}));var r}},e)})),t.placeholder]}))}({provided:e,snapshot:t,columnIds:n,columns:r})}})},si={LINK:{marginTop:8,marginLeft:8,marginBottom:4}},ai=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._hBlurTitle=function(e){var n=t.props,o=n.board;(0,n.editBoardTitle)(o.id,e.target.value)},t._hSetCurrent=function(){var e=t.props,n=e.board;(0,e.setBoardCurrent)(n.id)},t._hRemove=function(){var e=t.props,n=e.board;(0,e.removeBoard)(n.id)},t._hToNotes=function(){var e=t.props,n=e.board;(0,e.setBoardCurrent)(n.id)},t}return X()(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.board,r=e.columns,i=n.columnIds;return Object(o.jsxs)(xr.Item,{children:[Object(o.jsx)(xr.Title,{value:n.title,onBlur:this._hBlurTitle}),Object(o.jsx)(xr.Counter,{value:i.length}),Object(o.jsx)(ii,{id:t,columnIds:i,columns:r}),Object(o.jsx)(lo.NavLink,{to:"/boards/"+n.id,className:It.NAV_LINK,style:si.LINK,onClick:this._hToNotes,children:"ToNotes"}),Object(o.jsx)("div",{children:mr(i)&&Object(o.jsx)(le,{clCaption:It.CARD_BT,caption:"Remove Board",onClick:this._hRemove})})]})},t}(z.Component),ci={editBoardTitle:x,setBoardCurrent:N,removeBoard:D},li=Object(i.connect)((function(e,t){return{board:Ie.board(e,t.id),columns:Se.columns(e)}}),ci)(ai),ui=Object(i.connect)((function(e){return{boardIds:Ie.boardIds(e),boards:Ie.boards(e)}}))((function(e){var t=e.boardIds;e.boards;return t.map((function(e){return Object(o.jsx)(li,{id:e},e)}))})),di=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._hDragEnd=function(e){go(e)||t.props.moveColumn(e)},t}return X()(t,e),t.prototype.render=function(){return[Object(o.jsx)(ti,{},"header"),Object(o.jsx)(_o.DragDropContext,{onDragEnd:this._hDragEnd,children:Object(o.jsx)(br,{children:Object(o.jsx)(ui,{})})},"ddc")]},t}(z.Component),pi={moveColumn:Nn},hi=Object(i.connect)(null,pi)(di),fi="modal-root",bi="modal-root show-modal",mi="modal-root hide-modal",vi={SHOW:{display:"block"},HIDE:{display:"none"},HIDE_BACKGROUND:{backgroundColor:"rgba(0,0,0, 0)"}},ji=function(e){function t(t){var n;return(n=e.call(this)||this)._hideModal=function(){n.wasClosing=!0,n.setState({})},n.wasClosing=!0,n}X()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!!(this.wasClosing||e.isShow||this.props.isShow)},n.componentDidUpdate=function(e,t){e.isShow&&!this.props.isShow&&setTimeout(this._hideModal,this.props.timeout)},n.render=function(){var e,t,n,r=this.props,i=r.isShow,s=r.children,a=r.onClose;return!i&&this.wasClosing?(e=fi,t=vi.HIDE,n=!0,this.wasClosing=!1):(e=i?bi:mi,t=i?vi.SHOW:vi.HIDE_BACKGROUND,n=!1),Object(o.jsx)("div",{className:e,style:t,"aria-hidden":n,onClick:a,children:s})},t}(z.Component);ji.defaultProps={timeout:450};var Oi=ji,_i=ye(function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null},t._onStore=function(){var e=t.props.store.getState().modal,n=void 0===e?{}:e,o=n.id,r=n.data,i=void 0===r?{}:r;o&&t.modal!==n&&(t.modal=n,t.setState((function(e){var t=e.inits,n=e.shows,r=e.data,s=e.dialogs;return t[o]?(n[o]=!0,r[o]=i,{isShow:!0,currentDialog:o,shows:n,data:r}):(s.push({type:o,comp:cn.getDialog(o)}),t[o]=!0,n[o]=!0,r[o]=i,{isShow:!0,currentDialog:o,shows:n,data:r,dialogs:s})})))},t._hClose=function(e){t.setState((function(t){return t.shows[e]=!1,{isShow:!1,currentDialog:null,shows:t.shows}}))},t._renderDialogs=function(){var e=t.props,n=e.store,o=e.theme,r=t.state,i=r.shows,s=r.data;return r.dialogs.map((function(e){var r=e.type,a=e.comp;return Object(z.createElement)(a,{key:r,isShow:i[r],data:s[r],onClose:t._hClose.bind(null,r),store:n,dispatch:n.dispatch,TS:o.createStyle(Ce)})}))},t}X()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.subscribe(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n.shouldComponentUpdate=function(e,t){return this.state.currentDialog!==t.currentDialog},n.render=function(){var e=this.state,t=e.isShow,n=e.currentDialog;return Object(o.jsx)(Oi,{isShow:t,onClose:this._hClose.bind(null,n),children:this._renderDialogs()})},t}(z.Component)),gi=function(e){function t(t){var n;(n=e.call(this)||this)._onStore=function(){var e=n.props.store,t=n.state.theme,o=xe.uiTheme(e.getState());o!==t.getThemeName()&&n.setState((function(e){return e.theme.setThemeName(o),{theme:h()({},e.theme)}}))};var o=t.store,r=xe.uiTheme(o.getState());return Oo.setThemeName(r),n.state={theme:Oo},n}X()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.store;this._unsubscribe=e.subscribe(this._onStore)},n.componentWillUnmount=function(){this._unsubscribe()},n.render=function(){var e=this.props,t=e.basename,n=e.store,r=this.state.theme;return Object(o.jsx)(z.StrictMode,{children:Object(o.jsx)(lo.BrowserRouter,{basename:t,children:Object(o.jsxs)(ge.Provider,{value:r,children:[Object(o.jsx)(_i,{store:n}),Object(o.jsxs)(lo.Switch,{children:[Object(o.jsx)(lo.Route,{path:"/boards/:id",component:Zr}),Object(o.jsx)(lo.Route,{path:"/boards",component:hi}),Object(o.jsx)(lo.Redirect,{from:"/",to:"/boards"})]})]})})})},t}(z.Component);Object(r.render)(Object(o.jsx)(i.Provider,{store:co,children:Object(o.jsx)(gi,{basename:"/notes",store:co})}),document.getElementById("app"))}]);