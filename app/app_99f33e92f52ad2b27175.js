/*! For license information please see app_99f33e92f52ad2b27175.js.LICENSE.txt */
"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[524],{20:(e,t,s)=>{var o=s(540),l=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,r=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,s){var o,n={},d=null,c=null;for(o in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,o)&&!i.hasOwnProperty(o)&&(n[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===n[o]&&(n[o]=t[o]);return{$$typeof:l,type:e,key:d,ref:c,props:n,_owner:r.current}}t.Fragment=n,t.jsx=d,t.jsxs=d},338:(e,t,s)=>{var o=s(961);t.H=o.createRoot,o.hydrateRoot},698:(e,t,s)=>{var o=s(338),l=s(468),n=s(452);const a=(e,t)=>"Max number ("+t+") of "+e+" reached.",r=8,i=8,d=12,c={STORAGE_KEY:"notes-manager",DMSG_PREFIX:"m",MSG_SAVED:"Boards saved",MSG_SAVE_FAIL:"Boards not saved",MSG_CLEANED:"localStorage cleaned",MSG_CLEAN_FAIL:"localStorage not cleaned",BOARDS_PREFIX:"b",MAX_BOARDS:r,N_MAX_BOARDS:{descr:a("boards",r)},MAX_COLUMNS:i,COLUMNS_PREFIX:"c",N_MAX_COLUMNS:{descr:a("columns",i)},MAX_NOTES:d,NOTES_PREFIX:"n",N_MAX_NOTES:{descr:a("notes",d)},NLABELS_PREFIX:"nl"};var u=s(644);const m=(0,n.VP)("boards/addBoard"),p=(0,n.VP)("boards/removeBoard"),h=(0,n.VP)("boards/setCurrentBoard"),g={app:{boardId:"b-1",boardIds:["b-1"],uiTheme:"DARK"},drawerMsg:[],modal:{id:void 0,data:void 0},boards:{"b-1":{id:"b-1",title:"Board 1",columnIds:["c-1","c-2"]}},notes:{},noteLabels:{},columns:{"c-1":{id:"c-1",title:"Topic 1",noteIds:[],withAdd:!0},"c-2":{id:"c-2",title:"Topic 2",noteIds:[]}}},x=(0,n.Z0)({name:"app",initialState:g.app,reducers:{setUiTheme(e,t){const{uiTheme:s}=t.payload;e.uiTheme=s}},extraReducers:e=>e.addCase(m,((e,t)=>{const{boardId:s}=t.payload;e.boardIds.push(s)})).addCase(p,((e,t)=>{const{boardId:s}=t.payload;e.boardIds=e.boardIds.filter((e=>e!==s))})).addCase(h,((e,t)=>{const{boardId:s}=t.payload;e.boardId=s}))}),{actions:b,reducer:j}=x,{setUiTheme:y}=b,C=j,v={crMsg:(e,t)=>({id:e,msg:t})},{crMsg:N}=v,f=(0,n.Z0)({name:"drawerMsg",initialState:g.drawerMsg,reducers:{addDrawerMsg(e,t){const{id:s,msg:o}=t.payload;e.unshift(N(s,o))},removeDrawerMsg(e,t){const{id:s}=t.payload;return e.filter((e=>e.id!==s))}}}),{actions:I,reducer:S}=f,{addDrawerMsg:_,removeDrawerMsg:w}=I,k=S;var E=s(848),D=s(651),O=s(540);const A=function(e,t,s){return void 0===s&&(s=e.key),(0,E.jsx)(e.type,Object.assign({},e.props,t),s)},R=e=>(e||{}).current,T=(e,t)=>{e&&(e.current=t)},B=e=>{const t=R(e);t&&"function"==typeof t.focus&&t.focus()},M=(e,t)=>e.isShow===t.isShow,L=e=>(0,O.memo)(e,M),P=(e=>(t,s)=>(0,O.useCallback)((s=>{e(s)&&(s.preventDefault(),s.stopPropagation(),t(s))}),s||[]))((e=>27===e.keyCode||"Escape"===e.key)),H=Array.isArray,G=e=>H(e)?e[0]?e[1]:"":e||"",V=(e,t)=>{const s=G(e),o=G(t);return s?o?s+" "+o:s:o||void 0};var F=s(587);const K=["w","h","children"],X=e=>{let{w:t,h:s=t,children:o}=e,l=(0,F.A)(e,K);return(0,E.jsx)("svg",Object.assign({"aria-hidden":"true",focusable:"fasle",role:"img",viewBox:"0 0 "+t+" "+s},l,{preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:o}))},U=e=>{let{className:t,style:s,tabIndex:o,onClose:l}=e;return(0,E.jsx)("button",{tabIndex:o,className:V("bt-svg-close",t),style:s,onClick:l,children:(0,E.jsxs)(X,{w:"12",width:"100%",height:"100%",children:[(0,E.jsx)("path",{d:"M 0,0 L 12,12"}),(0,E.jsx)("path",{d:"M 12,0 L 0,12"})]})})},z=e=>{let{rootStyle:t,svgStyle:s,caption:o,onClose:l,children:n}=e;return(0,E.jsxs)("div",{className:"dialog__header",style:t,children:[(0,E.jsx)("span",{className:"dialog__caption not-selected",children:o}),n,(0,E.jsx)(U,{className:"dialog__svg-close",onClose:l})]})},Y=function(e,t,s){void 0===t&&(t=3e3),void 0===s&&(s=!0);const o=(0,O.useRef)(null);return(0,O.useCallback)((l=>{const n=s?l:void 0;if(0===t)return void e(n);const a=o.current,{timeStamp:r}=l;(null==a||r-a>t)&&(e(n),o.current=r)}),[s,t,e])},W=Array.isArray,Z=e=>W(e)?e[0]?e[1]:void 0:e||void 0,q=function(){const e=Z(arguments.length<=0?void 0:arguments[0]),t=Z(arguments.length<=1?void 0:arguments[1]);return e?t?Object.assign({},e,t):e:t||void 0},J={textDecoration:"underline"},$=(e,t)=>{const s=((e,t)=>e?t.toLowerCase().indexOf(e):-1)(e,t);if(-1===s)return t;const o=t.substring(0,s),l=t.substring(s,s+1),n=t.substring(s+1);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:o}),(0,E.jsx)("span",{style:J,children:l}),(0,E.jsx)("span",{children:n})]})},Q=e=>{let{className:t,caption:s,accessKey:o,children:l}=e;return s?(0,E.jsxs)("span",{className:t,children:[$(o,s),l]}):null},ee="bt-flat__div",te={color:"#607d8b"},se=e=>{let{refEl:t,timeout:s,className:o,style:l,clDiv:n=ee,clCaption:a,isPrimary:r,title:i="",caption:d,accessKey:c,children:u,isEvent:m,onClick:p}=e;const h=Y(p,s,m),g=V("bt-flat",o),x=V("bt-flat__span",a),b=q(l,[r,te]),j=((e,t)=>t?e+" ["+t+"]":e)(i,c);return(0,E.jsx)("button",{ref:t,className:g,style:b,accessKey:c,title:j,onClick:h,children:(0,E.jsxs)("div",{className:n,children:[(0,E.jsx)(Q,{className:x,caption:d,accessKey:c}),u]})})},oe="header",le=oe+"__logo-notes",ne=oe+"__title-gap",ae=oe+"-board__logo_notes",re=oe+"__title",ie="modal-pane",de="md__actions",ce="card",ue=ce+"__title",me="bt__card",pe="note__label",he=pe+"__close",ge="nav-link",xe={display:"block"},be={display:"none"},je=e=>{let{buttons:t,refBtClose:s,withoutClose:o,onClose:l}=e;return(0,E.jsxs)("div",{className:de,children:[t,!o&&(0,E.jsx)(se,{refEl:s,caption:"Close",timeout:0,onClick:l})]})},ye=e=>{let{className:t="",style:s,isShow:o,isWithButton:l=!0,isFocusClose:n=!0,caption:a,captionStyle:r,children:i,commandButtons:d,withoutClose:c,onClose:u}=e;const m=((e,t)=>{const s=(0,O.useRef)(),o=(0,O.useRef)(),l=(0,O.useRef)(),n=(0,O.useCallback)((()=>{o.current=document.activeElement,t&&B(s)}),[t]),a=(0,O.useCallback)((()=>{B(o),o.current=null}),[]);return(0,O.useEffect)((()=>{const t=R(l);e&&!t?n():!e&&t&&a(),l.current=e}),[e,n,a]),s})(o,n),p=(0,O.useCallback)((e=>{e.stopPropagation()}),[]),h=P(u),g=V("modal-dialog "+t,[o,"show-popup"]),x=o?xe:be;return(0,E.jsxs)("div",{role:"dialog","aria-label":a,"aria-hidden":!o,className:g,style:Object.assign({},s,x),onClick:p,onKeyDown:h,children:[(0,E.jsx)(z,{rootStyle:r,caption:a,onClose:u}),(0,E.jsx)("div",{children:i}),l&&(0,E.jsx)(je,{buttons:d,refBtClose:m,withoutClose:c,onClose:u})]})},Ce="d-notif__row",ve=L((e=>{let{isShow:t,data:s,TS:o,onClose:l}=e;const{caption:n="",descr:a=""}=s||{};return(0,E.jsxs)(ye,{style:o.DIALOG,caption:"Notification",isShow:t,onClose:l,children:[n&&(0,E.jsx)("div",{className:Ce,children:(0,E.jsx)("p",{className:"d-notif__caption",children:n})}),(0,E.jsx)("div",{className:Ce,children:(0,E.jsx)("p",{className:"d-notif__descr",children:a})})]})})),Ne=ve,fe=(0,O.createContext)(),Ie=fe,Se=e=>(0,O.useContext)(Ie).createStyle(e),_e={themeName:void 0,style:void 0,createStyle:e=>({DIALOG:Object.assign({},e.BG),SELECT:{MODAL_PANE:Object.assign({},e.BG)}})},we=_e,ke=e=>!!e,Ee=(e,t)=>t,De=e=>{const[t,s]=(0,O.useReducer)(Ee,e,ke),o=(0,O.useRef)((()=>s(!0))),l=(0,O.useRef)((()=>s(!1)));return[t,R(o),R(l)]},Oe="m-select",Ae=Oe+"__label",Re=Oe+"__div",Te=Oe+"__div__value",Be=Oe+"__div__bt",Me=Oe+"__line",Le=Oe+"__svg-arrow",Pe=()=>(0,E.jsx)("svg",{className:Le,viewBox:"0 0 24 24",children:(0,E.jsx)("path",{d:"M7 10l5 5 5-5z"})}),He=(e,t)=>{R(t)&&(document.removeEventListener("click",e,!0),T(t,null))},Ge=(e,t)=>{const s=(0,O.useRef)(null),o=(0,O.useRef)(null),l=(0,O.useCallback)((e=>{const o=R(s);o&&o.contains&&!o.contains(e.target)&&(e.stopPropagation(),t(e))}),[]);return(0,O.useEffect)((()=>{e&&!R(o)?(document.addEventListener("click",l,!0),T(o,!0)):e||He(l,o)})),(0,O.useEffect)((()=>()=>He(l,o)),[]),s},Ve=e=>{let{isShow:t,className:s,style:o,children:l,onClose:n}=e;const a=Ge(t,n),r=P(n),i=t?r:void 0;return(0,E.jsx)("div",{role:"presentation",ref:a,className:s,style:o,onKeyDown:i,children:l})},Fe={display:"block"},Ke={display:"none"},Xe=e=>{let{isShow:t,className:s,style:o,children:l}=e;const n=V(s,[t,"show-popup"]),a=q(o,t?Fe:Ke);return(0,E.jsx)("div",{className:n,style:a,children:l})},Ue={position:"absolute",top:12,zIndex:20,width:"100%",paddingTop:12,paddingBottom:12,lineHeight:1.8,backgroundColor:"rgb(77, 77, 77)",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},ze={lineHeight:2.2,paddingLeft:12},Ye={color:"greenyellow"},We=(e,t,s,o,l)=>e.map((e=>{const l=q(ze,[e.value===t.value,Ye]),n=o.bind(null,e),a=(r=n,e=>{13===e.which&&r(e)});var r;return(0,E.jsx)("div",{role:"button",tabIndex:"0",style:l,className:s,onClick:n,onKeyPress:a,children:e.caption},e.value)})),Ze=e=>{let{isShow:t,style:s,options:o,item:l,clItem:n,onSelect:a,onClose:r}=e;return(0,E.jsx)(Ve,{isShow:t,style:s,onClose:r,children:(0,E.jsx)(Xe,{isShow:t,style:Object.assign({},Ue,s),children:We(o,l,n,a)})})},qe={caption:"",value:""},Je={},$e=e=>{let{initialItem:t,caption:s,options:o,styleConfig:l=Je,onSelect:n}=e;const[a,r,i]=De(),[d,c]=(0,O.useState)(t||qe),u=(0,O.useCallback)(((e,t)=>{t.stopPropagation(),n(e),i(),c(e)}),[n,i]);return(0,E.jsxs)("div",{role:"presentation",className:Oe,style:l.ROOT,onClick:r,children:[(0,E.jsx)(Ze,{style:l.MODAL_PANE,isShow:a,item:d,options:o,clItem:l.CL_ITEM,onSelect:u,onClose:i}),(0,E.jsx)("label",{className:Ae,children:s}),(0,E.jsxs)("div",{className:Re,children:[(0,E.jsx)("div",{className:Te,children:d.caption}),(0,E.jsx)("button",{className:Be,tabIndex:"0",children:(0,E.jsx)(Pe,{})}),(0,E.jsx)("div",{className:Me})]})]})},Qe=[{caption:"Dark",value:"DARK"},{caption:"Light",value:"WHITE"},{caption:"Sand",value:"SAND"}],et=Qe[0],tt=L((e=>{let{isShow:t,dispatch:s,onClose:o}=e;const l=(0,O.useCallback)((e=>{let{value:t}=e;s(y({uiTheme:t}))}),[]),n=Se(we);return(0,E.jsx)(ye,{isShow:t,className:"md-settings",style:n.DIALOG,caption:"User Settings",onClose:o,children:(0,E.jsx)($e,{styleConfig:n.SELECT,caption:"UI Theme (Default: Dark)",initialItem:et,options:Qe,onSelect:l})})})),st={listStyle:"outside none none",marginTop:4,marginLeft:12,marginRight:5,marginBottom:8,textAlign:"left"},ot={width:"100%",height:"100%"},lt={display:"block",width:"100%",height:"100%"},nt={display:"none"},at=(e,t,s)=>e.map(((e,o)=>A(e,{id:o,onClick:()=>s(o),isSelected:o===t},o))),rt=(e,t)=>e.map(((e,s)=>{const o=s===t,l=o?lt:nt;return(0,E.jsx)("div",{style:l,role:"tabpanel",id:"tabpanel-"+s,"aria-labelledby":"tab-"+s,children:A(e.props.children,{isSelected:o},"comp"+s)},"a"+s)})),it=e=>{let{width:t,height:s,tabsStyle:o,children:l}=e;const[n,a]=(0,O.useState)(0);return(0,E.jsxs)("div",{style:{width:t,height:s},children:[(0,E.jsx)("ul",{style:Object.assign({},st,o),children:at(l,n,a)}),(0,E.jsx)("div",{style:ot,children:rt(l,n)})]})},dt=e=>{let{id:t,title:s,isSelected:o,onClick:l}=e;const n=V("tab not-selected",[o,"tab--selected"]),a=()=>{o||l()};return(0,E.jsx)("li",{role:"tab",tabIndex:0,className:n,id:"tab-"+t,"aria-selected":o,"aria-controls":"tabpanel-"+t,onClick:a,onKeyDown:e=>{(e=>""===e.key||32===e.keyCode)(e)&&a()},children:(0,E.jsx)("span",{children:s})})},ct=(e,t,s)=>(0,O.useEffect)((()=>{const s=R(e);t&&s&&s.focus()}),[s]),ut=(0,n.Z0)({name:"notes",initialState:{},reducers:{addNote(e,t){const{noteId:s}=t.payload;e[s]=(e=>({id:e,title:"New Note"}))(s)},deleteNote(e,t){const{noteId:s}=t.payload;delete e[s]},editNoteTitle(e,t){const{noteId:s,title:o}=t.payload;e[s].title=o},editNoteDescr(e,t){const{noteId:s,descr:o}=t.payload;e[s].descr=o},editNoteLabels(e,t){const{noteId:s,labelsTo:o}=t.payload;e[s].labels=o}}}),{reducer:mt,actions:pt}=ut,{editNoteTitle:ht,editNoteDescr:gt}=pt,xt=mt,bt=e=>"Delete"===e.key||46===e.keyCode,jt=e=>{let{refEl:t,className:s,style:o,initialValue:l,maxLength:n}=e;const a=(0,O.useRef)(),[r,i]=(0,O.useState)(l),d=(0,O.useCallback)((e=>{i(e.target.value)}),[]),c=(0,O.useCallback)((e=>{bt(e)&&i("")}),[]);return(0,O.useImperativeHandle)(t,(()=>({getValue:()=>r,focus:()=>{const e=R(a);e&&e.focus()}})),[r]),(0,E.jsx)("textarea",{ref:a,className:s,style:o,value:r,maxLength:n,onChange:d,onKeyDown:c})},yt=e=>{let{refBtClose:t,className:s,onSave:o,onClose:l}=e;return(0,E.jsxs)("div",{className:s,children:[(0,E.jsx)(se,{caption:"Save",timeout:100,onClick:o}),(0,E.jsx)(se,{refEl:t,caption:"Close",timeout:0,onClick:l})]})},Ct=e=>"object"!=typeof e||null==e?"This note is not exist.":e.descr||"Edit description...",vt=e=>{const{isSelected:t,note:s,dispatch:o,onClose:l}=e,{id:n}=s,a=(0,O.useRef)(null),r=(0,O.useRef)(null),i=(0,O.useCallback)((()=>{o(gt({noteId:n,descr:R(r).getValue()}))}),[n,o]);ct(a,t,e);const d=Ct(s);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(jt,{refEl:r,className:"md-details__descr",maxLength:250,initialValue:d},n),(0,E.jsx)(yt,{refBtClose:a,className:"md__actions",onSave:i,onClose:l})]})},Nt=(0,n.VP)("notes/addNote"),ft=(0,n.VP)("notes/deleteNote"),It=(0,n.VP)("notes/moveNote"),St=(0,n.VP)("notes/editNoteLabels"),_t=e=>{let{className:t,clClose:s,item:o,onRemove:l}=e;return(0,E.jsxs)("button",{className:t,style:{backgroundColor:o.color},onClick:l,children:[o.title,l&&(0,E.jsx)("span",{className:s,children:"x"})]})},wt={paddingBottom:4},kt=e=>{let{labels:t,onRemove:s}=e;return(0,E.jsx)("div",{style:wt,children:(t||[]).map((e=>(0,E.jsx)(_t,{className:pe,clClose:he,item:e,onRemove:s?s.bind(null,e):void 0},e.id||e.title)))})},Et=e=>"Enter"===e.key||13===e.keyCode,Dt=e=>{let{refEl:t,className:s,style:o,initialValue:l,maxLength:n=40,onBlur:a}=e;const[r,i]=(0,O.useState)(l),d=(0,O.useCallback)((e=>{const{value:t}=e.target;t.length<=n&&i(t)}),[n]),c=(0,O.useCallback)((e=>{if(Et(e)){const e=document.activeElement;e&&"function"==typeof e.blur&&e.blur()}else bt(e)&&i("")}),[]);(0,O.useImperativeHandle)(t,(()=>({setValue:e=>{e.length<=n&&i(e)}})),[n]);const u=V("input-text",s);return(0,E.jsx)("input",{type:"text",className:u,style:o,value:r,onChange:d,onBlur:a,onKeyDown:c})},Ot=()=>{},At=e=>{let{tabIndex:t="-1",style:s,color:o,onClick:l=Ot,children:n}=e;const a=o?{backgroundColor:o}:void 0;return(0,E.jsx)("button",{tabIndex:t,style:Object.assign({},s,a),onClick:()=>l(o),children:n})},Rt="#2f7ed8",Tt=["#8abb5d","#f7a35c","#795548","#f45b5b","#d2b772","#dda0dd"],Bt=["#f1d600","#008b8b","#2f7ed8","#000000","#607d8b","#7092be"],Mt={paddingBottom:4},Lt={padding:"4px 0 0 56px"},Pt={position:"relative",display:"inline-block",height:32,width:32,marginRight:4,borderRadius:2,verticalAlign:"bottom",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},Ht=Object.assign({},Pt,{margin:"0 12px"}),Gt=e=>{let{colors:t,onClick:s}=e;return(0,E.jsx)(E.Fragment,{children:t.map((e=>(0,E.jsx)(At,{color:e,style:Pt,onClick:s},e)))})},Vt=e=>{let{refEl:t,initColor:s=Rt}=e;const[o,l]=(0,O.useState)(s),n=(0,O.useCallback)((e=>{e&&l(e)}),[]),a=(0,O.useCallback)((()=>l(s)),[s]);return(0,O.useImperativeHandle)(t,(()=>({getColor:()=>o})),[o]),(0,E.jsxs)("div",{style:Mt,children:[(0,E.jsxs)("div",{children:[(0,E.jsx)(At,{style:Ht,color:o,onClick:a}),(0,E.jsx)(Gt,{colors:Tt,onClick:n})]}),(0,E.jsx)("div",{style:Lt,children:(0,E.jsx)(Gt,{colors:Bt,onClick:n})})]})},Ft={padding:"4px 0 8px 12px"},Kt={marginLeft:16},Xt=e=>{const{isSelected:t,note:s,dispatch:o,onClose:l}=e,{id:n}=s,[a,r]=(0,O.useState)((()=>s.labels||[])),i=(0,O.useRef)(null),d=(0,O.useRef)(""),c=(0,O.useRef)(null),u=(0,O.useRef)(null),m=(0,O.useCallback)((e=>{d.current=e.target.value}),[]),p=(0,O.useCallback)((()=>{r((e=>((e,t,s)=>!t||e.find((e=>e.title===t))?e:e.concat({title:t,color:s}))(e,(e=>{if("string"!=typeof e)return"";const t=e.trim();return t&&t.length>0?t[0].toUpperCase()+t.slice(1):t})(R(d)),R(u).getColor())),R(c).setValue(""))}),[]),h=(0,O.useCallback)((e=>{r((t=>((e,t)=>e.filter((e=>e.title!==t.title)))(t,e)))}),[]),g=(0,O.useCallback)((()=>{o(St({noteId:n,labels:a}))}),[n,a]);return ct(i,t,e),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{style:Ft,children:[(0,E.jsx)(kt,{labels:a,onRemove:h}),(0,E.jsx)(Dt,{refEl:c,onBlur:m}),(0,E.jsx)(se,{clCaption:me,style:Kt,caption:"AddLabel",title:"Click to add a new label",timeout:400,onClick:p})]}),(0,E.jsx)(Vt,{refEl:u}),(0,E.jsx)(yt,{refBtClose:i,className:de,onSave:g,onClose:l})]})},Ut={marginBottom:0},zt=L((e=>{let{isShow:t,data:s,dispatch:o,onClose:l}=e;const n=Se(we),a=(e=>{const{title:t=""}=e,s=t.substring(0,12);return"Details: "+s+(t.length>s.length?"...":"")})(s);return(0,E.jsx)(ye,{className:"md-details",style:n.DIALOG,captionStyle:Ut,caption:a,isShow:t,withoutClose:!0,onClose:l,children:(0,E.jsxs)(it,{width:"100%",children:[(0,E.jsx)(dt,{title:"Descr",children:(0,E.jsx)(vt,{note:s,dispatch:o,onClose:l})}),(0,E.jsx)(dt,{title:"Labels",children:(0,E.jsx)(Xt,{note:s,dispatch:o,onClose:l})})]},s.id)})})),Yt="NOTIF",Wt="SETTINGS",Zt="DETAILS",qt={DF:Ne,[Yt]:Ne,[Wt]:tt,[Zt]:zt},Jt={getDialog:e=>qt[e]||qt.DF},$t=(0,n.Z0)({name:"modal",initialState:{id:null,data:null},reducers:{showModal(e,t){const{id:s,data:o}=t.payload;return{id:s,data:o}}}}),{actions:Qt,reducer:es}=$t,{showModal:ts}=Qt,ss=e=>ts({id:Yt,data:e}),os=es,ls=(0,n.VP)("columns/addColumn"),ns=(0,n.VP)("columns/removeColumn"),as=(0,n.VP)("columns/moveColumn"),rs=e=>(t,s)=>Object.assign({},t,{[e]:s}),is=(e,t)=>(s,o,l,n,a)=>{const r=[...a[e]];r.splice(l.index,1),r.splice(n.index,0,o),s[a.id]=t(a,r)},ds=(e,t)=>(s,o,l,n,a,r)=>{const i=[...a[e]];i.splice(l.index,1);const d=[...r[e]];d.splice(n.index,0,o),s[a.id]=t(a,i),s[r.id]=t(r,d)},cs=e=>{const t=rs(e);return{idsTo:t,moveInternal:is(e,t),moveExternal:ds(e,t)}},{moveInternal:us,moveExternal:ms}=cs("columnIds"),ps=(0,n.Z0)({name:"boards",initialState:g.boards,reducers:{editBoardTitle(e,t){const{boardId:s,title:o}=t.payload;e[s].title=o},addBoard(e,t){const{boardId:s}=t.payload;e[s]={id:s,title:"New Board",columnIds:[]}},removeBoard(e,t){const{boardId:s}=t.payload;delete e[s]}},extraReducers:e=>e.addCase(ls,((e,t)=>{const{boardId:s,columnId:o}=t.payload;e[s].columnIds.push(o)})).addCase(ns,((e,t)=>{const{boardId:s,columnId:o}=t.payload,l=e[s];l.columnIds=l.columnIds.filter((e=>e!==o))})).addCase(as,((e,t)=>{const{draggableId:s,source:o,destination:l}=t.payload,n=e[o.droppableId],a=e[l.droppableId];n===a?us(e,s,o,l,n):ms(e,s,o,l,n,a)}))}),{actions:hs,reducer:gs}=ps,{editBoardTitle:xs}=hs,bs=gs,js=(0,n.Z0)({name:"noteLabels",initialState:g.noteLabels,extraReducers:e=>e.addCase(St,((e,t)=>{const{newLabels:s}=t.payload;s.forEach((t=>{e[t.id]=t}))}))}),{reducer:ys}=js,Cs=ys,{moveInternal:vs,moveExternal:Ns}=cs("noteIds"),fs={crColumn:function(e,t){return void 0===t&&(t=!0),{id:e,title:"New Topic",noteIds:[],withAdd:t}},moveExternal:Ns,moveInternal:vs},{crColumn:Is,moveExternal:Ss,moveInternal:_s}=fs,ws=(0,n.Z0)({name:"columns",initialState:g.columns,reducers:{editColumnTitle(e,t){const{columnId:s,title:o}=t.payload;e[s].title=o},toggleColumn(e,t){const{columnId:s}=t.payload,o=e[s];e[s].isHide=!o.isHide},addColumn(e,t){const{columnId:s}=t.payload;e[s]=Is(s)},removeColumn(e,t){const{columnId:s}=t.payload;delete e[s]}},extraReducers:e=>{e.addCase(Nt,((e,t)=>{const{columnId:s,noteId:o}=t.payload;e[s].noteIds.unshift(o)})).addCase(ft,((e,t)=>{const{columnId:s,noteId:o}=t.payload,l=e[s];l.noteIds=l.noteIds.filter((e=>e!==o))})).addCase(It,((e,t)=>{const{draggableId:s,source:o,destination:l}=t.payload,n=e[o.droppableId],a=e[l.droppableId];n===a?_s(e,s,o,l,n):Ss(e,s,o,l,n,a)}))}}),{actions:ks,reducer:Es}=ws,{editColumnTitle:Ds,toggleColumn:Os}=ks,As=Es,Rs=(0,u.HY)({app:C,drawerMsg:k,modal:os,boards:bs,notes:xt,noteLabels:Cs,columns:As}),Ts=function(e){void 0===e&&(e="a");return e+"-"+(Date.now().toString(36)+Math.random().toString(36).substr(2,9)).toUpperCase().substr(12)},Bs={app:e=>e.app||{},modal:e=>e.modal||{},currentBoard:e=>Bs.app(e).boardId,boardIds:e=>Bs.app(e).boardIds||[],uiTheme:e=>Bs.app(e).uiTheme},Ms={msg:e=>e.drawerMsg||[]},Ls={boards:e=>e.boards||{},currentBoard:e=>Ls.boards(e)[Bs.currentBoard(e)]||{},board:(e,t)=>Ls.boards(e)[t]||{},columnIds:(e,t)=>Ls.board(e,t).columnIds||[],boardIds:e=>Bs.boardIds(e)},Ps=e=>e.noteLabels||{},Hs={columns:e=>e.columns||{},column:(e,t)=>Hs.columns(e)[t]||{},noteIds:(e,t)=>Hs.column(e,t).noteIds||[]},Gs={app:Bs,drawer:Ms,board:Ls,note:{notes:e=>e.notes||{}},column:Hs},Vs=e=>{let{getState:t,dispatch:s}=e;return e=>o=>{if(o.type===m.type){if(l=t(),Bs.boardIds(l).length>=c.MAX_BOARDS)return s(ss(c.N_MAX_BOARDS)),!1;const n=Ts(c.BOARDS_PREFIX);return o.payload={boardId:n},e(o),n}var l;return e(o)}},Fs=e=>{let{getState:t,dispatch:s}=e;return e=>o=>{if(o.type===ls.type){if(((e,t)=>Ls.columnIds(e,t).length>=c.MAX_COLUMNS)(t(),o.payload.boardId))return s(ss(c.N_MAX_COLUMNS)),!1;const l=Ts(c.COLUMNS_PREFIX);return o.payload.columnId=l,e(o),l}return e(o)}},Ks=e=>{let{getState:t,dispatch:s}=e;return e=>o=>{if(o.type===Nt.type){const{columnId:l}=o.payload;if(((e,t)=>Hs.noteIds(e,t).length>=c.MAX_NOTES)(t(),l))return s(ss(c.N_MAX_NOTES)),!1;const n=Ts(c.NOTES_PREFIX);return o.payload.noteId=n,e(o),n}return e(o)}},Xs=Object.keys,Us=e=>Xs(e).map((t=>e[t])),zs=Array.isArray,Ys=e=>{let{getState:t,dispatch:s}=e;return e=>s=>{if(s.type===St.type){const e=Ps(t()),{payload:o}=s;s.payload=Object.assign({},o,((e,t)=>{const s=[],o=[];if(l=e,!l||"object"!=typeof l||!zs(t))return{labelsTo:s,newLabels:o};var l;const n=Us(e);return t.forEach((e=>{if(e.id)s.push(e);else{const t=n.find((e=>t=>t.title===e.title&&t.color===e.color)(e));t?(e.id=t.id,s.push(e)):(e.id=Ts(c.NLABELS_PREFIX),s.push(e),o.push(e))}})),{labelsTo:s,newLabels:o}})(e,o.labels))}return e(s)}},Ws=(0,n.VP)("app/saveBoard"),Zs=(0,n.VP)("app/cleanStorage"),qs=e=>{let{getState:t,dispatch:s}=e;return e=>o=>{switch(o.type){case Ws.type:try{return window.localStorage.setItem(c.STORAGE_KEY,JSON.stringify(Object.assign({},t(),{drawerMsg:[],modal:{id:null,data:null}}))),s(_({msg:c.MSG_SAVED})),!0}catch(e){return s(_({msg:c.MSG_SAVE_FAIL})),console.log(e.msg),!1}case Zs.type:try{return window.localStorage.removeItem(c.STORAGE_KEY),s(_({msg:c.MSG_CLEANED})),!0}catch(e){return s(_({msg:c.MSG_CLEAN_FAIL})),console.log(e.msg),!1}default:return e(o)}}},Js=e=>e<10?"0"+e:""+e,$s=()=>e=>t=>{if(t.type===_.type){const{payload:s}=t,o=Ts(c.DMSG_PREFIX);return s.id=o,s.msg=(e=>{const t=new Date;return Js(t.getHours())+":"+Js(t.getMinutes())+" "+e})(s.msg),e(t),o}return e(t)},Qs=Array.isArray,eo=e=>{let{getState:t}=e;return e=>s=>{if(s.type===ns.type){const e=Hs.noteIds(t(),s.payload.columnId);if(!Qs(e)||0!==e.length)return!1}return e(s)}},to=Array.isArray,so=[...[Vs,Fs,Ks,Ys,qs,$s,eo,e=>{let{getState:t}=e;return e=>s=>{if(s.type===p.type){const e=Ls.columnIds(t(),s.payload.boardId);if(!to(e)||0!==e.length)return!1}return e(s)}},()=>e=>t=>{return t.type!==ht.type||"string"==typeof(s=t.payload.title)&&s.trim()?e(t):(t.payload.title="New Note",e(t),!1);var s}]];const oo=(0,n.U1)({reducer:Rs,preloadedState:(()=>{let e;try{const t=window.localStorage.getItem(c.STORAGE_KEY);t&&(e=JSON.parse(t))}catch(e){console.log(e.msg)}return e||g})(),devTools:!1,middleware:e=>so});var lo=s(106);const no={BG:{},ITEM:{}},ao=Object.assign,ro=[(e,t)=>{document.body.style.backgroundColor=t.BG_BODY},(e,t)=>{ao(e.BG,{backgroundColor:t.BG})},(e,t)=>{ao(e.ITEM,{backgroundColor:t.BG,border:"1px solid "+t.BG})}],io={DEFAULT:"DARK",DARK:"DARK",WHITE:"WHITE",SAND:"SAND"},co={[io.DARK]:{pallete:{BG_BODY:"#5f5f5f",BG:"#4d4d4d",BG_HEADER:"#3a6799",C_HEADER:"#8a8a8a"},clSuffix:""},[io.WHITE]:{pallete:{BG_BODY:"#d2d2d2",BG:"#ebf1f5",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--white"},[io.SAND]:{pallete:{BG_BODY:"darkgrey",BG:"#e8e0cb",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--sand"}},uo={},mo=e=>{const t=co[e],{clSuffix:s,pallete:o}=t;var l;void 0===(l=s)&&(l=""),Object.keys(uo).forEach((e=>{no[e]=uo[e]+l})),((e,t)=>{ro.forEach((s=>s(e,t)))})(no,o)},po={themeName:io.DEFAULT,_init(){this.setThemeName(io.DEFAULT)},getThemeName(){return this.themeName},setThemeName(e){this.themeName=io[e]||io.DEFAULT,mo(this.themeName)},createStyle(e){return this.themeName!==e.themeName&&(e.style=e.createStyle(no,this.themeName),e.themeName=this.themeName),e.style}};po._init();const ho=po;var go=s(111);const xo=e=>{if(!e||"object"!=typeof e)return!1;const{destination:t,source:s}=e;return!t||!s||t.droppableId===s.droppableId&&t.index===s.index},bo={themeName:void 0,style:void 0,createStyle:e=>({COMP:Object.assign({},e.BG)})},jo=bo,yo=e=>{let{className:t,style:s,children:o}=e;const l=Se(jo);return(0,E.jsx)("header",{className:t,style:Object.assign({},s,l.COMP),children:o})},Co=e=>!!e,vo=(e,t)=>"boolean"==typeof t?t:!e,No=e=>(0,O.useReducer)(vo,e,Co),fo={width:"auto",height:"auto"},Io={transform:"translateX(-264px)",pointerEvents:"none"},So={transform:"translate(0px, 0px)"},_o={opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},wo={opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},ko=e=>{let{btStyle:t,captionEl:s,children:o}=e;const[l,n]=No(!1),a=Se(jo),[r,i,d]=l?[So,wo,n]:[Io,_o];return[(0,E.jsx)("button",{className:"drawer-bt",style:Object.assign({},fo,t),"aria-label":"Open Drawer",onClick:n,children:s},"bt-drawer"),(0,E.jsx)("div",{role:"presentation","aria-hidden":!l,className:"drawer-modal",style:i,onClick:d},"wrapper"),(0,E.jsx)("aside",{className:"drawer-left",style:Object.assign({},r,a.COMP),children:o},"aside")]},Eo=e=>{let{className:t=le,style:s,title:o}=e;return(0,E.jsx)("span",{className:t,style:s,title:o,children:(0,E.jsxs)(X,{w:"32",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,E.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,E.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,E.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})},Do=Array.isArray,Oo=(e,t)=>{const s=null==e?"Not Exist":(e=>{const t=e.title||"",{columnIds:s}=e;return t+" ("+(Do(s)?s.length:0)+")"})(e);return(t||"Notes")+": "+s},Ao=re+" header-board__title",Ro=()=>{const e=(0,l.d4)(Ls.currentBoard);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Eo,{className:ae},"logo"),(0,E.jsx)("span",{className:Ao,children:Oo(e)})]})},To="drawer",Bo=To+"__title",Mo=To+"__list",Lo=Mo+"-bt",Po=Lo+"__badge",Ho=e=>{let{board:t}=e;return(0,E.jsx)("div",{className:Bo,children:Oo(t,"Topics")})},Go=e=>{let{isHide:t}=e;return(0,E.jsx)("span",{className:Po,children:t?"H":"S"})},Vo=e=>{let{topic:t,onClick:s}=e;if(!t)return null;const{isHide:o,title:l}=t,n="Click to "+(o?"show":"hide")+" topic";return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(se,{className:Lo,caption:l,title:n,timeout:0,onClick:s}),(0,E.jsx)(Go,{isHide:o})]})},Fo={listStyleType:"none"},Ko={position:"relative"},Xo=()=>{},Uo=e=>{let{board:t,columns:s,toggleColumn:o=Xo}=e;const{columnIds:l}=t;return(0,E.jsx)("ul",{style:Fo,children:(l||[]).map((e=>(0,E.jsx)("li",{style:Ko,children:(0,E.jsx)(Vo,{topic:s[e],onClick:()=>o({columnId:e})})},e)))})},zo={removeDrawerMsg:w},Yo=(0,l.Ng)((e=>({items:Ms.msg(e)})),zo)((e=>{let{items:t,removeDrawerMsg:s}=e;return(0,E.jsx)("ul",{className:"drawer__msg-ul",children:t.map((e=>(0,E.jsx)("li",{className:"drawer__msg-li",children:(0,E.jsx)("button",{className:"drawer__msg-bt",onClick:()=>s({id:e.id}),children:e.msg})},e.id)))})})),Wo={toggleColumn:Os},Zo=(0,l.Ng)((e=>({board:Gs.board.currentBoard(e),columns:Gs.column.columns(e)})),Wo)((e=>{let{board:t,columns:s,toggleColumn:o}=e;return(0,E.jsxs)("div",{className:Mo,children:[(0,E.jsx)(Ho,{board:t}),(0,E.jsx)(Uo,{board:t,columns:s,toggleColumn:o}),(0,E.jsx)(Yo,{})]})})),qo=(0,E.jsx)(Ro,{}),Jo=()=>(0,E.jsx)(ko,{captionEl:qo,children:(0,E.jsx)(Zo,{})}),$o={position:"absolute",top:4,right:16},Qo={transform:"translateX(264px)",pointerEvents:"none"},el={transform:"translate(0px, 0px)"},tl={opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},sl={opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},ol=e=>{let{btStyle:t,children:s}=e;const[o,l]=No(!1),n=Se(jo),a=o?el:Qo,r=o?sl:tl,i=o?l:void 0;return[(0,E.jsx)("button",{className:"drawer-bt",style:Object.assign({},$o,t),"aria-label":"Open Drawer",onClick:l,children:(0,E.jsx)("span",{className:"drawer-span",children:(0,E.jsxs)("svg",{className:"drawer-svg",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,E.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,E.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})})},"bt-drawer"),(0,E.jsx)("div",{role:"presentation","aria-hidden":!o,className:"drawer-modal",style:r,onClick:i},"wrapper"),(0,E.jsx)("aside",{className:"drawer",style:Object.assign({},a,n.COMP),children:s},"aside")]},ll="Web App Notes v0.4.0",nl="drawer__list-bt",al={padding:"16px 0 8px 0",marginLeft:16},rl={listStyleType:"none"},il={showSettings:()=>ts({id:Wt}),saveBoard:Ws,cleanStorage:Zs},dl=(0,l.Ng)(null,il)((e=>{let{showSettings:t,saveBoard:s,cleanStorage:o}=e;return(0,E.jsxs)("div",{className:"drawer__list",children:[(0,E.jsx)("div",{className:"header__title",style:al,children:ll}),(0,E.jsxs)("ul",{style:rl,children:[(0,E.jsx)("li",{children:(0,E.jsx)(se,{className:nl,caption:"User Settings",title:"Click to open user settings dialog",onClick:t})}),(0,E.jsx)("li",{children:(0,E.jsx)(se,{className:nl,caption:"Save Boards",title:"Click to save boards to localStorage",onClick:s})}),(0,E.jsx)("li",{children:(0,E.jsx)(se,{className:nl,caption:"Clean Storage",title:"Click to remove boards from localStorage",onClick:o})})]}),(0,E.jsx)(Yo,{})]})})),cl=()=>(0,E.jsx)(ol,{children:(0,E.jsx)(dl,{})}),ul=ge+" ml-8",ml=e=>{let{addColumn:t}=e;return(0,E.jsxs)(yo,{className:oe,children:[(0,E.jsx)(Jo,{}),(0,E.jsx)(se,{caption:"Add Topic",title:"Click to add topic to board",accessKey:"a",timeout:500,onClick:t}),(0,E.jsx)("nav",{children:(0,E.jsx)(D.k2,{to:"/boards",className:ul,children:"ToBoards"})}),(0,E.jsx)(cl,{})]})},pl=e=>{let{children:t}=e;return(0,E.jsx)("main",{className:"container-list",children:t})},hl=Array.isArray,gl=e=>!hl(e)||0===e.length,xl=e=>{let{className:t,style:s,svgStyle:o,title:l,onClick:n}=e;return(0,E.jsx)("button",{type:"button",className:V("bt-svg-more",t),style:s,title:l,onClick:n,children:(0,E.jsxs)(X,{style:o,width:"6px",height:"22px",viewBox:"0 0 6 22",children:[(0,E.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,E.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,E.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})},bl={paddingLeft:8,width:"100%",textAlign:"left"},jl=e=>{let{style:t,isShow:s,onHideTopic:o,onAddNote:l,onClose:n}=e;const a=Se(jo);return(0,E.jsxs)(Ve,{className:ie,style:Object.assign({},t,a.COMP),isShow:s,onClose:n,children:[(0,E.jsx)(se,{style:bl,caption:"Hide Topic",title:"Click to hide Topic",onClick:o}),(0,E.jsx)(se,{style:bl,caption:"Add Note",title:"Click to add new Note",timeout:100,onClick:l})]})},yl={themeName:void 0,style:void 0,createStyle:e=>({ITEM:Object.assign({},e.ITEM)})},Cl=yl,vl={display:"none"},Nl={padding:"8px 0",lineHeight:"36px"},fl={display:"inline-block",paddingLeft:12,fontWeight:600},Il={Item:e=>{let{isHide:t,children:s}=e;const o=Se(Cl),l=q(o.ITEM,[t,vl]);return(0,E.jsx)("section",{className:ce,style:l,children:s})},Header:e=>{let{children:t}=e;return(0,E.jsx)("div",{style:Nl,children:t})},Title:e=>(0,E.jsx)(Dt,Object.assign({className:ue},e)),Counter:e=>{let{style:t,value:s}=e;return(0,E.jsx)("span",{style:Object.assign({},fl,t),children:s})},BtCircle:e=>{let{style:t,caption:s,title:o,tabIndex:l="-1",onClick:n}=e;return(0,E.jsx)("button",{className:"bt-circle",style:t,tabIndex:l,title:o,onClick:n,children:s})}},Sl=["className","style","innerRef","isDraggingOver","notDraggingStyle","children"],_l={ROOT:{minHeight:100},DRAGGING_OVER:{border:"2px dashed lightgreen"},NOT_DRAGGING_OVER:{border:"2px dashed transparent"}},wl=e=>{const{className:t,style:s,innerRef:o,isDraggingOver:l,notDraggingStyle:n,children:a}=e,r=(0,F.A)(e,Sl),i=((e,t)=>e?_l.DRAGGING_OVER:t||_l.NOT_DRAGGING_OVER)(l,n);return(0,E.jsx)("div",Object.assign({},r,{ref:o,className:t,style:Object.assign({},_l.ROOT,s,i),children:a}))},kl=["draggableProps","innerRef","isDragging","dragHandleProps"],El=["style"],Dl=(e,t)=>s=>{const{draggableProps:o,innerRef:l,isDragging:n,dragHandleProps:a}=s,r=(0,F.A)(s,kl),{dragBg:i,notDragBg:d,isDragHanlerProps:c}=t||{},{style:u}=o,m=(0,F.A)(o,El),p=function(e,t,s){return void 0===t&&(t="#1e90ff"),void 0===s&&(s="transparent"),{backgroundColor:e?t:s}}(n,i,d),h=c?void 0:a;return(0,E.jsx)("div",Object.assign({ref:l,style:Object.assign({},u,p)},m,h,{children:(0,E.jsx)(e,Object.assign({dragHandleProps:c?a:void 0},r))}))},Ol=(e,t)=>"function"==typeof e?Dl(e,t):t=>Dl(t,e),Al=["isDetails"],Rl=e=>{let{isDetails:t}=e,s=(0,F.A)(e,Al);const o=V("note__handle",[t,"note__handle--open"]);return(0,E.jsx)("span",Object.assign({className:o},s))},Tl={paddingLeft:8,width:"100%",textAlign:"left"},Bl=e=>{let{isShow:t,className:s,style:o,onClose:l,onEdit:n,onRemove:a}=e;const r=Se(jo),i=V(ie,s);return(0,E.jsxs)(Ve,{className:i,style:Object.assign({},o,r.COMP),isShow:t,onClose:l,children:[(0,E.jsx)(se,{style:Tl,caption:"Edit Details",onClick:n}),(0,E.jsx)(se,{style:Tl,caption:"Remove Note",onClick:a})]})},Ml=e=>{let{dragHandleProps:t,isDetails:s,onClickHandle:o,refTitle:l,noteTitle:n,onBlurTitle:a,isMenuMore:r,onClickMenuMore:i,onCloseMenuMore:d,onEditDetails:c,onRemoveNote:u}=e;return(0,E.jsxs)("div",{children:[(0,E.jsx)(Rl,Object.assign({},t,{isDetails:s,onClick:o})),(0,E.jsx)(Dt,{refEl:l,className:"note__caption",initialValue:n,onBlur:a}),(0,E.jsx)(xl,{className:"note__bt-more",title:"Click to open note menu",onClick:i}),r&&(0,E.jsx)(Bl,{isShow:r,className:"note__menu-more",onClose:d,onEdit:c,onRemove:u})]})},Ll=e=>{let{isShow:t,note:s,editDetails:o}=e;const l=Ct(s);return(0,E.jsx)(Xe,{className:"note__details",isShow:t,children:(0,E.jsxs)("div",{onClick:o,children:[(0,E.jsx)(kt,{labels:s.labels}),(0,E.jsx)("div",{children:l})]})})},Pl=e=>{const{columnId:t,note:s,dragHandleProps:o}=e,{id:n,title:a}=s,r=(0,O.useRef)(),[i,d,c]=De(),[u,m]=No(),p=(0,l.wA)(),h=(0,O.useCallback)((()=>{p(ft({columnId:t,noteId:n}))}),[t]),g=(0,O.useCallback)((e=>{const t=e.target.value;if(t)t!==a&&p(ht({noteId:n,title:t}));else{const e=R(r);e&&e.setValue(a)}}),[a]),x=(0,O.useCallback)((()=>{p(ts({id:Zt,data:s})),c()}),[s]);return(0,E.jsxs)("div",{className:"note",id:n,children:[(0,E.jsx)(Ml,{dragHandleProps:o,isDetails:u,onClickHandle:m,refTitle:r,noteTitle:a,onBlurTitle:g,isMenuMore:i,onClickMenuMore:d,onCloseMenuMore:c,onEditDetails:x,onRemoveNote:h}),(0,E.jsx)(Ll,{isShow:u,note:s,editDetails:x})]})},Hl=Ol({notDragBg:"#9e9e9e",isDragHanlerProps:!0})(Pl);Hl.displayName="DnDNote";const Gl=Hl,Vl={minHeight:50},Fl={border:"2px solid #9e9e9e"},Kl=e=>{let{cId:t,noteIds:s,notes:o}=e;return(0,E.jsx)(go.gL,{droppableId:t,children:(e,l)=>(e=>{let{provided:t,snapshot:s,noteIds:o,notes:l,cId:n}=e;return(0,E.jsxs)(wl,Object.assign({},t.droppableProps,{innerRef:t.innerRef,isDraggingOver:s.isDraggingOver,style:Vl,notDraggingStyle:Fl,children:[o.map(((e,t)=>(0,E.jsx)(go.sx,{draggableId:e,index:t,children:(t,s)=>(0,E.jsx)(Gl,{draggableProps:t.draggableProps,innerRef:t.innerRef,isDragging:s.isDragging,dragHandleProps:t.dragHandleProps,note:l[e],columnId:n})},e))),t.placeholder]}))})({provided:e,snapshot:l,noteIds:s,notes:o,cId:t})})},Xl={marginRight:8},Ul={position:"absolute",width:150},zl=e=>{let{boardId:t,column:s,notes:o,addNote:n}=e;const{id:a,isHide:r,title:i,withAdd:d,noteIds:c}=s,[u,m,p]=De(),h=(0,l.wA)(),g=(0,O.useCallback)((()=>{h(Os({columnId:a}))}),[a]),x=(0,O.useCallback)((()=>{n({columnId:a})}),[n,a]),b=(0,O.useCallback)((e=>{h(Ds({columnId:a,title:e.target.value}))}),[a]),j=(0,O.useCallback)((()=>{h(ns({boardId:t,columnId:a}))}),[t,a]),y=c.length;return(0,E.jsxs)(Il.Item,{isHide:r,children:[(0,E.jsxs)(Il.Header,{children:[(0,E.jsx)(xl,{style:Xl,title:"Click to open topic menu",onClick:m}),u&&(0,E.jsx)(jl,{style:Ul,isShow:u,onAddNote:x,onHideTopic:g,onClose:p}),(0,E.jsx)(Il.Title,{initialValue:i,onBlur:b}),(0,E.jsx)(Il.Counter,{value:y}),d&&(0,E.jsx)(se,{clCaption:me,caption:"AddNote",title:"Click to add a new note",timeout:1e3,onClick:x})]}),(0,E.jsx)(Kl,{cId:a,noteIds:c,notes:o}),(0,E.jsx)("div",{children:gl(c)&&(0,E.jsx)(se,{clCaption:me,caption:"Remove Topic",onClick:j})})]})},Yl=e=>{let{boardId:t,columnIds:s,columns:o,notes:l,addNote:n}=e;return(s||[]).map((e=>{const s=o[e];return(0,E.jsx)(zl,{boardId:t,column:s,notes:l,addNote:n},s.id)}))},Wl={moveNote:It,addNote:Nt,addColumn:ls},Zl=(0,l.Ng)((e=>({board:Gs.board.currentBoard(e),notes:Gs.note.notes(e),columns:Gs.column.columns(e)})),Wl)((e=>{let{board:t,notes:s,columns:o,addNote:l,moveNote:n,addColumn:a}=e;const{id:r,columnIds:i}=t,d=(0,O.useCallback)((e=>{xo(e)||n(e)}),[]),c=(0,O.useCallback)((()=>{a({boardId:r})}),[]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(ml,{addColumn:c}),(0,E.jsx)(go.JY,{onDragEnd:d,children:(0,E.jsx)(pl,{children:(0,E.jsx)(Yl,{boardId:r,columnIds:i,columns:o,notes:s,addNote:l})})})]})})),ql={addBoard:m},Jl=(0,l.Ng)(null,ql)((e=>{let{style:t,addBoard:s}=e;return(0,E.jsxs)(yo,{className:oe,style:t,children:[(0,E.jsx)(Eo,{title:ll}),(0,E.jsx)("span",{className:ne}),(0,E.jsx)("span",{className:re,children:"Notes: Boards"}),(0,E.jsx)(se,{caption:"Add Board",title:"Click to add new board",accessKey:"a",isEvent:!1,timeout:200,onClick:s}),(0,E.jsx)(cl,{})]})})),$l={float:"right",paddingRight:12},Ql=Ol((e=>{let{title:t,count:s}=e;return(0,E.jsxs)("div",{className:"topic",children:[(0,E.jsx)("span",{children:t}),(0,E.jsx)(Il.Counter,{style:$l,value:s})]})}));Ql.displayName="DnDTopic";const en=Ql,tn=e=>{let{id:t,columnIds:s,columns:o}=e;return(0,E.jsx)(go.gL,{droppableId:t,children:(e,t)=>(e=>{let{provided:t,snapshot:s,columnIds:o,columns:l}=e;return(0,E.jsxs)(wl,Object.assign({},t.droppableProps,{innerRef:t.innerRef,isDraggingOver:s.isDraggingOver,children:[o.map(((e,t)=>(0,E.jsx)(go.sx,{draggableId:e,index:t,children:(t,s)=>{return(0,E.jsx)(en,Object.assign({draggableProps:t.draggableProps,innerRef:t.innerRef,isDragging:s.isDragging,dragHandleProps:t.dragHandleProps},{title:(o=l[e]).title,count:o.noteIds.length}));var o}},e))),t.placeholder]}))})({provided:e,snapshot:t,columnIds:s,columns:o})})},sn={margin:"8px 8px 4px 0"},on=e=>{let{id:t}=e;const s=(0,l.wA)(),[o,n,a,r]=(0,O.useMemo)((()=>[e=>s(xs({boardId:t,title:e.target.value})),()=>s(p({boardId:t})),()=>s(h({boardId:t})),e=>Ls.board(e,t)]),[t,s]),i=(0,l.d4)(r),d=(0,l.d4)(Hs.columns),{columnIds:c}=i;return(0,E.jsxs)(Il.Item,{children:[(0,E.jsxs)(Il.Header,{children:[(0,E.jsx)(Il.Title,{initialValue:i.title,onBlur:o}),(0,E.jsx)(Il.Counter,{value:c.length})]}),(0,E.jsx)(tn,{id:t,columnIds:c,columns:d}),(0,E.jsx)(D.k2,{to:"/boards/"+t,className:ge,style:sn,onClick:a,children:"ToNotes"}),(0,E.jsx)("div",{children:gl(c)&&(0,E.jsx)(se,{clCaption:me,caption:"Remove Board",onClick:n})})]})},ln=(0,l.Ng)((e=>({boardIds:Ls.boardIds(e),boards:Ls.boards(e)})))((e=>{let{boardIds:t,boards:s}=e;return t.map((e=>(0,E.jsx)(on,{id:e},e)))})),nn={moveColumn:as},an=(0,l.Ng)(null,nn)((e=>{let{moveColumn:t}=e;const s=(0,O.useCallback)((e=>{xo(e)||t(e)}),[t]);return[(0,E.jsx)(Jl,{},"header"),(0,E.jsx)(go.JY,{onDragEnd:s,children:(0,E.jsx)(pl,{children:(0,E.jsx)(ln,{})})},"ddc")]})),rn="modal-root",dn=rn+" show-modal",cn={display:"block"},un={display:"none"},mn=e=>{let{isShow:t,onClose:s,children:o}=e;const[l,n]=t?[dn,cn]:[rn,un];return(0,E.jsx)("div",{role:"presentation",className:l,style:n,onClick:s,children:o})},pn=e=>{let{TS:t,store:s,shows:o,data:l,dialogs:n,onClose:a}=e;return n.map((e=>{const{type:n,comp:r}=e;return(0,E.jsx)(r,{TS:t,isShow:o[n],data:l[n],store:s,dispatch:s.dispatch,onClose:a.bind(null,n)},n)}))},hn=(0,O.memo)((e=>{let{store:t}=e;const s=Se(we),o=(0,O.useRef)(),[l,n]=(0,O.useState)({isShow:!1,currentDialog:null,dialogs:[],inits:{},shows:{},data:{}}),a=(0,O.useCallback)((e=>{n((t=>(t.shows[e]=!1,Object.assign({},t,{isShow:!1,currentDialog:null,shows:t.shows}))))}),[]);(0,O.useEffect)((()=>t.subscribe((()=>{const e=Bs.modal(t.getState()),{id:s,data:l={}}=e,a=R(o);s&&a!==e&&(T(o,e),n((e=>{const{inits:t,shows:o,data:n,dialogs:a}=e;return t[s]||(a.push({type:s,comp:Jt.getDialog(s)}),t[s]=!0),o[s]=!0,n[s]=l,{isShow:!0,currentDialog:s,shows:o,data:n,dialogs:a,inits:t}})))}))),[]);const{isShow:r,currentDialog:i,shows:d,data:c,dialogs:u}=l;return(0,E.jsx)(mn,{isShow:r,onClose:a.bind(null,i),children:(0,E.jsx)(pn,{TS:s,store:t,shows:d,data:c,dialogs:u,onClose:a})})})),gn=hn,xn=e=>{let{basename:t,store:s}=e;const[o,n]=(0,O.useState)(ho),a=(0,l.d4)(Bs.uiTheme);return(0,O.useEffect)((()=>{o.getThemeName!==a&&(o.setThemeName(a),n(Object.assign({},o)))}),[a]),(0,E.jsx)(O.StrictMode,{children:(0,E.jsx)(D.Kd,{basename:t,children:(0,E.jsxs)(Ie.Provider,{value:o,children:[(0,E.jsx)(gn,{store:s}),(0,E.jsxs)(lo.BV,{children:[(0,E.jsx)(lo.qh,{path:"/boards/:id",element:(0,E.jsx)(Zl,{})}),(0,E.jsx)(lo.qh,{path:"/boards",element:(0,E.jsx)(an,{})}),(0,E.jsx)(lo.qh,{path:"/",element:(0,E.jsx)(lo.C5,{to:"/boards",replace:!0})})]})]})})})},bn=((window||{}).location||{}).pathname;(0,o.H)(document.getElementById("app")).render((0,E.jsx)(l.Kq,{store:oo,children:(0,E.jsx)(xn,{basename:bn,store:oo})}))},848:(e,t,s)=>{e.exports=s(20)}},e=>{var t;t=698,e(e.s=t)}]);