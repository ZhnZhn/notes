/*! For license information please see app_08b1bca9cf19986c88f1.js.LICENSE.txt */
"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[143],{62:(e,n,t)=>{var o=t(935),r=t(216),a=t(403),s=function(e,n){return"Max number ("+n+") of "+e+" reached."},i=8,l=8,c=12;const d={STORAGE_KEY:"notes-manager",DMSG_PREFIX:"m",MSG_SAVED:"Boards saved",MSG_SAVE_FAIL:"Boards not saved",MSG_CLEANED:"localStorage cleaned",MSG_CLEAN_FAIL:"localStorage not cleaned",BOARDS_PREFIX:"b",MAX_BOARDS:i,N_MAX_BOARDS:{descr:s("boards",i)},MAX_COLUMNS:l,COLUMNS_PREFIX:"c",N_MAX_COLUMNS:{descr:s("columns",l)},MAX_NOTES:c,NOTES_PREFIX:"n",N_MAX_NOTES:{descr:s("notes",c)},NLABELS_PREFIX:"nl"};var u=t(857),f=(0,a.PH)("boards/addBoard"),m=(0,a.PH)("boards/removeBoard"),v=(0,a.PH)("boards/setCurrentBoard");const p={app:{boardId:"b-1",boardIds:["b-1"],uiTheme:"DARK"},drawerMsg:[],modal:{id:void 0,data:void 0},boards:{"b-1":{id:"b-1",title:"Board 1",columnIds:["c-1","c-2"]}},notes:{},noteLabels:{},columns:{"c-1":{id:"c-1",title:"Topic 1",noteIds:[],withAdd:!0},"c-2":{id:"c-2",title:"Topic 2",noteIds:[]}}};var h=(0,a.oM)({name:"app",initialState:p.app,reducers:{setUiTheme:function(e,n){var t=n.payload.uiTheme;e.uiTheme=t}},extraReducers:function(e){return e.addCase(f,(function(e,n){var t=n.payload.boardId;e.boardIds.push(t)})).addCase(m,(function(e,n){var t=n.payload.boardId;e.boardIds=e.boardIds.filter((function(e){return e!==t}))})).addCase(v,(function(e,n){var t=n.payload.boardId;e.boardId=t}))}}),x=h.actions,g=h.reducer,b=x.setUiTheme;const y=g;var C=function(e,n){return{id:e,msg:n}},j=(0,a.oM)({name:"drawerMsg",initialState:p.drawerMsg,reducers:{addDrawerMsg:function(e,n){var t=n.payload,o=t.id,r=t.msg;e.unshift(C(o,r))},removeDrawerMsg:function(e,n){var t=n.payload.id;return e.filter((function(e){return e.id!==t}))}}}),N=j.actions,_=j.reducer,I=N.addDrawerMsg,S=N.removeDrawerMsg;const w=_;var E=t(294),k=function(e){return(e||{}).current},D=function(e,n){e&&(e.current=n)},A=function(e){var n=k(e);n&&"function"==typeof n.focus&&n.focus()},T=function(e,n){return e.isShow===n.isShow};const R=function(e){return(0,E.memo)(e,T)};var B=t(462);const L=function(e){return function(n,t){return(0,E.useCallback)((function(t){e(t)&&(t.preventDefault(),t.stopPropagation(),n(t))}),t||[])}}((function(e){return 27===e.keyCode||"Escape"===e.key}));var O=Array.isArray,M=function(e){return O(e)?e[0]?e[1]:"":e||""};const H=function(e,n){var t=M(e),o=M(n);return t?o?t+" "+o:t:o||void 0};var P=t(893);const G=function(e){var n=e.className,t=e.style,o=e.tabIndex,r=e.onClose;return(0,P.jsx)("button",{tabIndex:o,className:H("bt-svg-close",n),style:t,onClick:r,children:(0,P.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,P.jsx)("path",{d:"M 0,0 L 12,12"}),(0,P.jsx)("path",{d:"M 12,0 L 0,12"})]})})};const Z=function(e){var n=e.rootStyle,t=(e.svgStyle,e.caption),o=e.onClose,r=e.children;return(0,P.jsxs)("div",{className:"dialog__header",style:n,children:[(0,P.jsx)("span",{className:"dialog__caption not-selected",children:t}),r,(0,P.jsx)(G,{className:"dialog__svg-close",onClose:o})]})};const F=function(e,n,t){void 0===n&&(n=3e3),void 0===t&&(t=!0);var o=(0,E.useRef)(null);return(0,E.useCallback)((function(r){var a=t?r:void 0;if(0!==n){var s=o.current,i=r.timeStamp;(null==s||i-s>n)&&(e(a),o.current=i)}else e(a)}),[t,n,e])};var K=Array.isArray,V=function(e){return K(e)?e[0]?e[1]:void 0:e||void 0};const X=function(){var e=V(arguments.length<=0?void 0:arguments[0]),n=V(arguments.length<=1?void 0:arguments[1]);return e?n?(0,B.Z)({},e,n):e:n||void 0};var U={textDecoration:"underline"},z=function(e,n){var t=function(e,n){return e?n.toLowerCase().indexOf(e):-1}(e,n);if(-1===t)return n;var o=n.substring(0,t),r=n.substring(t,t+1),a=n.substring(t+1);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{children:o}),(0,P.jsx)("span",{style:U,children:r}),(0,P.jsx)("span",{children:a})]})};const W=function(e){var n=e.className,t=e.caption,o=e.accessKey,r=e.children;return t?(0,P.jsxs)("span",{className:n,children:[z(o,t),r]}):null};var Y={color:"#607d8b"};const $=(0,E.forwardRef)((function(e,n){var t=e.timeout,o=e.className,r=e.style,a=e.clDiv,s=void 0===a?"bt-flat__div":a,i=e.clCaption,l=e.isPrimary,c=e.title,d=void 0===c?"":c,u=e.caption,f=e.accessKey,m=e.children,v=e.isEvent,p=e.onClick,h=F(p,t,v),x=H("bt-flat",o),g=H("bt-flat__span",i),b=X(r,[l,Y]),y=function(e,n){return n?e+" ["+n+"]":e}(d,f);return(0,P.jsx)("button",{ref:n,className:x,style:b,accessKey:f,title:y,onClick:h,children:(0,P.jsxs)("div",{className:s,children:[(0,P.jsx)(W,{className:g,caption:u,accessKey:f}),m]})})}));var J={display:"block"},q={display:"none"},Q=function(e){var n=e.buttons,t=e.refBtClose,o=e.withoutClose,r=e.onClose;return(0,P.jsxs)("div",{className:"md__actions",children:[n,!o&&(0,P.jsx)($,{ref:t,caption:"Close",timeout:0,onClick:r})]})};const ee=function(e){var n=e.className,t=void 0===n?"":n,o=e.style,r=e.isShow,a=e.isWithButton,s=void 0===a||a,i=e.isFocusClose,l=void 0===i||i,c=e.caption,d=e.captionStyle,u=e.children,f=e.commandButtons,m=e.withoutClose,v=e.onClose,p=function(e,n){var t=(0,E.useRef)(),o=(0,E.useRef)(),r=(0,E.useRef)(),a=(0,E.useCallback)((function(){o.current=document.activeElement,n&&A(t)}),[n]),s=(0,E.useCallback)((function(){A(o),o.current=null}),[]);return(0,E.useEffect)((function(){var n=k(r);e&&!n?a():!e&&n&&s(),r.current=e}),[e,a,s]),t}(r,l),h=(0,E.useCallback)((function(e){e.stopPropagation()}),[]),x=L(v),g=H("modal-dialog "+t,[r,"show-popup"]),b=r?J:q;return(0,P.jsxs)("div",{role:"dialog","aria-label":c,"aria-hidden":!r,className:g,style:(0,B.Z)({},o,b),onClick:h,onKeyDown:x,children:[(0,P.jsx)(Z,{rootStyle:d,caption:c,onClose:v}),(0,P.jsx)("div",{children:u}),s&&(0,P.jsx)(Q,{buttons:f,refBtClose:p,withoutClose:m,onClose:v})]})};var ne="d-notif__row";const te=R((function(e){var n=e.isShow,t=e.data,o=e.TS,r=e.onClose,a=t||{},s=a.caption,i=void 0===s?"":s,l=a.descr,c=void 0===l?"":l;return(0,P.jsxs)(ee,{style:o.DIALOG,caption:"Notification",isShow:n,onClose:r,children:[i&&(0,P.jsx)("div",{className:ne,children:(0,P.jsx)("p",{className:"d-notif__caption",children:i})}),(0,P.jsx)("div",{className:ne,children:(0,P.jsx)("p",{className:"d-notif__descr",children:c})})]})}));const oe=(0,E.createContext)();const re=function(e){return(0,E.useContext)(oe).createStyle(e)};var ae={themeName:void 0,style:void 0,createStyle:function(e){return{DIALOG:(0,B.Z)({},e.BG),SELECT:{MODAL_PANE:(0,B.Z)({},e.BG)}}}};const se=ae;var ie=function(e){return!!e},le=function(e,n){return n};const ce=function(e){var n=(0,E.useReducer)(le,e,ie),t=n[0],o=n[1],r=(0,E.useRef)((function(){return o(!0)})),a=(0,E.useRef)((function(){return o(!1)}));return[t,k(r),k(a)]};var de="m-select";const ue=function(){return(0,P.jsx)("svg",{className:"m-select__svg-arrow",viewBox:"0 0 24 24",children:(0,P.jsx)("path",{d:"M7 10l5 5 5-5z"})})};var fe=function(e,n){k(n)&&(document.removeEventListener("click",e,!0),D(n,null))};const me=function(e,n){var t=(0,E.useRef)(null),o=(0,E.useRef)(null),r=(0,E.useCallback)((function(e){var o=k(t);o&&o.contains&&!o.contains(e.target)&&(e.stopPropagation(),n(e))}),[]);return(0,E.useEffect)((function(){e&&!k(o)?(document.addEventListener("click",r,!0),D(o,!0)):e||fe(r,o)})),(0,E.useEffect)((function(){return function(){return fe(r,o)}}),[]),t};const ve=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.children,a=e.onClose,s=me(n,a),i=L(a),l=n?i:void 0;return(0,P.jsx)("div",{role:"presentation",ref:s,className:t,style:o,onKeyDown:l,children:r})};var pe={display:"block"},he={display:"none"};const xe=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.children,a=H(t,[n,"show-popup"]),s=X(o,n?pe:he);return(0,P.jsx)("div",{className:a,style:s,children:r})};var ge={position:"absolute",top:12,zIndex:20,width:"100%",paddingTop:12,paddingBottom:12,lineHeight:1.8,backgroundColor:"rgb(77, 77, 77)",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},be={lineHeight:2.2,paddingLeft:12},ye={color:"greenyellow"},Ce=function(e,n,t,o,r){return e.map((function(e){var r,a=X(be,[e.value===n.value,ye]),s=o.bind(null,e),i=(r=s,function(e){13===e.which&&r(e)});return(0,P.jsx)("div",{role:"button",tabIndex:"0",style:a,className:t,onClick:s,onKeyPress:i,children:e.caption},e.value)}))};const je=function(e){var n=e.isShow,t=e.style,o=e.options,r=e.item,a=e.clItem,s=e.onSelect,i=e.onClose;return(0,P.jsx)(ve,{isShow:n,style:t,onClose:i,children:(0,P.jsx)(xe,{isShow:n,style:(0,B.Z)({},ge,t),children:Ce(o,r,a,s)})})};var Ne={caption:"",value:""},_e={};const Ie=function(e){var n=e.initialItem,t=e.caption,o=e.options,r=e.styleConfig,a=void 0===r?_e:r,s=e.onSelect,i=ce(),l=i[0],c=i[1],d=i[2],u=(0,E.useState)(n||Ne),f=u[0],m=u[1],v=(0,E.useCallback)((function(e,n){n.stopPropagation(),s(e),d(),m(e)}),[s,d]);return(0,P.jsxs)("div",{role:"presentation",className:de,style:a.ROOT,onClick:c,children:[(0,P.jsx)(je,{style:a.MODAL_PANE,isShow:l,item:f,options:o,clItem:a.CL_ITEM,onSelect:v,onClose:d}),(0,P.jsx)("label",{className:"m-select__label",children:t}),(0,P.jsxs)("div",{className:"m-select__div",children:[(0,P.jsx)("div",{className:"m-select__div__value",children:f.caption}),(0,P.jsx)("button",{className:"m-select__div__bt",tabIndex:"0",children:(0,P.jsx)(ue,{})}),(0,P.jsx)("div",{className:"m-select__line"})]})]})};var Se=[{caption:"Dark",value:"DARK"},{caption:"Light",value:"WHITE"},{caption:"Sand",value:"SAND"}],we=Se[0];const Ee=R((function(e){var n=e.isShow,t=e.dispatch,o=e.onClose,r=(0,E.useCallback)((function(e){var n=e.value;t(b({uiTheme:n}))}),[]),a=re(se);return(0,P.jsx)(ee,{isShow:n,className:"md-settings",style:a.DIALOG,caption:"User Settings",onClose:o,children:(0,P.jsx)(Ie,{styleConfig:a.SELECT,caption:"UI Theme (Default: Dark)",initialItem:we,options:Se,onSelect:r})})}));var ke={listStyle:"outside none none",marginTop:4,marginLeft:12,marginRight:5,marginBottom:8,textAlign:"left"},De={width:"100%",height:"100%"},Ae={display:"block",width:"100%",height:"100%"},Te={display:"none"},Re=function(e,n,t){return e.map((function(e,o){return(0,E.cloneElement)(e,{key:o,id:o,onClick:function(){return t(o)},isSelected:o===n})}))},Be=function(e,n){return e.map((function(e,t){var o=t===n,r=o?Ae:Te;return(0,P.jsx)("div",{style:r,role:"tabpanel",id:"tabpanel-"+t,"aria-labelledby":"tab-"+t,children:(0,E.cloneElement)(e.props.children,{key:"comp"+t,isSelected:o})},"a"+t)}))};const Le=(0,E.forwardRef)((function(e,n){var t=e.width,o=e.height,r=e.tabsStyle,a=e.children,s=(0,E.useState)(0),i=s[0],l=s[1];return(0,E.useImperativeHandle)(n,(function(){return{getSelectedTabIndex:function(){return i}}}),[i]),(0,P.jsxs)("div",{style:{width:t,height:o},children:[(0,P.jsx)("ul",{style:(0,B.Z)({},ke,r),children:Re(a,i,l)}),(0,P.jsx)("div",{style:De,children:Be(a,i)})]})}));const Oe=function(e){var n=e.id,t=e.title,o=e.isSelected,r=e.onClick,a=H("tab not-selected",[o,"tab--selected"]),s=function(){o||r()};return(0,P.jsx)("li",{role:"tab",tabIndex:0,className:a,id:"tab-"+n,"aria-selected":o,"aria-controls":"tabpanel-"+n,onClick:s,onKeyDown:function(e){(function(e){return""===e.key||32===e.keyCode})(e)&&s()},children:(0,P.jsx)("span",{children:t})})};const Me=function(e,n,t){return(0,E.useEffect)((function(){var e=k(e);n&&e&&e.focus()}),[t])};var He=(0,a.oM)({name:"notes",initialState:{},reducers:{addNote:function(e,n){var t=n.payload.noteId;e[t]=function(e){return{id:e,title:"New Note"}}(t)},deleteNote:function(e,n){delete e[n.payload.noteId]},editNoteTitle:function(e,n){var t=n.payload,o=t.noteId,r=t.title;e[o].title=r},editNoteDescr:function(e,n){var t=n.payload,o=t.noteId,r=t.descr;e[o].descr=r},editNoteLabels:function(e,n){var t=n.payload,o=t.noteId,r=t.labelsTo;e[o].labels=r}}}),Pe=He.reducer,Ge=He.actions,Ze=Ge.editNoteTitle,Fe=Ge.editNoteDescr;const Ke=Pe;const Ve=function(e){return"Delete"===e.key||46===e.keyCode};const Xe=(0,E.forwardRef)((function(e,n){var t=e.className,o=e.style,r=e.initialValue,a=e.maxLength,s=(0,E.useRef)(),i=(0,E.useState)(r),l=i[0],c=i[1],d=(0,E.useCallback)((function(e){c(e.target.value)}),[]),u=(0,E.useCallback)((function(e){Ve(e)&&c("")}));return(0,E.useImperativeHandle)(n,(function(){return{getValue:function(){return l},focus:function(){var e=k(s);e&&e.focus()}}}),[l]),(0,P.jsx)("textarea",{ref:s,className:t,style:o,value:l,maxLength:a,onChange:d,onKeyDown:u})}));const Ue=function(e){var n=e.refBtClose,t=e.className,o=e.onSave,r=e.onClose;return(0,P.jsxs)("div",{className:t,children:[(0,P.jsx)($,{caption:"Save",timeout:100,onClick:o}),(0,P.jsx)($,{ref:n,caption:"Close",timeout:0,onClick:r})]})};const ze=function(e){return"object"!=typeof e||null==e?"This note is not exist.":e.descr||"Edit description..."};const We=function(e){var n=e.isSelected,t=e.note,o=e.dispatch,r=e.onClose,a=t.id,s=(0,E.useRef)(null),i=(0,E.useRef)(null),l=(0,E.useCallback)((function(){o(Fe({noteId:a,descr:k(i).getValue()}))}),[a]);Me(s,n,e);var c=ze(t);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Xe,{ref:i,className:"md-details__descr",maxLength:250,initialValue:c},a),(0,P.jsx)(Ue,{refBtClose:s,className:"md__actions",onSave:l,onClose:r})]})};var Ye=(0,a.PH)("notes/addNote"),$e=(0,a.PH)("notes/deleteNote"),Je=(0,a.PH)("notes/moveNote"),qe=(0,a.PH)("notes/editNoteLabels");const Qe=function(e){var n=e.className,t=e.clClose,o=e.item,r=e.onRemove;return(0,P.jsxs)("button",{className:n,style:{backgroundColor:o.color},onClick:r,children:[o.title,r&&(0,P.jsx)("span",{className:t,children:"x"})]})};const en={HEADER:"header",LOGO:"header__logo-notes",TITLE_GAP:"header__title-gap",LOGO_BOARD:"header-board__logo_notes",HEADER_TITLE:"header__title",TITLE_BOARD:"header-board__title",CONT:"container-list",MODAL_PANE:"modal-pane",MD_ACTIONS:"md__actions",ITEM_CARD:"card",CARD_TITLE:"card__title",CARD_BT:"bt__card",NOTE_LABEL:"note__label",NOTE_LABEL_CLOSE:"note__label__close",INPUT:"input-text",BT_CIRCLE:"bt-circle",NAV_LINK:"nav-link",ML_8:"ml-8"};var nn={paddingBottom:4};const tn=function(e){var n=e.labels,t=e.onRemove;return(0,P.jsx)("div",{style:nn,children:(n||[]).map((function(e){return(0,P.jsx)(Qe,{className:en.NOTE_LABEL,clClose:en.NOTE_LABEL_CLOSE,item:e,onRemove:t?t.bind(null,e):void 0},e.id||e.title)}))})};const on=function(e){return"Enter"===e.key||13===e.keyCode};const rn=(0,E.forwardRef)((function(e,n){var t=e.className,o=e.style,r=e.initialValue,a=e.maxLength,s=void 0===a?40:a,i=e.onBlur,l=(0,E.useState)(r),c=l[0],d=l[1],u=(0,E.useCallback)((function(e){var n=e.target.value;n.length<=s&&d(n)}),[s]),f=(0,E.useCallback)((function(e){if(on(e)){var n=document.activeElement;n&&"function"==typeof n.blur&&n.blur()}else Ve(e)&&d("")}),[]);(0,E.useImperativeHandle)(n,(function(){return{setValue:function(e){e.length<=s&&d(e)}}}),[s]);var m=H(en.INPUT,t);return(0,P.jsx)("input",{type:"text",className:m,style:o,value:c,onChange:u,onBlur:i,onKeyDown:f})}));var an=function(){};const sn=function(e){var n=e.tabIndex,t=void 0===n?"-1":n,o=e.style,r=e.color,a=e.onClick,s=void 0===a?an:a,i=e.children,l=r?{backgroundColor:r}:void 0;return(0,P.jsx)("button",{tabIndex:t,style:(0,B.Z)({},o,l),onClick:function(){return s(r)},children:i})};var ln=["#8abb5d","#f7a35c","#795548","#f45b5b","#d2b772","#dda0dd"],cn=["#f1d600","#008b8b","#2f7ed8","#000000","#607d8b","#7092be"],dn={paddingBottom:4},un={padding:"4px 0 0 56px"},fn={position:"relative",display:"inline-block",height:32,width:32,marginRight:4,borderRadius:2,verticalAlign:"bottom",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},mn=(0,B.Z)({},fn,{margin:"0 12px"}),vn=function(e){var n=e.colors,t=e.onClick;return(0,P.jsx)(P.Fragment,{children:n.map((function(e){return(0,P.jsx)(sn,{color:e,style:fn,onClick:t},e)}))})};const pn=(0,E.forwardRef)((function(e,n){var t=e.initColor,o=void 0===t?"#2f7ed8":t,r=(0,E.useState)(o),a=r[0],s=r[1],i=(0,E.useCallback)((function(e){e&&s(e)}),[]),l=(0,E.useCallback)((function(){return s(o)}),[o]);return(0,E.useImperativeHandle)(n,(function(){return{getColor:function(){return a}}}),[a]),(0,P.jsxs)("div",{style:dn,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(sn,{style:mn,color:a,onClick:l}),(0,P.jsx)(vn,{colors:ln,onClick:i})]}),(0,P.jsx)("div",{style:un,children:(0,P.jsx)(vn,{colors:cn,onClick:i})})]})}));var hn={padding:"4px 0 8px 12px"},xn={marginLeft:16};const gn=function(e){var n=e.isSelected,t=e.note,o=e.dispatch,r=e.onClose,a=t.id,s=(0,E.useState)((function(){return t.labels||[]})),i=s[0],l=s[1],c=(0,E.useRef)(null),d=(0,E.useRef)(""),u=(0,E.useRef)(null),f=(0,E.useRef)(null),m=(0,E.useCallback)((function(e){d.current=e.target.value}),[]),v=(0,E.useCallback)((function(){l((function(e){return function(e,n,t){return!n||e.find((function(e){return e.title===n}))?e:e.concat({title:n,color:t})}(e,function(e){if("string"!=typeof e)return"";var n=e.trim();return n&&n.length>0?n[0].toUpperCase()+n.slice(1):n}(k(d)),k(f).getColor())}),k(u).setValue(""))}),[]),p=(0,E.useCallback)((function(e){l((function(n){return function(e,n){return e.filter((function(e){return e.title!==n.title}))}(n,e)}))}),[]),h=(0,E.useCallback)((function(){o(qe({noteId:a,labels:i}))}),[a,i]);return Me(c,n,e),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{style:hn,children:[(0,P.jsx)(tn,{labels:i,onRemove:p}),(0,P.jsx)(rn,{ref:u,onBlur:m}),(0,P.jsx)($,{clCaption:en.CARD_BT,style:xn,caption:"AddLabel",title:"Click to add a new label",timeout:400,onClick:v})]}),(0,P.jsx)(pn,{ref:f}),(0,P.jsx)(Ue,{refBtClose:c,className:en.MD_ACTIONS,onSave:h,onClose:r})]})};var bn={marginBottom:0};const yn=R((function(e){var n,t,o,r=e.isShow,a=e.data,s=e.dispatch,i=e.onClose,l=re(se),c=(n=a.title,"Details: "+(o=(t=void 0===n?"":n).substring(0,12))+(t.length>o.length?"...":""));return(0,P.jsx)(ee,{className:"md-details",style:l.DIALOG,captionStyle:bn,caption:c,isShow:r,withoutClose:!0,onClose:i,children:(0,P.jsxs)(Le,{width:"100%",children:[(0,P.jsx)(Oe,{title:"Descr",children:(0,P.jsx)(We,{note:a,dispatch:s,onClose:i})}),(0,P.jsx)(Oe,{title:"Labels",children:(0,P.jsx)(gn,{note:a,dispatch:s,onClose:i})})]},a.id)})}));var Cn,jn="NOTIF",Nn="SETTINGS",_n="DETAILS",In=((Cn={DF:te})[jn]=te,Cn[Nn]=Ee,Cn[_n]=yn,Cn);const Sn={getDialog:function(e){return In[e]||In.DF}};var wn=(0,a.oM)({name:"modal",initialState:{id:null,data:null},reducers:{showModal:function(e,n){var t=n.payload;return{id:t.id,data:t.data}}}}),En=wn.actions,kn=wn.reducer,Dn=En.showModal,An=function(e){return Dn({id:jn,data:e})};const Tn=kn;var Rn=(0,a.PH)("columns/addColumn"),Bn=(0,a.PH)("columns/removeColumn"),Ln=(0,a.PH)("columns/moveColumn");const On=function(e){return function(n,t){var o;return(0,B.Z)({},n,((o={})[e]=t,o))}};var Mn=function(e,n){return function(t,o,r,a,s){var i=[].concat(s[e]);i.splice(r.index,1),i.splice(a.index,0,o),t[s.id]=n(s,i)}},Hn=function(e,n){return function(t,o,r,a,s,i){var l=[].concat(s[e]);l.splice(r.index,1);var c=[].concat(i[e]);c.splice(a.index,0,o),t[s.id]=n(s,l),t[i.id]=n(i,c)}};const Pn=function(e){var n=On(e);return{idsTo:n,moveInternal:Mn(e,n),moveExternal:Hn(e,n)}};var Gn=Pn("columnIds"),Zn=Gn.moveInternal,Fn=Gn.moveExternal,Kn=(0,a.oM)({name:"boards",initialState:p.boards,reducers:{editBoardTitle:function(e,n){var t=n.payload,o=t.boardId,r=t.title;e[o].title=r},addBoard:function(e,n){var t=n.payload.boardId;e[t]={id:t,title:"New Board",columnIds:[]}},removeBoard:function(e,n){delete e[n.payload.boardId]}},extraReducers:function(e){return e.addCase(Rn,(function(e,n){var t=n.payload,o=t.boardId,r=t.columnId;e[o].columnIds.push(r)})).addCase(Bn,(function(e,n){var t=n.payload,o=t.boardId,r=t.columnId,a=e[o];a.columnIds=a.columnIds.filter((function(e){return e!==r}))})).addCase(Ln,(function(e,n){var t=n.payload,o=t.draggableId,r=t.source,a=t.destination,s=e[r.droppableId],i=e[a.droppableId];s===i?Zn(e,o,r,a,s):Fn(e,o,r,a,s,i)}))}}),Vn=Kn.actions,Xn=Kn.reducer,Un=Vn.editBoardTitle;const zn=Xn;const Wn=(0,a.oM)({name:"noteLabels",initialState:p.noteLabels,extraReducers:function(e){return e.addCase(qe,(function(e,n){n.payload.newLabels.forEach((function(n){e[n.id]=n}))}))}}).reducer;var Yn=Pn("noteIds"),$n=Yn.moveInternal;const Jn={crColumn:function(e,n){return void 0===n&&(n=!0),{id:e,title:"New Topic",noteIds:[],withAdd:n}},moveExternal:Yn.moveExternal,moveInternal:$n};var qn=Jn.crColumn,Qn=Jn.moveExternal,et=Jn.moveInternal,nt=(0,a.oM)({name:"columns",initialState:p.columns,reducers:{editColumnTitle:function(e,n){var t=n.payload,o=t.columnId,r=t.title;e[o].title=r},toggleColumn:function(e,n){var t=n.payload.columnId,o=e[t];e[t].isHide=!o.isHide},addColumn:function(e,n){var t=n.payload.columnId;e[t]=qn(t)},removeColumn:function(e,n){delete e[n.payload.columnId]}},extraReducers:function(e){e.addCase(Ye,(function(e,n){var t=n.payload,o=t.columnId,r=t.noteId;e[o].noteIds.unshift(r)})).addCase($e,(function(e,n){var t=n.payload,o=t.columnId,r=t.noteId,a=e[o];a.noteIds=a.noteIds.filter((function(e){return e!==r}))})).addCase(Je,(function(e,n){var t=n.payload,o=t.draggableId,r=t.source,a=t.destination,s=e[r.droppableId],i=e[a.droppableId];s===i?et(e,o,r,a,s):Qn(e,o,r,a,s,i)}))}}),tt=nt.actions,ot=nt.reducer,rt=tt.editColumnTitle,at=tt.toggleColumn;const st=ot;const it=(0,u.UY)({app:y,drawerMsg:w,modal:Tn,boards:zn,notes:Ke,noteLabels:Wn,columns:st});const lt=function(e){return void 0===e&&(e="a"),e+"-"+(Date.now().toString(36)+Math.random().toString(36).substr(2,9)).toUpperCase().substr(12)};var ct={app:function(e){return e.app||{}},modal:function(e){return e.modal||{}},currentBoard:function(e){return ct.app(e).boardId},boardIds:function(e){return ct.app(e).boardIds||[]},uiTheme:function(e){return ct.app(e).uiTheme}},dt={msg:function(e){return e.drawerMsg||[]}},ut={boards:function(e){return e.boards||{}},currentBoard:function(e){return ut.boards(e)[ct.currentBoard(e)]||{}},board:function(e,n){return ut.boards(e)[n]||{}},columnIds:function(e,n){return ut.board(e,n).columnIds||[]},boardIds:function(e){return ct.boardIds(e)}},ft=function(e){return e.noteLabels||{}},mt={columns:function(e){return e.columns||{}},column:function(e,n){return mt.columns(e)[n]||{}},noteIds:function(e,n){return mt.column(e,n).noteIds||[]}};const vt={app:ct,drawer:dt,board:ut,note:{notes:function(e){return e.notes||{}}},column:mt};const pt=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===f.type){if(a=n(),ct.boardIds(a).length>=d.MAX_BOARDS)return t(An(d.N_MAX_BOARDS)),!1;var r=lt(d.BOARDS_PREFIX);return o.payload={boardId:r},e(o),r}var a;return e(o)}}};const ht=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===Rn.type){if(function(e,n){return ut.columnIds(e,n).length>=d.MAX_COLUMNS}(n(),o.payload.boardId))return t(An(d.N_MAX_COLUMNS)),!1;var r=lt(d.COLUMNS_PREFIX);return o.payload.columnId=r,e(o),r}return e(o)}}};const xt=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===Ye.type){var r=o.payload.columnId;if(function(e,n){return mt.noteIds(e,n).length>=d.MAX_NOTES}(n(),r))return t(An(d.N_MAX_NOTES)),!1;var a=lt(d.NOTES_PREFIX);return o.payload.noteId=a,e(o),a}return e(o)}}};const gt=function(e){return Object.keys(e).map((function(n){return e[n]}))};const bt=function(e){var n=e.getState;e.dispatch;return function(e){return function(t){if(t.type===qe.type){var o=ft(n()),r=t.payload;t.payload=(0,B.Z)({},r,function(e,n){var t=[],o=[];if(!e||"object"!=typeof e||!Array.isArray(n))return{labelsTo:t,newLabels:o};var r=gt(e);return n.forEach((function(e){if(e.id)t.push(e);else{var n=r.find(function(e){return function(n){return n.title===e.title&&n.color===e.color}}(e));n?(e.id=n.id,t.push(e)):(e.id=lt(d.NLABELS_PREFIX),t.push(e),o.push(e))}})),{labelsTo:t,newLabels:o}}(o,r.labels))}return e(t)}}};var yt=(0,a.PH)("app/saveBoard"),Ct=(0,a.PH)("app/cleanStorage");const jt=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){switch(o.type){case yt.type:try{return window.localStorage.setItem(d.STORAGE_KEY,JSON.stringify((0,B.Z)({},n(),{drawerMsg:[],modal:{id:null,data:null}}))),t(I({msg:d.MSG_SAVED})),!0}catch(e){return t(I({msg:d.MSG_SAVE_FAIL})),console.log(e.msg),!1}case Ct.type:try{return window.localStorage.removeItem(d.STORAGE_KEY),t(I({msg:d.MSG_CLEANED})),!0}catch(e){return t(I({msg:d.MSG_CLEAN_FAIL})),console.log(e.msg),!1}default:return e(o)}}}};var Nt=function(e){return e<10?"0"+e:""+e};const _t=function(){return function(e){return function(n){if(n.type===I.type){var t=n.payload,o=lt(d.DMSG_PREFIX);return t.id=o,t.msg=(r=t.msg,a=new Date,Nt(a.getHours())+":"+Nt(a.getMinutes())+" "+r),e(n),o}var r,a;return e(n)}}};var It=Array.isArray;const St=function(e){var n=e.getState;return function(e){return function(t){if(t.type===Bn.type){var o=mt.noteIds(n(),t.payload.columnId);if(!It(o)||0!==o.length)return!1}return e(t)}}};var wt=Array.isArray;var Et=[].concat([pt,ht,xt,bt,jt,_t,St,function(e){var n=e.getState;return function(e){return function(t){if(t.type===m.type){var o=ut.columnIds(n(),t.payload.boardId);if(!wt(o)||0!==o.length)return!1}return e(t)}}},function(){return function(e){return function(n){return n.type!==Ze.type||"string"==typeof(t=n.payload.title)&&t.trim()?e(n):(n.payload.title="New Note",e(n),!1);var t}}}]);const kt=(0,a.xC)({reducer:it,preloadedState:function(){var e;try{var n=window.localStorage.getItem(d.STORAGE_KEY);n&&(e=JSON.parse(n))}catch(e){console.log(e.msg)}return e||p}(),devTools:!1,middleware:function(e){return Et}});var Dt,At=t(711),Tt=t(974),Rt={BG:{},ITEM:{}},Bt=Object.assign,Lt=[function(e,n){document.body.style.backgroundColor=n.BG_BODY},function(e,n){Bt(e.BG,{backgroundColor:n.BG})},function(e,n){Bt(e.ITEM,{backgroundColor:n.BG,border:"1px solid "+n.BG})}],Ot={DEFAULT:"DARK",DARK:"DARK",WHITE:"WHITE",SAND:"SAND"},Mt=((Dt={})[Ot.DARK]={pallete:{BG_BODY:"#5f5f5f",BG:"#4d4d4d",BG_HEADER:"#3a6799",C_HEADER:"#8a8a8a"},clSuffix:""},Dt[Ot.WHITE]={pallete:{BG_BODY:"#d2d2d2",BG:"#ebf1f5",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--white"},Dt[Ot.SAND]={pallete:{BG_BODY:"darkgrey",BG:"#e8e0cb",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--sand"},Dt),Ht={},Pt=function(e){var n,t=Mt[e],o=t.clSuffix,r=t.pallete;void 0===(n=o)&&(n=""),Object.keys(Ht).forEach((function(e){Rt[e]=Ht[e]+n})),function(e,n){Lt.forEach((function(t){return t(e,n)}))}(Rt,r)},Gt={themeName:Ot.DEFAULT,_init:function(){this.setThemeName(Ot.DEFAULT)},getThemeName:function(){return this.themeName},setThemeName:function(e){this.themeName=Ot[e]||Ot.DEFAULT,Pt(this.themeName)},createStyle:function(e){return this.themeName!==e.themeName&&(e.style=e.createStyle(Rt,this.themeName),e.themeName=this.themeName),e.style}};Gt._init();const Zt=Gt;var Ft=t(782);const Kt=function(e){if(!e||"object"!=typeof e)return!1;var n=e.destination,t=e.source;return!n||!t||n.droppableId===t.droppableId&&n.index===t.index};var Vt={themeName:void 0,style:void 0,createStyle:function(e){return{COMP:(0,B.Z)({},e.BG)}}};const Xt=Vt;const Ut=function(e){var n=e.className,t=e.style,o=e.children,r=re(Xt);return(0,P.jsx)("header",{className:n,style:(0,B.Z)({},t,r.COMP),children:o})};var zt=function(e){return!!e},Wt=function(e,n){return"boolean"==typeof n?n:!e};const Yt=function(e){return(0,E.useReducer)(Wt,e,zt)};var $t={width:"auto",height:"auto"},Jt={transform:"translateX(-264px)",pointerEvents:"none"},qt={transform:"translate(0px, 0px)"},Qt={opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},eo={opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"};const no=function(e){var n=e.btStyle,t=e.captionComp,o=e.children,r=Yt(!1),a=r[0],s=r[1],i=re(Xt),l=a?qt:Jt,c=a?eo:Qt,d=a?s:void 0;return[(0,P.jsx)("button",{className:"drawer-bt",style:(0,B.Z)({},$t,n),"aria-label":"Open Drawer",onClick:s,children:t},"bt-drawer"),(0,P.jsx)("div",{role:"presentation","aria-hidden":!a,className:"drawer-modal",style:c,onClick:d},"wrapper"),(0,P.jsx)("aside",{className:"drawer-left",style:(0,B.Z)({},l,i.COMP),children:o},"aside")]};const to=function(e){var n=e.className,t=void 0===n?en.LOGO:n,o=e.style,r=e.title,a=void 0===r?"Logo of web app Notes v0.3.0":r;return(0,P.jsx)("span",{className:t,style:o,title:a,children:(0,P.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,P.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,P.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,P.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})};const oo=function(e,n){return void 0===n&&(n="Notes"),null==e?n+": Not Exist":n+": "+(e.title||"")+" ("+(Array.isArray(e.columnIds)?e.columnIds.length:0)+")"};const ro=function(){var e=(0,r.v9)(vt.board.currentBoard);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(to,{className:en.LOGO_BOARD},"logo"),(0,P.jsx)("span",{className:en.HEADER_TITLE+" "+en.TITLE_BOARD,children:oo(e)})]})};const ao=function(e){var n=e.board;return(0,P.jsx)("div",{className:"drawer__title",children:oo(n,"Topics")})};var so=function(e){var n=e.isHide;return(0,P.jsx)("span",{className:"drawer__list-bt__badge",children:n?"H":"S"})};const io=function(e){var n=e.topic,t=e.onClick;if(!n)return null;var o=n.isHide,r=n.title,a="Click to "+(o?"show":"hide")+" topic";return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)($,{className:"drawer__list-bt",caption:r,title:a,timeout:0,onClick:t}),(0,P.jsx)(so,{isHide:o})]})};var lo={listStyleType:"none"},co={position:"relative"},uo=function(){};const fo=function(e){var n=e.board,t=e.columns,o=e.toggleColumn,r=void 0===o?uo:o,a=n.columnIds;return(0,P.jsx)("ul",{style:lo,children:(a||[]).map((function(e){return(0,P.jsx)("li",{style:co,children:(0,P.jsx)(io,{topic:t[e],onClick:function(){return r({columnId:e})}})},e)}))})};var mo={removeDrawerMsg:S};const vo=(0,r.$j)((function(e){return{items:dt.msg(e)}}),mo)((function(e){var n=e.items,t=e.removeDrawerMsg;return(0,P.jsx)("ul",{className:"drawer__msg-ul",children:n.map((function(e){return(0,P.jsx)("li",{className:"drawer__msg-li",children:(0,P.jsx)("button",{className:"drawer__msg-bt",onClick:function(){return t({id:e.id})},children:e.msg})},e.id)}))})}));var po={toggleColumn:at};const ho=(0,r.$j)((function(e){return{board:vt.board.currentBoard(e),columns:vt.column.columns(e)}}),po)((function(e){var n=e.board,t=e.columns,o=e.toggleColumn;return(0,P.jsxs)("div",{className:"drawer__list",children:[(0,P.jsx)(ao,{board:n}),(0,P.jsx)(fo,{board:n,columns:t,toggleColumn:o}),(0,P.jsx)(vo,{})]})}));const xo=function(){return(0,P.jsx)(no,{captionComp:(0,P.jsx)(ro,{}),children:(0,P.jsx)(ho,{})})};var go={position:"absolute",top:4,right:16},bo={transform:"translateX(264px)",pointerEvents:"none"},yo={transform:"translate(0px, 0px)"},Co={opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},jo={opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"};const No=function(e){var n=e.btStyle,t=e.children,o=Yt(!1),r=o[0],a=o[1],s=re(Xt),i=r?yo:bo,l=r?jo:Co,c=r?a:void 0;return[(0,P.jsx)("button",{className:"drawer-bt",style:(0,B.Z)({},go,n),"aria-label":"Open Drawer",onClick:a,children:(0,P.jsx)("span",{className:"drawer-span",children:(0,P.jsxs)("svg",{className:"drawer-svg",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,P.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,P.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})})},"bt-drawer"),(0,P.jsx)("div",{role:"presentation","aria-hidden":!r,className:"drawer-modal",style:l,onClick:c},"wrapper"),(0,P.jsx)("aside",{className:"drawer",style:(0,B.Z)({},i,s.COMP),children:t},"aside")]};var _o="drawer__list-bt",Io={padding:"16px 0 8px 0",marginLeft:16},So={listStyleType:"none"},wo={showSettings:function(){return Dn({id:Nn})},saveBoard:yt,cleanStorage:Ct};const Eo=(0,r.$j)(null,wo)((function(e){var n=e.showSettings,t=e.saveBoard,o=e.cleanStorage;return(0,P.jsxs)("div",{className:"drawer__list",children:[(0,P.jsx)("div",{className:"header__title",style:Io,children:"Web App Notes v0.3.0"}),(0,P.jsxs)("ul",{style:So,children:[(0,P.jsx)("li",{children:(0,P.jsx)($,{className:_o,caption:"User Settings",title:"Click to open user settings dialog",onClick:n})}),(0,P.jsx)("li",{children:(0,P.jsx)($,{className:_o,caption:"Save Boards",title:"Click to save boards to localStorage",onClick:t})}),(0,P.jsx)("li",{children:(0,P.jsx)($,{className:_o,caption:"Clean Storage",title:"Click to remove boards from localStorage",onClick:o})})]}),(0,P.jsx)(vo,{})]})}));const ko=function(){return(0,P.jsx)(No,{children:(0,P.jsx)(Eo,{})})};const Do=function(e){var n=e.addColumn;return(0,P.jsxs)(Ut,{className:en.HEADER,children:[(0,P.jsx)(xo,{}),(0,P.jsx)($,{caption:"Add Topic",title:"Click to add topic to board",accessKey:"a",timeout:500,onClick:n}),(0,P.jsx)("nav",{children:(0,P.jsx)(At.OL,{to:"/boards",className:en.NAV_LINK+" "+en.ML_8,children:"ToBoards"})}),(0,P.jsx)(ko,{})]})};const Ao=function(e){var n=e.children;return(0,P.jsx)("main",{className:en.CONT,children:n})};const To=function(e){return!Array.isArray(e)||0===e.length};const Ro=function(e){var n=e.className,t=e.style,o=e.svgStyle,r=e.title,a=e.onClick;return(0,P.jsx)("button",{className:H("bt-svg-more",n),style:t,title:r,onClick:a,children:(0,P.jsxs)("svg",{style:o,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,P.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,P.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,P.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})};var Bo={paddingLeft:8,width:"100%",textAlign:"left"};const Lo=function(e){var n=e.style,t=e.isShow,o=e.onHideTopic,r=e.onAddNote,a=e.onClose,s=re(Xt);return(0,P.jsxs)(ve,{className:en.MODAL_PANE,style:(0,B.Z)({},n,s.COMP),isShow:t,onClose:a,children:[(0,P.jsx)($,{style:Bo,caption:"Hide Topic",title:"Click to hide Topic",onClick:o}),(0,P.jsx)($,{style:Bo,caption:"Add Note",title:"Click to add new Note",timeout:100,onClick:r})]})};var Oo={themeName:void 0,style:void 0,createStyle:function(e){return{ITEM:(0,B.Z)({},e.ITEM)}}};const Mo=Oo;var Ho={display:"none"};var Po={padding:"8px 0",lineHeight:"36px"};var Go={display:"inline-block",paddingLeft:12,fontWeight:600};const Zo={Item:function(e){var n=e.isHide,t=e.children,o=re(Mo),r=X(o.ITEM,[n,Ho]);return(0,P.jsx)("section",{className:en.ITEM_CARD,style:r,children:t})},Header:function(e){var n=e.children;return(0,P.jsx)("div",{style:Po,children:n})},Title:function(e){return(0,P.jsx)(rn,(0,B.Z)({className:en.CARD_TITLE},e))},Counter:function(e){var n=e.style,t=e.value;return(0,P.jsx)("span",{style:(0,B.Z)({},Go,n),children:t})},BtCircle:function(e){var n=e.style,t=e.caption,o=e.title,r=e.tabIndex,a=void 0===r?"-1":r,s=e.onClick;return(0,P.jsx)("button",{className:en.BT_CIRCLE,style:n,tabIndex:a,title:o,onClick:s,children:t})}};var Fo=t(366),Ko=["className","style","innerRef","isDraggingOver","notDraggingStyle","children"],Vo={ROOT:{minHeight:100},DRAGGING_OVER:{border:"2px dashed lightgreen"},NOT_DRAGGING_OVER:{border:"2px dashed transparent"}};const Xo=function(e){var n=e.className,t=e.style,o=e.innerRef,r=e.isDraggingOver,a=e.notDraggingStyle,s=e.children,i=(0,Fo.Z)(e,Ko),l=function(e,n){return e?Vo.DRAGGING_OVER:n||Vo.NOT_DRAGGING_OVER}(r,a);return(0,P.jsx)("div",(0,B.Z)({},i,{ref:o,className:n,style:(0,B.Z)({},Vo.ROOT,t,l),children:s}))};var Uo=["draggableProps","innerRef","isDragging","dragHandleProps"],zo=["style"],Wo=function(e,n){return function(t){var o=t.draggableProps,r=t.innerRef,a=t.isDragging,s=t.dragHandleProps,i=(0,Fo.Z)(t,Uo),l=n||{},c=l.dragBg,d=l.notDragBg,u=l.isDragHanlerProps,f=o.style,m=(0,Fo.Z)(o,zo),v=function(e,n,t){return void 0===n&&(n="#1e90ff"),void 0===t&&(t="transparent"),{backgroundColor:e?n:t}}(a,c,d),p=u?void 0:s;return(0,P.jsx)("div",(0,B.Z)({ref:r,style:(0,B.Z)({},f,v)},m,p,{children:(0,P.jsx)(e,(0,B.Z)({dragHandleProps:u?s:void 0},i))}))}};const Yo=function(e,n){return"function"==typeof e?Wo(e,n):function(n){return Wo(n,e)}};var $o=["isDetails"];const Jo=function(e){var n=e.isDetails,t=(0,Fo.Z)(e,$o),o=H("note__handle",[n,"note__handle--open"]);return(0,P.jsx)("span",(0,B.Z)({className:o},t))};var qo={paddingLeft:8,width:"100%",textAlign:"left"};const Qo=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.onClose,a=e.onEdit,s=e.onRemove,i=re(Xt),l=H(en.MODAL_PANE,t);return(0,P.jsxs)(ve,{className:l,style:(0,B.Z)({},o,i.COMP),isShow:n,onClose:r,children:[(0,P.jsx)($,{style:qo,caption:"Edit Details",onClick:a}),(0,P.jsx)($,{style:qo,caption:"Remove Note",onClick:s})]})};const er=function(e){var n=e.dragHandleProps,t=e.isDetails,o=e.onClickHandle,r=e.refTitle,a=e.noteTitle,s=e.onBlurTitle,i=e.isMenuMore,l=e.onClickMenuMore,c=e.onCloseMenuMore,d=e.onEditDetails,u=e.onRemoveNote;return(0,P.jsxs)("div",{children:[(0,P.jsx)(Jo,(0,B.Z)({},n,{isDetails:t,onClick:o})),(0,P.jsx)(rn,{ref:r,className:"note__caption",initialValue:a,onBlur:s}),(0,P.jsx)(Ro,{className:"note__bt-more",title:"Click to open note menu",onClick:l}),i&&(0,P.jsx)(Qo,{isShow:i,className:"note__menu-more",onClose:c,onEdit:d,onRemove:u})]})};const nr=function(e){var n=e.isShow,t=e.note,o=e.editDetails,r=ze(t);return(0,P.jsx)(xe,{className:"note__details",isShow:n,children:(0,P.jsxs)("div",{onClick:o,children:[(0,P.jsx)(tn,{labels:t.labels}),(0,P.jsx)("div",{children:r})]})})};const tr=function(e){var n=e.columnId,t=e.note,o=e.dragHandleProps,a=t.id,s=t.title,i=(0,E.useRef)(),l=ce(),c=l[0],d=l[1],u=l[2],f=Yt(),m=f[0],v=f[1],p=(0,r.I0)(),h=(0,E.useCallback)((function(){p($e({columnId:n,noteId:a}))}),[n]),x=(0,E.useCallback)((function(e){var n=e.target.value;if(n)n!==s&&p(Ze({noteId:a,title:n}));else{var t=k(i);t&&t.setValue(s)}}),[s]),g=(0,E.useCallback)((function(){p(Dn({id:_n,data:t})),u()}),[t]);return(0,P.jsxs)("div",{className:"note",id:a,children:[(0,P.jsx)(er,{dragHandleProps:o,isDetails:m,onClickHandle:v,refTitle:i,noteTitle:s,onBlurTitle:x,isMenuMore:c,onClickMenuMore:d,onCloseMenuMore:u,onEditDetails:g,onRemoveNote:h}),(0,P.jsx)(nr,{isShow:m,note:t,editDetails:g})]})};var or=Yo({notDragBg:"#9e9e9e",isDragHanlerProps:!0})(tr);or.displayName="DnDNote";const rr=or;var ar={minHeight:50},sr={border:"2px solid #9e9e9e"};const ir=function(e){var n=e.cId,t=e.noteIds,o=e.notes;return(0,P.jsx)(Ft.bK,{droppableId:n,children:function(e,r){return function(e){var n=e.provided,t=e.snapshot,o=e.noteIds,r=e.notes,a=e.cId;return(0,P.jsxs)(Xo,(0,B.Z)({},n.droppableProps,{innerRef:n.innerRef,isDraggingOver:t.isDraggingOver,style:ar,notDraggingStyle:sr,children:[o.map((function(e,n){return(0,P.jsx)(Ft._l,{draggableId:e,index:n,children:function(n,t){return(0,P.jsx)(rr,{draggableProps:n.draggableProps,innerRef:n.innerRef,isDragging:t.isDragging,dragHandleProps:n.dragHandleProps,note:r[e],columnId:a})}},e)})),n.placeholder]}))}({provided:e,snapshot:r,noteIds:t,notes:o,cId:n})}})};var lr={marginRight:8},cr={position:"absolute",width:150};const dr=function(e){var n=e.boardId,t=e.column,o=e.notes,a=e.addNote,s=t.id,i=t.isHide,l=t.title,c=t.withAdd,d=t.noteIds,u=ce(),f=u[0],m=u[1],v=u[2],p=(0,r.I0)(),h=(0,E.useCallback)((function(){p(at({columnId:s}))}),[s]),x=(0,E.useCallback)((function(){a({columnId:s})}),[a,s]),g=(0,E.useCallback)((function(e){p(rt({columnId:s,title:e.target.value}))}),[s]),b=(0,E.useCallback)((function(){p(Bn({boardId:n,columnId:s}))}),[n,s]),y=d.length;return(0,P.jsxs)(Zo.Item,{isHide:i,children:[(0,P.jsxs)(Zo.Header,{children:[(0,P.jsx)(Ro,{style:lr,title:"Click to open topic menu",onClick:m}),f&&(0,P.jsx)(Lo,{style:cr,isShow:f,onAddNote:x,onHideTopic:h,onClose:v}),(0,P.jsx)(Zo.Title,{initialValue:l,onBlur:g}),(0,P.jsx)(Zo.Counter,{value:y}),c&&(0,P.jsx)($,{clCaption:en.CARD_BT,caption:"AddNote",title:"Click to add a new note",timeout:1e3,onClick:x})]}),(0,P.jsx)(ir,{cId:s,noteIds:d,notes:o}),(0,P.jsx)("div",{children:To(d)&&(0,P.jsx)($,{clCaption:en.CARD_BT,caption:"Remove Topic",onClick:b})})]})};var ur=function(e){var n=e.boardId,t=e.columnIds,o=e.columns,r=e.notes,a=e.addNote;return(t||[]).map((function(e){var t=o[e];return(0,P.jsx)(dr,{boardId:n,column:t,notes:r,addNote:a},t.id)}))},fr={moveNote:Je,addNote:Ye,addColumn:Rn};const mr=(0,r.$j)((function(e){return{board:vt.board.currentBoard(e),notes:vt.note.notes(e),columns:vt.column.columns(e)}}),fr)((function(e){var n=e.board,t=e.notes,o=e.columns,r=e.addNote,a=e.moveNote,s=e.addColumn,i=n.id,l=n.columnIds,c=(0,E.useCallback)((function(e){Kt(e)||a(e)}),[]),d=(0,E.useCallback)((function(){s({boardId:i})}),[]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Do,{addColumn:d}),(0,P.jsx)(Ft.Z5,{onDragEnd:c,children:(0,P.jsx)(Ao,{children:(0,P.jsx)(ur,{boardId:i,columnIds:l,columns:o,notes:t,addNote:r})})})]})}));var vr={addBoard:f};const pr=(0,r.$j)(null,vr)((function(e){var n=e.style,t=e.addBoard;return(0,P.jsxs)(Ut,{className:en.HEADER,style:n,children:[(0,P.jsx)(to,{}),(0,P.jsx)("span",{className:en.TITLE_GAP}),(0,P.jsx)("span",{className:en.HEADER_TITLE,children:"Notes: Boards"}),(0,P.jsx)($,{caption:"Add Board",title:"Click to add new board",accessKey:"a",isEvent:!1,timeout:200,onClick:t}),(0,P.jsx)(ko,{})]})}));var hr=t(721),xr={paddingLeft:12,lineHeight:2},gr={float:"right",paddingRight:12};var br=Yo((function(e){var n=e.title,t=e.count;return(0,P.jsxs)("div",{style:xr,children:[(0,P.jsx)("span",{children:n}),(0,P.jsx)(Zo.Counter,{style:gr,value:t})]})}));br.displayName="DnDTopic";const yr=br;const Cr=function(e){var n=e.id,t=e.columnIds,o=e.columns;return(0,P.jsx)(Ft.bK,{droppableId:n,children:function(e,n){return function(e){var n=e.provided,t=e.snapshot,o=e.columnIds,r=e.columns;return(0,P.jsxs)(Xo,(0,B.Z)({},n.droppableProps,{innerRef:n.innerRef,isDraggingOver:t.isDraggingOver,children:[o.map((function(e,n){return(0,P.jsx)(Ft._l,{draggableId:e,index:n,children:function(n,t){return(0,P.jsx)(yr,(0,B.Z)({draggableProps:n.draggableProps,innerRef:n.innerRef,isDragging:t.isDragging,dragHandleProps:n.dragHandleProps},{title:(o=r[e]).title,count:o.noteIds.length}));var o}},e)})),n.placeholder]}))}({provided:e,snapshot:n,columnIds:t,columns:o})}})};var jr={margin:"8px 8px 4px 0"},Nr=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this)._hBlurTitle=function(e){var t=n.props,o=t.board;(0,t.editBoardTitle)({boardId:o.id,title:e.target.value})},n._hSetCurrent=function(){var e=n.props,t=e.board;(0,e.setBoardCurrent)({boardId:t.id})},n._hRemove=function(){var e=n.props,t=e.board;(0,e.removeBoard)({boardId:t.id})},n._hToNotes=function(){var e=n.props,t=e.board;(0,e.setCurrentBoard)({boardId:t.id})},n}return(0,hr.Z)(n,e),n.prototype.render=function(){var e=this.props,n=e.id,t=e.board,o=e.columns,r=t.columnIds;return(0,P.jsxs)(Zo.Item,{children:[(0,P.jsxs)(Zo.Header,{children:[(0,P.jsx)(Zo.Title,{initialValue:t.title,onBlur:this._hBlurTitle}),(0,P.jsx)(Zo.Counter,{value:r.length})]}),(0,P.jsx)(Cr,{id:n,columnIds:r,columns:o}),(0,P.jsx)(At.OL,{to:"/boards/"+t.id,className:en.NAV_LINK,style:jr,onClick:this._hToNotes,children:"ToNotes"}),(0,P.jsx)("div",{children:To(r)&&(0,P.jsx)($,{clCaption:en.CARD_BT,caption:"Remove Board",onClick:this._hRemove})})]})},n}(E.Component),_r={editBoardTitle:Un,setCurrentBoard:v,removeBoard:m};const Ir=(0,r.$j)((function(e,n){return{board:ut.board(e,n.id),columns:mt.columns(e)}}),_r)(Nr);const Sr=(0,r.$j)((function(e){return{boardIds:ut.boardIds(e),boards:ut.boards(e)}}))((function(e){var n=e.boardIds;e.boards;return n.map((function(e){return(0,P.jsx)(Ir,{id:e},e)}))}));var wr={moveColumn:Ln};const Er=(0,r.$j)(null,wr)((function(e){var n=e.moveColumn,t=(0,E.useCallback)((function(e){Kt(e)||n(e)}),[n]);return[(0,P.jsx)(pr,{},"header"),(0,P.jsx)(Ft.Z5,{onDragEnd:t,children:(0,P.jsx)(Ao,{children:(0,P.jsx)(Sr,{})})},"ddc")]}));var kr="modal-root",Dr={display:"block"},Ar={display:"none"};const Tr=function(e){var n=e.isShow,t=e.onClose,o=e.children,r=n?["modal-root show-modal",Dr]:[kr,Ar],a=r[0],s=r[1];return(0,P.jsx)("div",{role:"presentation",className:a,style:s,onClick:t,children:o})};var Rr=function(e){var n=e.TS,t=e.store,o=e.shows,r=e.data,a=e.dialogs,s=e.onClose;return a.map((function(e){var a=e.type,i=e.comp;return(0,E.createElement)(i,{TS:n,key:a,isShow:o[a],data:r[a],store:t,dispatch:t.dispatch,onClose:s.bind(null,a)})}))},Br=(0,E.memo)((function(e){var n=e.store,t=re(se),o=(0,E.useRef)(),r=(0,E.useState)({isShow:!1,currentDialog:null,dialogs:[],inits:{},shows:{},data:{}}),a=r[0],s=r[1],i=(0,E.useCallback)((function(e){s((function(n){return n.shows[e]=!1,(0,B.Z)({},n,{isShow:!1,currentDialog:null,shows:n.shows})}))}),[]);(0,E.useEffect)((function(){return n.subscribe((function(){var e=ct.modal(n.getState()),t=e.id,r=e.data,a=void 0===r?{}:r,i=k(o);t&&i!==e&&(D(o,e),s((function(e){var n=e.inits,o=e.shows,r=e.data,s=e.dialogs;return n[t]||(s.push({type:t,comp:Sn.getDialog(t)}),n[t]=!0),o[t]=!0,r[t]=a,{isShow:!0,currentDialog:t,shows:o,data:r,dialogs:s,inits:n}})))}))}),[]);var l=a.isShow,c=a.currentDialog,d=a.shows,u=a.data,f=a.dialogs;return(0,P.jsx)(Tr,{isShow:l,onClose:i.bind(null,c),children:(0,P.jsx)(Rr,{TS:t,store:n,shows:d,data:u,dialogs:f,onClose:i})})}));const Lr=Br;const Or=function(e){var n=e.basename,t=e.store,o=(0,E.useState)(Zt),a=o[0],s=o[1],i=(0,r.v9)(ct.uiTheme);return(0,E.useEffect)((function(){a.getThemeName!==i&&(a.setThemeName(i),s((0,B.Z)({},a)))}),[i]),(0,P.jsx)(E.StrictMode,{children:(0,P.jsx)(At.VK,{basename:n,children:(0,P.jsxs)(oe.Provider,{value:a,children:[(0,P.jsx)(Lr,{store:t}),(0,P.jsxs)(Tt.Z5,{children:[(0,P.jsx)(Tt.AW,{path:"/boards/:id",element:(0,P.jsx)(mr,{})}),(0,P.jsx)(Tt.AW,{path:"/boards",element:(0,P.jsx)(Er,{})}),(0,P.jsx)(Tt.AW,{path:"/",element:(0,P.jsx)(Tt.Fg,{to:"/boards",replace:!0})})]})]})})})};var Mr=((window||{}).location||{}).pathname;(0,o.render)((0,P.jsx)(r.zt,{store:kt,children:(0,P.jsx)(Or,{basename:Mr,store:kt})}),document.getElementById("app"))},251:(e,n,t)=>{t(418);var o=t(294),r=60103;if(n.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),n.Fragment=a("react.fragment")}var s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var o,a={},c=null,d=null;for(o in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,o)&&!l.hasOwnProperty(o)&&(a[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps)void 0===a[o]&&(a[o]=n[o]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:s.current}}n.jsx=c,n.jsxs=c},893:(e,n,t)=>{e.exports=t(251)}},e=>{var n;n=62,e(e.s=n)}]);