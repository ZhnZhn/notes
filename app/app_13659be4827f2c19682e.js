/*! For license information please see app_13659be4827f2c19682e.js.LICENSE.txt */
"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[143],{397:(e,n,t)=>{var o=t(935),r=t(216),a=t(403),s=function(e,n){return"Max number ("+n+") of "+e+" reached."},i=8,l=8,c=12;const d={STORAGE_KEY:"notes-manager",DMSG_PREFIX:"m",MSG_SAVED:"Boards saved",MSG_SAVE_FAIL:"Boards not saved",MSG_CLEANED:"localStorage cleaned",MSG_CLEAN_FAIL:"localStorage not cleaned",BOARDS_PREFIX:"b",MAX_BOARDS:i,N_MAX_BOARDS:{descr:s("boards",i)},MAX_COLUMNS:l,COLUMNS_PREFIX:"c",N_MAX_COLUMNS:{descr:s("columns",l)},MAX_NOTES:c,NOTES_PREFIX:"n",N_MAX_NOTES:{descr:s("notes",c)},NLABELS_PREFIX:"nl"};var u=t(857),f=(0,a.PH)("boards/addBoard"),m=(0,a.PH)("boards/removeBoard"),v=(0,a.PH)("boards/setCurrentBoard");const p={app:{boardId:"b-1",boardIds:["b-1"],uiTheme:"DARK"},drawerMsg:[],modal:{id:void 0,data:void 0},boards:{"b-1":{id:"b-1",title:"Board 1",columnIds:["c-1","c-2"]}},notes:{},noteLabels:{},columns:{"c-1":{id:"c-1",title:"Topic 1",noteIds:[],withAdd:!0},"c-2":{id:"c-2",title:"Topic 2",noteIds:[]}}};var h=(0,a.oM)({name:"app",initialState:p.app,reducers:{setUiTheme:function(e,n){var t=n.payload.uiTheme;e.uiTheme=t}},extraReducers:function(e){return e.addCase(f,(function(e,n){var t=n.payload.boardId;e.boardIds.push(t)})).addCase(m,(function(e,n){var t=n.payload.boardId;e.boardIds=e.boardIds.filter((function(e){return e!==t}))})).addCase(v,(function(e,n){var t=n.payload.boardId;e.boardId=t}))}}),x=h.actions,g=h.reducer,b=x.setUiTheme;const y=g;var j=function(e,n){return{id:e,msg:n}},C=(0,a.oM)({name:"drawerMsg",initialState:p.drawerMsg,reducers:{addDrawerMsg:function(e,n){var t=n.payload,o=t.id,r=t.msg;e.unshift(j(o,r))},removeDrawerMsg:function(e,n){var t=n.payload.id;return e.filter((function(e){return e.id!==t}))}}}),N=C.actions,I=C.reducer,_=N.addDrawerMsg,S=N.removeDrawerMsg;const w=I;var k=t(711),E=t(294),D=function(e){return(e||{}).current},R=function(e,n){e&&(e.current=n)},A=function(e){var n=D(e);n&&"function"==typeof n.focus&&n.focus()},T=function(e,n){return e.isShow===n.isShow};const B=function(e){return(0,E.memo)(e,T)};var M=t(462);const O=function(e){return function(n,t){return(0,E.useCallback)((function(t){e(t)&&(t.preventDefault(),t.stopPropagation(),n(t))}),t||[])}}((function(e){return 27===e.keyCode||"Escape"===e.key}));var L=Array.isArray,H=function(e){return L(e)?e[0]?e[1]:"":e||""};const P=function(e,n){var t=H(e),o=H(n);return t?o?t+" "+o:t:o||void 0};var G=t(893);const Z=function(e){var n=e.className,t=e.style,o=e.tabIndex,r=e.onClose;return(0,G.jsx)("button",{tabIndex:o,className:P("bt-svg-close",n),style:t,onClick:r,children:(0,G.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,G.jsx)("path",{d:"M 0,0 L 12,12"}),(0,G.jsx)("path",{d:"M 12,0 L 0,12"})]})})};const F=function(e){var n=e.rootStyle,t=(e.svgStyle,e.caption),o=e.onClose,r=e.children;return(0,G.jsxs)("div",{className:"dialog__header",style:n,children:[(0,G.jsx)("span",{className:"dialog__caption not-selected",children:t}),r,(0,G.jsx)(Z,{className:"dialog__svg-close",onClose:o})]})};const K=function(e,n,t){void 0===n&&(n=3e3),void 0===t&&(t=!0);var o=(0,E.useRef)(null);return(0,E.useCallback)((function(r){var a=t?r:void 0;if(0!==n){var s=o.current,i=r.timeStamp;(null==s||i-s>n)&&(e(a),o.current=i)}else e(a)}),[t,n,e])};var X=Array.isArray,V=function(e){return X(e)?e[0]?e[1]:void 0:e||void 0};const U=function(){var e=V(arguments.length<=0?void 0:arguments[0]),n=V(arguments.length<=1?void 0:arguments[1]);return e?n?(0,M.Z)({},e,n):e:n||void 0};var z={textDecoration:"underline"},W=function(e,n){var t=function(e,n){return e?n.toLowerCase().indexOf(e):-1}(e,n);if(-1===t)return n;var o=n.substring(0,t),r=n.substring(t,t+1),a=n.substring(t+1);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("span",{children:o}),(0,G.jsx)("span",{style:z,children:r}),(0,G.jsx)("span",{children:a})]})};const Y=function(e){var n=e.className,t=e.caption,o=e.accessKey,r=e.children;return t?(0,G.jsxs)("span",{className:n,children:[W(o,t),r]}):null};var $={color:"#607d8b"};const J=(0,E.forwardRef)((function(e,n){var t=e.timeout,o=e.className,r=e.style,a=e.clDiv,s=void 0===a?"bt-flat__div":a,i=e.clCaption,l=e.isPrimary,c=e.title,d=void 0===c?"":c,u=e.caption,f=e.accessKey,m=e.children,v=e.isEvent,p=e.onClick,h=K(p,t,v),x=P("bt-flat",o),g=P("bt-flat__span",i),b=U(r,[l,$]),y=function(e,n){return n?e+" ["+n+"]":e}(d,f);return(0,G.jsx)("button",{ref:n,className:x,style:b,accessKey:f,title:y,onClick:h,children:(0,G.jsxs)("div",{className:s,children:[(0,G.jsx)(Y,{className:g,caption:u,accessKey:f}),m]})})}));var q="header",Q="header__title",ee="modal-pane",ne="md__actions",te="card",oe="bt__card",re="note__label",ae="nav-link",se={display:"block"},ie={display:"none"},le=function(e){var n=e.buttons,t=e.refBtClose,o=e.withoutClose,r=e.onClose;return(0,G.jsxs)("div",{className:ne,children:[n,!o&&(0,G.jsx)(J,{ref:t,caption:"Close",timeout:0,onClick:r})]})};const ce=function(e){var n=e.className,t=void 0===n?"":n,o=e.style,r=e.isShow,a=e.isWithButton,s=void 0===a||a,i=e.isFocusClose,l=void 0===i||i,c=e.caption,d=e.captionStyle,u=e.children,f=e.commandButtons,m=e.withoutClose,v=e.onClose,p=function(e,n){var t=(0,E.useRef)(),o=(0,E.useRef)(),r=(0,E.useRef)(),a=(0,E.useCallback)((function(){o.current=document.activeElement,n&&A(t)}),[n]),s=(0,E.useCallback)((function(){A(o),o.current=null}),[]);return(0,E.useEffect)((function(){var n=D(r);e&&!n?a():!e&&n&&s(),r.current=e}),[e,a,s]),t}(r,l),h=(0,E.useCallback)((function(e){e.stopPropagation()}),[]),x=O(v),g=P("modal-dialog "+t,[r,"show-popup"]),b=r?se:ie;return(0,G.jsxs)("div",{role:"dialog","aria-label":c,"aria-hidden":!r,className:g,style:(0,M.Z)({},o,b),onClick:h,onKeyDown:x,children:[(0,G.jsx)(F,{rootStyle:d,caption:c,onClose:v}),(0,G.jsx)("div",{children:u}),s&&(0,G.jsx)(le,{buttons:f,refBtClose:p,withoutClose:m,onClose:v})]})};var de="d-notif__row";const ue=B((function(e){var n=e.isShow,t=e.data,o=e.TS,r=e.onClose,a=t||{},s=a.caption,i=void 0===s?"":s,l=a.descr,c=void 0===l?"":l;return(0,G.jsxs)(ce,{style:o.DIALOG,caption:"Notification",isShow:n,onClose:r,children:[i&&(0,G.jsx)("div",{className:de,children:(0,G.jsx)("p",{className:"d-notif__caption",children:i})}),(0,G.jsx)("div",{className:de,children:(0,G.jsx)("p",{className:"d-notif__descr",children:c})})]})}));const fe=(0,E.createContext)();const me=function(e){return(0,E.useContext)(fe).createStyle(e)};var ve={themeName:void 0,style:void 0,createStyle:function(e){return{DIALOG:(0,M.Z)({},e.BG),SELECT:{MODAL_PANE:(0,M.Z)({},e.BG)}}}};const pe=ve;var he=function(e){return!!e},xe=function(e,n){return n};const ge=function(e){var n=(0,E.useReducer)(xe,e,he),t=n[0],o=n[1],r=(0,E.useRef)((function(){return o(!0)})),a=(0,E.useRef)((function(){return o(!1)}));return[t,D(r),D(a)]};var be="m-select";const ye=function(){return(0,G.jsx)("svg",{className:"m-select__svg-arrow",viewBox:"0 0 24 24",children:(0,G.jsx)("path",{d:"M7 10l5 5 5-5z"})})};var je=function(e,n){D(n)&&(document.removeEventListener("click",e,!0),R(n,null))};const Ce=function(e,n){var t=(0,E.useRef)(null),o=(0,E.useRef)(null),r=(0,E.useCallback)((function(e){var o=D(t);o&&o.contains&&!o.contains(e.target)&&(e.stopPropagation(),n(e))}),[]);return(0,E.useEffect)((function(){e&&!D(o)?(document.addEventListener("click",r,!0),R(o,!0)):e||je(r,o)})),(0,E.useEffect)((function(){return function(){return je(r,o)}}),[]),t};const Ne=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.children,a=e.onClose,s=Ce(n,a),i=O(a),l=n?i:void 0;return(0,G.jsx)("div",{role:"presentation",ref:s,className:t,style:o,onKeyDown:l,children:r})};var Ie={display:"block"},_e={display:"none"};const Se=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.children,a=P(t,[n,"show-popup"]),s=U(o,n?Ie:_e);return(0,G.jsx)("div",{className:a,style:s,children:r})};var we={position:"absolute",top:12,zIndex:20,width:"100%",paddingTop:12,paddingBottom:12,lineHeight:1.8,backgroundColor:"rgb(77, 77, 77)",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 2px 2px 0px, rgba(0, 0, 0, 0.1) 0px 0px 0px 1px"},ke={lineHeight:2.2,paddingLeft:12},Ee={color:"greenyellow"},De=function(e,n,t,o,r){return e.map((function(e){var r,a=U(ke,[e.value===n.value,Ee]),s=o.bind(null,e),i=(r=s,function(e){13===e.which&&r(e)});return(0,G.jsx)("div",{role:"button",tabIndex:"0",style:a,className:t,onClick:s,onKeyPress:i,children:e.caption},e.value)}))};const Re=function(e){var n=e.isShow,t=e.style,o=e.options,r=e.item,a=e.clItem,s=e.onSelect,i=e.onClose;return(0,G.jsx)(Ne,{isShow:n,style:t,onClose:i,children:(0,G.jsx)(Se,{isShow:n,style:(0,M.Z)({},we,t),children:De(o,r,a,s)})})};var Ae={caption:"",value:""},Te={};const Be=function(e){var n=e.initialItem,t=e.caption,o=e.options,r=e.styleConfig,a=void 0===r?Te:r,s=e.onSelect,i=ge(),l=i[0],c=i[1],d=i[2],u=(0,E.useState)(n||Ae),f=u[0],m=u[1],v=(0,E.useCallback)((function(e,n){n.stopPropagation(),s(e),d(),m(e)}),[s,d]);return(0,G.jsxs)("div",{role:"presentation",className:be,style:a.ROOT,onClick:c,children:[(0,G.jsx)(Re,{style:a.MODAL_PANE,isShow:l,item:f,options:o,clItem:a.CL_ITEM,onSelect:v,onClose:d}),(0,G.jsx)("label",{className:"m-select__label",children:t}),(0,G.jsxs)("div",{className:"m-select__div",children:[(0,G.jsx)("div",{className:"m-select__div__value",children:f.caption}),(0,G.jsx)("button",{className:"m-select__div__bt",tabIndex:"0",children:(0,G.jsx)(ye,{})}),(0,G.jsx)("div",{className:"m-select__line"})]})]})};var Me=[{caption:"Dark",value:"DARK"},{caption:"Light",value:"WHITE"},{caption:"Sand",value:"SAND"}],Oe=Me[0];const Le=B((function(e){var n=e.isShow,t=e.dispatch,o=e.onClose,r=(0,E.useCallback)((function(e){var n=e.value;t(b({uiTheme:n}))}),[]),a=me(pe);return(0,G.jsx)(ce,{isShow:n,className:"md-settings",style:a.DIALOG,caption:"User Settings",onClose:o,children:(0,G.jsx)(Be,{styleConfig:a.SELECT,caption:"UI Theme (Default: Dark)",initialItem:Oe,options:Me,onSelect:r})})}));var He={listStyle:"outside none none",marginTop:4,marginLeft:12,marginRight:5,marginBottom:8,textAlign:"left"},Pe={width:"100%",height:"100%"},Ge={display:"block",width:"100%",height:"100%"},Ze={display:"none"},Fe=function(e,n,t){return e.map((function(e,o){return(0,E.cloneElement)(e,{key:o,id:o,onClick:function(){return t(o)},isSelected:o===n})}))},Ke=function(e,n){return e.map((function(e,t){var o=t===n,r=o?Ge:Ze;return(0,G.jsx)("div",{style:r,role:"tabpanel",id:"tabpanel-"+t,"aria-labelledby":"tab-"+t,children:(0,E.cloneElement)(e.props.children,{key:"comp"+t,isSelected:o})},"a"+t)}))};const Xe=(0,E.forwardRef)((function(e,n){var t=e.width,o=e.height,r=e.tabsStyle,a=e.children,s=(0,E.useState)(0),i=s[0],l=s[1];return(0,E.useImperativeHandle)(n,(function(){return{getSelectedTabIndex:function(){return i}}}),[i]),(0,G.jsxs)("div",{style:{width:t,height:o},children:[(0,G.jsx)("ul",{style:(0,M.Z)({},He,r),children:Fe(a,i,l)}),(0,G.jsx)("div",{style:Pe,children:Ke(a,i)})]})}));const Ve=function(e){var n=e.id,t=e.title,o=e.isSelected,r=e.onClick,a=P("tab not-selected",[o,"tab--selected"]),s=function(){o||r()};return(0,G.jsx)("li",{role:"tab",tabIndex:0,className:a,id:"tab-"+n,"aria-selected":o,"aria-controls":"tabpanel-"+n,onClick:s,onKeyDown:function(e){(function(e){return""===e.key||32===e.keyCode})(e)&&s()},children:(0,G.jsx)("span",{children:t})})};const Ue=function(e,n,t){return(0,E.useEffect)((function(){var e=D(e);n&&e&&e.focus()}),[t])};var ze=(0,a.oM)({name:"notes",initialState:{},reducers:{addNote:function(e,n){var t=n.payload.noteId;e[t]=function(e){return{id:e,title:"New Note"}}(t)},deleteNote:function(e,n){delete e[n.payload.noteId]},editNoteTitle:function(e,n){var t=n.payload,o=t.noteId,r=t.title;e[o].title=r},editNoteDescr:function(e,n){var t=n.payload,o=t.noteId,r=t.descr;e[o].descr=r},editNoteLabels:function(e,n){var t=n.payload,o=t.noteId,r=t.labelsTo;e[o].labels=r}}}),We=ze.reducer,Ye=ze.actions,$e=Ye.editNoteTitle,Je=Ye.editNoteDescr;const qe=We;const Qe=function(e){return"Delete"===e.key||46===e.keyCode};const en=(0,E.forwardRef)((function(e,n){var t=e.className,o=e.style,r=e.initialValue,a=e.maxLength,s=(0,E.useRef)(),i=(0,E.useState)(r),l=i[0],c=i[1],d=(0,E.useCallback)((function(e){c(e.target.value)}),[]),u=(0,E.useCallback)((function(e){Qe(e)&&c("")}));return(0,E.useImperativeHandle)(n,(function(){return{getValue:function(){return l},focus:function(){var e=D(s);e&&e.focus()}}}),[l]),(0,G.jsx)("textarea",{ref:s,className:t,style:o,value:l,maxLength:a,onChange:d,onKeyDown:u})}));const nn=function(e){var n=e.refBtClose,t=e.className,o=e.onSave,r=e.onClose;return(0,G.jsxs)("div",{className:t,children:[(0,G.jsx)(J,{caption:"Save",timeout:100,onClick:o}),(0,G.jsx)(J,{ref:n,caption:"Close",timeout:0,onClick:r})]})};const tn=function(e){return"object"!=typeof e||null==e?"This note is not exist.":e.descr||"Edit description..."};const on=function(e){var n=e.isSelected,t=e.note,o=e.dispatch,r=e.onClose,a=t.id,s=(0,E.useRef)(null),i=(0,E.useRef)(null),l=(0,E.useCallback)((function(){o(Je({noteId:a,descr:D(i).getValue()}))}),[a]);Ue(s,n,e);var c=tn(t);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(en,{ref:i,className:"md-details__descr",maxLength:250,initialValue:c},a),(0,G.jsx)(nn,{refBtClose:s,className:"md__actions",onSave:l,onClose:r})]})};var rn=(0,a.PH)("notes/addNote"),an=(0,a.PH)("notes/deleteNote"),sn=(0,a.PH)("notes/moveNote"),ln=(0,a.PH)("notes/editNoteLabels");const cn=function(e){var n=e.className,t=e.clClose,o=e.item,r=e.onRemove;return(0,G.jsxs)("button",{className:n,style:{backgroundColor:o.color},onClick:r,children:[o.title,r&&(0,G.jsx)("span",{className:t,children:"x"})]})};var dn={paddingBottom:4};const un=function(e){var n=e.labels,t=e.onRemove;return(0,G.jsx)("div",{style:dn,children:(n||[]).map((function(e){return(0,G.jsx)(cn,{className:re,clClose:"note__label__close",item:e,onRemove:t?t.bind(null,e):void 0},e.id||e.title)}))})};const fn=function(e){return"Enter"===e.key||13===e.keyCode};const mn=(0,E.forwardRef)((function(e,n){var t=e.className,o=e.style,r=e.initialValue,a=e.maxLength,s=void 0===a?40:a,i=e.onBlur,l=(0,E.useState)(r),c=l[0],d=l[1],u=(0,E.useCallback)((function(e){var n=e.target.value;n.length<=s&&d(n)}),[s]),f=(0,E.useCallback)((function(e){if(fn(e)){var n=document.activeElement;n&&"function"==typeof n.blur&&n.blur()}else Qe(e)&&d("")}),[]);(0,E.useImperativeHandle)(n,(function(){return{setValue:function(e){e.length<=s&&d(e)}}}),[s]);var m=P("input-text",t);return(0,G.jsx)("input",{type:"text",className:m,style:o,value:c,onChange:u,onBlur:i,onKeyDown:f})}));var vn=function(){};const pn=function(e){var n=e.tabIndex,t=void 0===n?"-1":n,o=e.style,r=e.color,a=e.onClick,s=void 0===a?vn:a,i=e.children,l=r?{backgroundColor:r}:void 0;return(0,G.jsx)("button",{tabIndex:t,style:(0,M.Z)({},o,l),onClick:function(){return s(r)},children:i})};var hn=["#8abb5d","#f7a35c","#795548","#f45b5b","#d2b772","#dda0dd"],xn=["#f1d600","#008b8b","#2f7ed8","#000000","#607d8b","#7092be"],gn={paddingBottom:4},bn={padding:"4px 0 0 56px"},yn={position:"relative",display:"inline-block",height:32,width:32,marginRight:4,borderRadius:2,verticalAlign:"bottom",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)"},jn=(0,M.Z)({},yn,{margin:"0 12px"}),Cn=function(e){var n=e.colors,t=e.onClick;return(0,G.jsx)(G.Fragment,{children:n.map((function(e){return(0,G.jsx)(pn,{color:e,style:yn,onClick:t},e)}))})};const Nn=(0,E.forwardRef)((function(e,n){var t=e.initColor,o=void 0===t?"#2f7ed8":t,r=(0,E.useState)(o),a=r[0],s=r[1],i=(0,E.useCallback)((function(e){e&&s(e)}),[]),l=(0,E.useCallback)((function(){return s(o)}),[o]);return(0,E.useImperativeHandle)(n,(function(){return{getColor:function(){return a}}}),[a]),(0,G.jsxs)("div",{style:gn,children:[(0,G.jsxs)("div",{children:[(0,G.jsx)(pn,{style:jn,color:a,onClick:l}),(0,G.jsx)(Cn,{colors:hn,onClick:i})]}),(0,G.jsx)("div",{style:bn,children:(0,G.jsx)(Cn,{colors:xn,onClick:i})})]})}));var In={padding:"4px 0 8px 12px"},_n={marginLeft:16};const Sn=function(e){var n=e.isSelected,t=e.note,o=e.dispatch,r=e.onClose,a=t.id,s=(0,E.useState)((function(){return t.labels||[]})),i=s[0],l=s[1],c=(0,E.useRef)(null),d=(0,E.useRef)(""),u=(0,E.useRef)(null),f=(0,E.useRef)(null),m=(0,E.useCallback)((function(e){d.current=e.target.value}),[]),v=(0,E.useCallback)((function(){l((function(e){return function(e,n,t){return!n||e.find((function(e){return e.title===n}))?e:e.concat({title:n,color:t})}(e,function(e){if("string"!=typeof e)return"";var n=e.trim();return n&&n.length>0?n[0].toUpperCase()+n.slice(1):n}(D(d)),D(f).getColor())}),D(u).setValue(""))}),[]),p=(0,E.useCallback)((function(e){l((function(n){return function(e,n){return e.filter((function(e){return e.title!==n.title}))}(n,e)}))}),[]),h=(0,E.useCallback)((function(){o(ln({noteId:a,labels:i}))}),[a,i]);return Ue(c,n,e),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{style:In,children:[(0,G.jsx)(un,{labels:i,onRemove:p}),(0,G.jsx)(mn,{ref:u,onBlur:m}),(0,G.jsx)(J,{clCaption:oe,style:_n,caption:"AddLabel",title:"Click to add a new label",timeout:400,onClick:v})]}),(0,G.jsx)(Nn,{ref:f}),(0,G.jsx)(nn,{refBtClose:c,className:ne,onSave:h,onClose:r})]})};var wn={marginBottom:0};const kn=B((function(e){var n,t,o,r=e.isShow,a=e.data,s=e.dispatch,i=e.onClose,l=me(pe),c=(n=a.title,"Details: "+(o=(t=void 0===n?"":n).substring(0,12))+(t.length>o.length?"...":""));return(0,G.jsx)(ce,{className:"md-details",style:l.DIALOG,captionStyle:wn,caption:c,isShow:r,withoutClose:!0,onClose:i,children:(0,G.jsxs)(Xe,{width:"100%",children:[(0,G.jsx)(Ve,{title:"Descr",children:(0,G.jsx)(on,{note:a,dispatch:s,onClose:i})}),(0,G.jsx)(Ve,{title:"Labels",children:(0,G.jsx)(Sn,{note:a,dispatch:s,onClose:i})})]},a.id)})}));var En,Dn="NOTIF",Rn="SETTINGS",An="DETAILS",Tn=((En={DF:ue})[Dn]=ue,En[Rn]=Le,En[An]=kn,En);const Bn={getDialog:function(e){return Tn[e]||Tn.DF}};var Mn=(0,a.oM)({name:"modal",initialState:{id:null,data:null},reducers:{showModal:function(e,n){var t=n.payload;return{id:t.id,data:t.data}}}}),On=Mn.actions,Ln=Mn.reducer,Hn=On.showModal,Pn=function(e){return Hn({id:Dn,data:e})};const Gn=Ln;var Zn=(0,a.PH)("columns/addColumn"),Fn=(0,a.PH)("columns/removeColumn"),Kn=(0,a.PH)("columns/moveColumn");const Xn=function(e){return function(n,t){var o;return(0,M.Z)({},n,((o={})[e]=t,o))}};var Vn=function(e,n){return function(t,o,r,a,s){var i=[].concat(s[e]);i.splice(r.index,1),i.splice(a.index,0,o),t[s.id]=n(s,i)}},Un=function(e,n){return function(t,o,r,a,s,i){var l=[].concat(s[e]);l.splice(r.index,1);var c=[].concat(i[e]);c.splice(a.index,0,o),t[s.id]=n(s,l),t[i.id]=n(i,c)}};const zn=function(e){var n=Xn(e);return{idsTo:n,moveInternal:Vn(e,n),moveExternal:Un(e,n)}};var Wn=zn("columnIds"),Yn=Wn.moveInternal,$n=Wn.moveExternal,Jn=(0,a.oM)({name:"boards",initialState:p.boards,reducers:{editBoardTitle:function(e,n){var t=n.payload,o=t.boardId,r=t.title;e[o].title=r},addBoard:function(e,n){var t=n.payload.boardId;e[t]={id:t,title:"New Board",columnIds:[]}},removeBoard:function(e,n){delete e[n.payload.boardId]}},extraReducers:function(e){return e.addCase(Zn,(function(e,n){var t=n.payload,o=t.boardId,r=t.columnId;e[o].columnIds.push(r)})).addCase(Fn,(function(e,n){var t=n.payload,o=t.boardId,r=t.columnId,a=e[o];a.columnIds=a.columnIds.filter((function(e){return e!==r}))})).addCase(Kn,(function(e,n){var t=n.payload,o=t.draggableId,r=t.source,a=t.destination,s=e[r.droppableId],i=e[a.droppableId];s===i?Yn(e,o,r,a,s):$n(e,o,r,a,s,i)}))}}),qn=Jn.actions,Qn=Jn.reducer,et=qn.editBoardTitle;const nt=Qn;const tt=(0,a.oM)({name:"noteLabels",initialState:p.noteLabels,extraReducers:function(e){return e.addCase(ln,(function(e,n){n.payload.newLabels.forEach((function(n){e[n.id]=n}))}))}}).reducer;var ot=zn("noteIds"),rt=ot.moveInternal;const at={crColumn:function(e,n){return void 0===n&&(n=!0),{id:e,title:"New Topic",noteIds:[],withAdd:n}},moveExternal:ot.moveExternal,moveInternal:rt};var st=at.crColumn,it=at.moveExternal,lt=at.moveInternal,ct=(0,a.oM)({name:"columns",initialState:p.columns,reducers:{editColumnTitle:function(e,n){var t=n.payload,o=t.columnId,r=t.title;e[o].title=r},toggleColumn:function(e,n){var t=n.payload.columnId,o=e[t];e[t].isHide=!o.isHide},addColumn:function(e,n){var t=n.payload.columnId;e[t]=st(t)},removeColumn:function(e,n){delete e[n.payload.columnId]}},extraReducers:function(e){e.addCase(rn,(function(e,n){var t=n.payload,o=t.columnId,r=t.noteId;e[o].noteIds.unshift(r)})).addCase(an,(function(e,n){var t=n.payload,o=t.columnId,r=t.noteId,a=e[o];a.noteIds=a.noteIds.filter((function(e){return e!==r}))})).addCase(sn,(function(e,n){var t=n.payload,o=t.draggableId,r=t.source,a=t.destination,s=e[r.droppableId],i=e[a.droppableId];s===i?lt(e,o,r,a,s):it(e,o,r,a,s,i)}))}}),dt=ct.actions,ut=ct.reducer,ft=dt.editColumnTitle,mt=dt.toggleColumn;const vt=ut;const pt=(0,u.UY)({app:y,drawerMsg:w,modal:Gn,boards:nt,notes:qe,noteLabels:tt,columns:vt});const ht=function(e){return void 0===e&&(e="a"),e+"-"+(Date.now().toString(36)+Math.random().toString(36).substr(2,9)).toUpperCase().substr(12)};var xt={app:function(e){return e.app||{}},modal:function(e){return e.modal||{}},currentBoard:function(e){return xt.app(e).boardId},boardIds:function(e){return xt.app(e).boardIds||[]},uiTheme:function(e){return xt.app(e).uiTheme}},gt={msg:function(e){return e.drawerMsg||[]}},bt={boards:function(e){return e.boards||{}},currentBoard:function(e){return bt.boards(e)[xt.currentBoard(e)]||{}},board:function(e,n){return bt.boards(e)[n]||{}},columnIds:function(e,n){return bt.board(e,n).columnIds||[]},boardIds:function(e){return xt.boardIds(e)}},yt=function(e){return e.noteLabels||{}},jt={columns:function(e){return e.columns||{}},column:function(e,n){return jt.columns(e)[n]||{}},noteIds:function(e,n){return jt.column(e,n).noteIds||[]}};const Ct={app:xt,drawer:gt,board:bt,note:{notes:function(e){return e.notes||{}}},column:jt};const Nt=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===f.type){if(a=n(),xt.boardIds(a).length>=d.MAX_BOARDS)return t(Pn(d.N_MAX_BOARDS)),!1;var r=ht(d.BOARDS_PREFIX);return o.payload={boardId:r},e(o),r}var a;return e(o)}}};const It=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===Zn.type){if(function(e,n){return bt.columnIds(e,n).length>=d.MAX_COLUMNS}(n(),o.payload.boardId))return t(Pn(d.N_MAX_COLUMNS)),!1;var r=ht(d.COLUMNS_PREFIX);return o.payload.columnId=r,e(o),r}return e(o)}}};const _t=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){if(o.type===rn.type){var r=o.payload.columnId;if(function(e,n){return jt.noteIds(e,n).length>=d.MAX_NOTES}(n(),r))return t(Pn(d.N_MAX_NOTES)),!1;var a=ht(d.NOTES_PREFIX);return o.payload.noteId=a,e(o),a}return e(o)}}};var St=Object.keys;const wt=function(e){return St(e).map((function(n){return e[n]}))};var kt=Array.isArray;const Et=function(e){var n=e.getState;e.dispatch;return function(e){return function(t){if(t.type===ln.type){var o=yt(n()),r=t.payload;t.payload=(0,M.Z)({},r,function(e,n){var t,o=[],r=[];if(t=e,!t||"object"!=typeof t||!kt(n))return{labelsTo:o,newLabels:r};var a=wt(e);return n.forEach((function(e){if(e.id)o.push(e);else{var n=a.find(function(e){return function(n){return n.title===e.title&&n.color===e.color}}(e));n?(e.id=n.id,o.push(e)):(e.id=ht(d.NLABELS_PREFIX),o.push(e),r.push(e))}})),{labelsTo:o,newLabels:r}}(o,r.labels))}return e(t)}}};var Dt=(0,a.PH)("app/saveBoard"),Rt=(0,a.PH)("app/cleanStorage");const At=function(e){var n=e.getState,t=e.dispatch;return function(e){return function(o){switch(o.type){case Dt.type:try{return window.localStorage.setItem(d.STORAGE_KEY,JSON.stringify((0,M.Z)({},n(),{drawerMsg:[],modal:{id:null,data:null}}))),t(_({msg:d.MSG_SAVED})),!0}catch(e){return t(_({msg:d.MSG_SAVE_FAIL})),console.log(e.msg),!1}case Rt.type:try{return window.localStorage.removeItem(d.STORAGE_KEY),t(_({msg:d.MSG_CLEANED})),!0}catch(e){return t(_({msg:d.MSG_CLEAN_FAIL})),console.log(e.msg),!1}default:return e(o)}}}};var Tt=function(e){return e<10?"0"+e:""+e};const Bt=function(){return function(e){return function(n){if(n.type===_.type){var t=n.payload,o=ht(d.DMSG_PREFIX);return t.id=o,t.msg=(r=t.msg,a=new Date,Tt(a.getHours())+":"+Tt(a.getMinutes())+" "+r),e(n),o}var r,a;return e(n)}}};var Mt=Array.isArray;const Ot=function(e){var n=e.getState;return function(e){return function(t){if(t.type===Fn.type){var o=jt.noteIds(n(),t.payload.columnId);if(!Mt(o)||0!==o.length)return!1}return e(t)}}};var Lt=Array.isArray;var Ht=[].concat([Nt,It,_t,Et,At,Bt,Ot,function(e){var n=e.getState;return function(e){return function(t){if(t.type===m.type){var o=bt.columnIds(n(),t.payload.boardId);if(!Lt(o)||0!==o.length)return!1}return e(t)}}},function(){return function(e){return function(n){return n.type!==$e.type||"string"==typeof(t=n.payload.title)&&t.trim()?e(n):(n.payload.title="New Note",e(n),!1);var t}}}]);const Pt=(0,a.xC)({reducer:pt,preloadedState:function(){var e;try{var n=window.localStorage.getItem(d.STORAGE_KEY);n&&(e=JSON.parse(n))}catch(e){console.log(e.msg)}return e||p}(),devTools:!1,middleware:function(e){return Ht}});var Gt,Zt=t(974),Ft={BG:{},ITEM:{}},Kt=Object.assign,Xt=[function(e,n){document.body.style.backgroundColor=n.BG_BODY},function(e,n){Kt(e.BG,{backgroundColor:n.BG})},function(e,n){Kt(e.ITEM,{backgroundColor:n.BG,border:"1px solid "+n.BG})}],Vt={DEFAULT:"DARK",DARK:"DARK",WHITE:"WHITE",SAND:"SAND"},Ut=((Gt={})[Vt.DARK]={pallete:{BG_BODY:"#5f5f5f",BG:"#4d4d4d",BG_HEADER:"#3a6799",C_HEADER:"#8a8a8a"},clSuffix:""},Gt[Vt.WHITE]={pallete:{BG_BODY:"#d2d2d2",BG:"#ebf1f5",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--white"},Gt[Vt.SAND]={pallete:{BG_BODY:"darkgrey",BG:"#e8e0cb",BG_HEADER:"rgb(0, 150, 200)",C_HEADER:"#4d4d4d"},clSuffix:"--sand"},Gt),zt={},Wt=function(e){var n,t=Ut[e],o=t.clSuffix,r=t.pallete;void 0===(n=o)&&(n=""),Object.keys(zt).forEach((function(e){Ft[e]=zt[e]+n})),function(e,n){Xt.forEach((function(t){return t(e,n)}))}(Ft,r)},Yt={themeName:Vt.DEFAULT,_init:function(){this.setThemeName(Vt.DEFAULT)},getThemeName:function(){return this.themeName},setThemeName:function(e){this.themeName=Vt[e]||Vt.DEFAULT,Wt(this.themeName)},createStyle:function(e){return this.themeName!==e.themeName&&(e.style=e.createStyle(Ft,this.themeName),e.themeName=this.themeName),e.style}};Yt._init();const $t=Yt;var Jt=t(797);const qt=function(e){if(!e||"object"!=typeof e)return!1;var n=e.destination,t=e.source;return!n||!t||n.droppableId===t.droppableId&&n.index===t.index};var Qt={themeName:void 0,style:void 0,createStyle:function(e){return{COMP:(0,M.Z)({},e.BG)}}};const eo=Qt;const no=function(e){var n=e.className,t=e.style,o=e.children,r=me(eo);return(0,G.jsx)("header",{className:n,style:(0,M.Z)({},t,r.COMP),children:o})};var to=function(e){return!!e},oo=function(e,n){return"boolean"==typeof n?n:!e};const ro=function(e){return(0,E.useReducer)(oo,e,to)};var ao={width:"auto",height:"auto"},so={transform:"translateX(-264px)",pointerEvents:"none"},io={transform:"translate(0px, 0px)"},lo={opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},co={opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"};const uo=function(e){var n=e.btStyle,t=e.captionEl,o=e.children,r=ro(!1),a=r[0],s=r[1],i=me(eo),l=a?[io,co,s]:[so,lo],c=l[0],d=l[1],u=l[2];return[(0,G.jsx)("button",{className:"drawer-bt",style:(0,M.Z)({},ao,n),"aria-label":"Open Drawer",onClick:s,children:t},"bt-drawer"),(0,G.jsx)("div",{role:"presentation","aria-hidden":!a,className:"drawer-modal",style:d,onClick:u},"wrapper"),(0,G.jsx)("aside",{className:"drawer-left",style:(0,M.Z)({},c,i.COMP),children:o},"aside")]};const fo=function(e){var n=e.className,t=void 0===n?"header__logo-notes":n,o=e.style,r=e.title;return(0,G.jsx)("span",{className:t,style:o,title:r,children:(0,G.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,G.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,G.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,G.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})};var mo=Array.isArray;const vo=function(e,n){var t=null==e?"Not Exist":function(e){var n=e.title||"",t=e.columnIds;return n+" ("+(mo(t)?t.length:0)+")"}(e);return(n||"Notes")+": "+t};const po=function(){var e=(0,r.v9)(bt.currentBoard);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(fo,{className:"header-board__logo_notes"},"logo"),(0,G.jsx)("span",{className:"header__title header-board__title",children:vo(e)})]})};var ho="drawer__list",xo="drawer__list-bt";const go=function(e){var n=e.board;return(0,G.jsx)("div",{className:"drawer__title",children:vo(n,"Topics")})};var bo=function(e){var n=e.isHide;return(0,G.jsx)("span",{className:"drawer__list-bt__badge",children:n?"H":"S"})};const yo=function(e){var n=e.topic,t=e.onClick;if(!n)return null;var o=n.isHide,r=n.title,a="Click to "+(o?"show":"hide")+" topic";return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J,{className:xo,caption:r,title:a,timeout:0,onClick:t}),(0,G.jsx)(bo,{isHide:o})]})};var jo={listStyleType:"none"},Co={position:"relative"},No=function(){};const Io=function(e){var n=e.board,t=e.columns,o=e.toggleColumn,r=void 0===o?No:o,a=n.columnIds;return(0,G.jsx)("ul",{style:jo,children:(a||[]).map((function(e){return(0,G.jsx)("li",{style:Co,children:(0,G.jsx)(yo,{topic:t[e],onClick:function(){return r({columnId:e})}})},e)}))})};var _o={removeDrawerMsg:S};const So=(0,r.$j)((function(e){return{items:gt.msg(e)}}),_o)((function(e){var n=e.items,t=e.removeDrawerMsg;return(0,G.jsx)("ul",{className:"drawer__msg-ul",children:n.map((function(e){return(0,G.jsx)("li",{className:"drawer__msg-li",children:(0,G.jsx)("button",{className:"drawer__msg-bt",onClick:function(){return t({id:e.id})},children:e.msg})},e.id)}))})}));var wo={toggleColumn:mt};const ko=(0,r.$j)((function(e){return{board:Ct.board.currentBoard(e),columns:Ct.column.columns(e)}}),wo)((function(e){var n=e.board,t=e.columns,o=e.toggleColumn;return(0,G.jsxs)("div",{className:ho,children:[(0,G.jsx)(go,{board:n}),(0,G.jsx)(Io,{board:n,columns:t,toggleColumn:o}),(0,G.jsx)(So,{})]})}));var Eo=(0,G.jsx)(po,{});const Do=function(){return(0,G.jsx)(uo,{captionEl:Eo,children:(0,G.jsx)(ko,{})})};var Ro={position:"absolute",top:4,right:16},Ao={transform:"translateX(264px)",pointerEvents:"none"},To={transform:"translate(0px, 0px)"},Bo={opacity:0,zIndex:-1,transition:"opacity 195ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},Mo={opacity:1,zIndex:1e3,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"};const Oo=function(e){var n=e.btStyle,t=e.children,o=ro(!1),r=o[0],a=o[1],s=me(eo),i=r?To:Ao,l=r?Mo:Bo,c=r?a:void 0;return[(0,G.jsx)("button",{className:"drawer-bt",style:(0,M.Z)({},Ro,n),"aria-label":"Open Drawer",onClick:a,children:(0,G.jsx)("span",{className:"drawer-span",children:(0,G.jsxs)("svg",{className:"drawer-svg",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,G.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,G.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})})},"bt-drawer"),(0,G.jsx)("div",{role:"presentation","aria-hidden":!r,className:"drawer-modal",style:l,onClick:c},"wrapper"),(0,G.jsx)("aside",{className:"drawer",style:(0,M.Z)({},i,s.COMP),children:t},"aside")]};var Lo="Web App Notes v0.4.0",Ho="drawer__list-bt",Po={padding:"16px 0 8px 0",marginLeft:16},Go={listStyleType:"none"},Zo={showSettings:function(){return Hn({id:Rn})},saveBoard:Dt,cleanStorage:Rt};const Fo=(0,r.$j)(null,Zo)((function(e){var n=e.showSettings,t=e.saveBoard,o=e.cleanStorage;return(0,G.jsxs)("div",{className:"drawer__list",children:[(0,G.jsx)("div",{className:"header__title",style:Po,children:Lo}),(0,G.jsxs)("ul",{style:Go,children:[(0,G.jsx)("li",{children:(0,G.jsx)(J,{className:Ho,caption:"User Settings",title:"Click to open user settings dialog",onClick:n})}),(0,G.jsx)("li",{children:(0,G.jsx)(J,{className:Ho,caption:"Save Boards",title:"Click to save boards to localStorage",onClick:t})}),(0,G.jsx)("li",{children:(0,G.jsx)(J,{className:Ho,caption:"Clean Storage",title:"Click to remove boards from localStorage",onClick:o})})]}),(0,G.jsx)(So,{})]})}));const Ko=function(){return(0,G.jsx)(Oo,{children:(0,G.jsx)(Fo,{})})};const Xo=function(e){var n=e.addColumn;return(0,G.jsxs)(no,{className:q,children:[(0,G.jsx)(Do,{}),(0,G.jsx)(J,{caption:"Add Topic",title:"Click to add topic to board",accessKey:"a",timeout:500,onClick:n}),(0,G.jsx)("nav",{children:(0,G.jsx)(k.OL,{to:"/boards",className:"nav-link ml-8",children:"ToBoards"})}),(0,G.jsx)(Ko,{})]})};const Vo=function(e){var n=e.children;return(0,G.jsx)("main",{className:"container-list",children:n})};var Uo=Array.isArray;const zo=function(e){return!Uo(e)||0===e.length};const Wo=function(e){var n=e.className,t=e.style,o=e.svgStyle,r=e.title,a=e.onClick;return(0,G.jsx)("button",{className:P("bt-svg-more",n),style:t,title:r,onClick:a,children:(0,G.jsxs)("svg",{style:o,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,G.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,G.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,G.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})};var Yo={paddingLeft:8,width:"100%",textAlign:"left"};const $o=function(e){var n=e.style,t=e.isShow,o=e.onHideTopic,r=e.onAddNote,a=e.onClose,s=me(eo);return(0,G.jsxs)(Ne,{className:ee,style:(0,M.Z)({},n,s.COMP),isShow:t,onClose:a,children:[(0,G.jsx)(J,{style:Yo,caption:"Hide Topic",title:"Click to hide Topic",onClick:o}),(0,G.jsx)(J,{style:Yo,caption:"Add Note",title:"Click to add new Note",timeout:100,onClick:r})]})};var Jo={themeName:void 0,style:void 0,createStyle:function(e){return{ITEM:(0,M.Z)({},e.ITEM)}}};const qo=Jo;var Qo={display:"none"};var er={padding:"8px 0",lineHeight:"36px"};var nr={display:"inline-block",paddingLeft:12,fontWeight:600};const tr={Item:function(e){var n=e.isHide,t=e.children,o=me(qo),r=U(o.ITEM,[n,Qo]);return(0,G.jsx)("section",{className:te,style:r,children:t})},Header:function(e){var n=e.children;return(0,G.jsx)("div",{style:er,children:n})},Title:function(e){return(0,G.jsx)(mn,(0,M.Z)({className:"card__title"},e))},Counter:function(e){var n=e.style,t=e.value;return(0,G.jsx)("span",{style:(0,M.Z)({},nr,n),children:t})},BtCircle:function(e){var n=e.style,t=e.caption,o=e.title,r=e.tabIndex,a=void 0===r?"-1":r,s=e.onClick;return(0,G.jsx)("button",{className:"bt-circle",style:n,tabIndex:a,title:o,onClick:s,children:t})}};var or=t(366),rr=["className","style","innerRef","isDraggingOver","notDraggingStyle","children"],ar={ROOT:{minHeight:100},DRAGGING_OVER:{border:"2px dashed lightgreen"},NOT_DRAGGING_OVER:{border:"2px dashed transparent"}};const sr=function(e){var n=e.className,t=e.style,o=e.innerRef,r=e.isDraggingOver,a=e.notDraggingStyle,s=e.children,i=(0,or.Z)(e,rr),l=function(e,n){return e?ar.DRAGGING_OVER:n||ar.NOT_DRAGGING_OVER}(r,a);return(0,G.jsx)("div",(0,M.Z)({},i,{ref:o,className:n,style:(0,M.Z)({},ar.ROOT,t,l),children:s}))};var ir=["draggableProps","innerRef","isDragging","dragHandleProps"],lr=["style"],cr=function(e,n){return function(t){var o=t.draggableProps,r=t.innerRef,a=t.isDragging,s=t.dragHandleProps,i=(0,or.Z)(t,ir),l=n||{},c=l.dragBg,d=l.notDragBg,u=l.isDragHanlerProps,f=o.style,m=(0,or.Z)(o,lr),v=function(e,n,t){return void 0===n&&(n="#1e90ff"),void 0===t&&(t="transparent"),{backgroundColor:e?n:t}}(a,c,d),p=u?void 0:s;return(0,G.jsx)("div",(0,M.Z)({ref:r,style:(0,M.Z)({},f,v)},m,p,{children:(0,G.jsx)(e,(0,M.Z)({dragHandleProps:u?s:void 0},i))}))}};const dr=function(e,n){return"function"==typeof e?cr(e,n):function(n){return cr(n,e)}};var ur=["isDetails"];const fr=function(e){var n=e.isDetails,t=(0,or.Z)(e,ur),o=P("note__handle",[n,"note__handle--open"]);return(0,G.jsx)("span",(0,M.Z)({className:o},t))};var mr={paddingLeft:8,width:"100%",textAlign:"left"};const vr=function(e){var n=e.isShow,t=e.className,o=e.style,r=e.onClose,a=e.onEdit,s=e.onRemove,i=me(eo),l=P(ee,t);return(0,G.jsxs)(Ne,{className:l,style:(0,M.Z)({},o,i.COMP),isShow:n,onClose:r,children:[(0,G.jsx)(J,{style:mr,caption:"Edit Details",onClick:a}),(0,G.jsx)(J,{style:mr,caption:"Remove Note",onClick:s})]})};const pr=function(e){var n=e.dragHandleProps,t=e.isDetails,o=e.onClickHandle,r=e.refTitle,a=e.noteTitle,s=e.onBlurTitle,i=e.isMenuMore,l=e.onClickMenuMore,c=e.onCloseMenuMore,d=e.onEditDetails,u=e.onRemoveNote;return(0,G.jsxs)("div",{children:[(0,G.jsx)(fr,(0,M.Z)({},n,{isDetails:t,onClick:o})),(0,G.jsx)(mn,{ref:r,className:"note__caption",initialValue:a,onBlur:s}),(0,G.jsx)(Wo,{className:"note__bt-more",title:"Click to open note menu",onClick:l}),i&&(0,G.jsx)(vr,{isShow:i,className:"note__menu-more",onClose:c,onEdit:d,onRemove:u})]})};const hr=function(e){var n=e.isShow,t=e.note,o=e.editDetails,r=tn(t);return(0,G.jsx)(Se,{className:"note__details",isShow:n,children:(0,G.jsxs)("div",{onClick:o,children:[(0,G.jsx)(un,{labels:t.labels}),(0,G.jsx)("div",{children:r})]})})};const xr=function(e){var n=e.columnId,t=e.note,o=e.dragHandleProps,a=t.id,s=t.title,i=(0,E.useRef)(),l=ge(),c=l[0],d=l[1],u=l[2],f=ro(),m=f[0],v=f[1],p=(0,r.I0)(),h=(0,E.useCallback)((function(){p(an({columnId:n,noteId:a}))}),[n]),x=(0,E.useCallback)((function(e){var n=e.target.value;if(n)n!==s&&p($e({noteId:a,title:n}));else{var t=D(i);t&&t.setValue(s)}}),[s]),g=(0,E.useCallback)((function(){p(Hn({id:An,data:t})),u()}),[t]);return(0,G.jsxs)("div",{className:"note",id:a,children:[(0,G.jsx)(pr,{dragHandleProps:o,isDetails:m,onClickHandle:v,refTitle:i,noteTitle:s,onBlurTitle:x,isMenuMore:c,onClickMenuMore:d,onCloseMenuMore:u,onEditDetails:g,onRemoveNote:h}),(0,G.jsx)(hr,{isShow:m,note:t,editDetails:g})]})};var gr=dr({notDragBg:"#9e9e9e",isDragHanlerProps:!0})(xr);gr.displayName="DnDNote";const br=gr;var yr={minHeight:50},jr={border:"2px solid #9e9e9e"};const Cr=function(e){var n=e.cId,t=e.noteIds,o=e.notes;return(0,G.jsx)(Jt.bK,{droppableId:n,children:function(e,r){return function(e){var n=e.provided,t=e.snapshot,o=e.noteIds,r=e.notes,a=e.cId;return(0,G.jsxs)(sr,(0,M.Z)({},n.droppableProps,{innerRef:n.innerRef,isDraggingOver:t.isDraggingOver,style:yr,notDraggingStyle:jr,children:[o.map((function(e,n){return(0,G.jsx)(Jt._l,{draggableId:e,index:n,children:function(n,t){return(0,G.jsx)(br,{draggableProps:n.draggableProps,innerRef:n.innerRef,isDragging:t.isDragging,dragHandleProps:n.dragHandleProps,note:r[e],columnId:a})}},e)})),n.placeholder]}))}({provided:e,snapshot:r,noteIds:t,notes:o,cId:n})}})};var Nr={marginRight:8},Ir={position:"absolute",width:150};const _r=function(e){var n=e.boardId,t=e.column,o=e.notes,a=e.addNote,s=t.id,i=t.isHide,l=t.title,c=t.withAdd,d=t.noteIds,u=ge(),f=u[0],m=u[1],v=u[2],p=(0,r.I0)(),h=(0,E.useCallback)((function(){p(mt({columnId:s}))}),[s]),x=(0,E.useCallback)((function(){a({columnId:s})}),[a,s]),g=(0,E.useCallback)((function(e){p(ft({columnId:s,title:e.target.value}))}),[s]),b=(0,E.useCallback)((function(){p(Fn({boardId:n,columnId:s}))}),[n,s]),y=d.length;return(0,G.jsxs)(tr.Item,{isHide:i,children:[(0,G.jsxs)(tr.Header,{children:[(0,G.jsx)(Wo,{style:Nr,title:"Click to open topic menu",onClick:m}),f&&(0,G.jsx)($o,{style:Ir,isShow:f,onAddNote:x,onHideTopic:h,onClose:v}),(0,G.jsx)(tr.Title,{initialValue:l,onBlur:g}),(0,G.jsx)(tr.Counter,{value:y}),c&&(0,G.jsx)(J,{clCaption:oe,caption:"AddNote",title:"Click to add a new note",timeout:1e3,onClick:x})]}),(0,G.jsx)(Cr,{cId:s,noteIds:d,notes:o}),(0,G.jsx)("div",{children:zo(d)&&(0,G.jsx)(J,{clCaption:oe,caption:"Remove Topic",onClick:b})})]})};var Sr=function(e){var n=e.boardId,t=e.columnIds,o=e.columns,r=e.notes,a=e.addNote;return(t||[]).map((function(e){var t=o[e];return(0,G.jsx)(_r,{boardId:n,column:t,notes:r,addNote:a},t.id)}))},wr={moveNote:sn,addNote:rn,addColumn:Zn};const kr=(0,r.$j)((function(e){return{board:Ct.board.currentBoard(e),notes:Ct.note.notes(e),columns:Ct.column.columns(e)}}),wr)((function(e){var n=e.board,t=e.notes,o=e.columns,r=e.addNote,a=e.moveNote,s=e.addColumn,i=n.id,l=n.columnIds,c=(0,E.useCallback)((function(e){qt(e)||a(e)}),[]),d=(0,E.useCallback)((function(){s({boardId:i})}),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Xo,{addColumn:d}),(0,G.jsx)(Jt.Z5,{onDragEnd:c,children:(0,G.jsx)(Vo,{children:(0,G.jsx)(Sr,{boardId:i,columnIds:l,columns:o,notes:t,addNote:r})})})]})}));var Er={addBoard:f};const Dr=(0,r.$j)(null,Er)((function(e){var n=e.style,t=e.addBoard;return(0,G.jsxs)(no,{className:q,style:n,children:[(0,G.jsx)(fo,{title:Lo}),(0,G.jsx)("span",{className:"header__title-gap"}),(0,G.jsx)("span",{className:Q,children:"Notes: Boards"}),(0,G.jsx)(J,{caption:"Add Board",title:"Click to add new board",accessKey:"a",isEvent:!1,timeout:200,onClick:t}),(0,G.jsx)(Ko,{})]})}));var Rr={float:"right",paddingRight:12};var Ar=dr((function(e){var n=e.title,t=e.count;return(0,G.jsxs)("div",{className:"topic",children:[(0,G.jsx)("span",{children:n}),(0,G.jsx)(tr.Counter,{style:Rr,value:t})]})}));Ar.displayName="DnDTopic";const Tr=Ar;const Br=function(e){var n=e.id,t=e.columnIds,o=e.columns;return(0,G.jsx)(Jt.bK,{droppableId:n,children:function(e,n){return function(e){var n=e.provided,t=e.snapshot,o=e.columnIds,r=e.columns;return(0,G.jsxs)(sr,(0,M.Z)({},n.droppableProps,{innerRef:n.innerRef,isDraggingOver:t.isDraggingOver,children:[o.map((function(e,n){return(0,G.jsx)(Jt._l,{draggableId:e,index:n,children:function(n,t){return(0,G.jsx)(Tr,(0,M.Z)({draggableProps:n.draggableProps,innerRef:n.innerRef,isDragging:t.isDragging,dragHandleProps:n.dragHandleProps},{title:(o=r[e]).title,count:o.noteIds.length}));var o}},e)})),n.placeholder]}))}({provided:e,snapshot:n,columnIds:t,columns:o})}})};var Mr={margin:"8px 8px 4px 0"};const Or=function(e){var n=e.id,t=(0,r.I0)(),o=(0,E.useMemo)((function(){return[function(e){return t(et({boardId:n,title:e.target.value}))},function(){return t(m({boardId:n}))},function(){return t(v({boardId:n}))},function(e){return bt.board(e,n)}]}),[n,t]),a=o[0],s=o[1],i=o[2],l=o[3],c=(0,r.v9)(l),d=(0,r.v9)(jt.columns),u=c.columnIds;return(0,G.jsxs)(tr.Item,{children:[(0,G.jsxs)(tr.Header,{children:[(0,G.jsx)(tr.Title,{initialValue:c.title,onBlur:a}),(0,G.jsx)(tr.Counter,{value:u.length})]}),(0,G.jsx)(Br,{id:n,columnIds:u,columns:d}),(0,G.jsx)(k.OL,{to:"/boards/"+n,className:ae,style:Mr,onClick:i,children:"ToNotes"}),(0,G.jsx)("div",{children:zo(u)&&(0,G.jsx)(J,{clCaption:oe,caption:"Remove Board",onClick:s})})]})};const Lr=(0,r.$j)((function(e){return{boardIds:bt.boardIds(e),boards:bt.boards(e)}}))((function(e){var n=e.boardIds;e.boards;return n.map((function(e){return(0,G.jsx)(Or,{id:e},e)}))}));var Hr={moveColumn:Kn};const Pr=(0,r.$j)(null,Hr)((function(e){var n=e.moveColumn,t=(0,E.useCallback)((function(e){qt(e)||n(e)}),[n]);return[(0,G.jsx)(Dr,{},"header"),(0,G.jsx)(Jt.Z5,{onDragEnd:t,children:(0,G.jsx)(Vo,{children:(0,G.jsx)(Lr,{})})},"ddc")]}));var Gr="modal-root",Zr={display:"block"},Fr={display:"none"};const Kr=function(e){var n=e.isShow,t=e.onClose,o=e.children,r=n?["modal-root show-modal",Zr]:[Gr,Fr],a=r[0],s=r[1];return(0,G.jsx)("div",{role:"presentation",className:a,style:s,onClick:t,children:o})};var Xr=function(e){var n=e.TS,t=e.store,o=e.shows,r=e.data,a=e.dialogs,s=e.onClose;return a.map((function(e){var a=e.type,i=e.comp;return(0,E.createElement)(i,{TS:n,key:a,isShow:o[a],data:r[a],store:t,dispatch:t.dispatch,onClose:s.bind(null,a)})}))},Vr=(0,E.memo)((function(e){var n=e.store,t=me(pe),o=(0,E.useRef)(),r=(0,E.useState)({isShow:!1,currentDialog:null,dialogs:[],inits:{},shows:{},data:{}}),a=r[0],s=r[1],i=(0,E.useCallback)((function(e){s((function(n){return n.shows[e]=!1,(0,M.Z)({},n,{isShow:!1,currentDialog:null,shows:n.shows})}))}),[]);(0,E.useEffect)((function(){return n.subscribe((function(){var e=xt.modal(n.getState()),t=e.id,r=e.data,a=void 0===r?{}:r,i=D(o);t&&i!==e&&(R(o,e),s((function(e){var n=e.inits,o=e.shows,r=e.data,s=e.dialogs;return n[t]||(s.push({type:t,comp:Bn.getDialog(t)}),n[t]=!0),o[t]=!0,r[t]=a,{isShow:!0,currentDialog:t,shows:o,data:r,dialogs:s,inits:n}})))}))}),[]);var l=a.isShow,c=a.currentDialog,d=a.shows,u=a.data,f=a.dialogs;return(0,G.jsx)(Kr,{isShow:l,onClose:i.bind(null,c),children:(0,G.jsx)(Xr,{TS:t,store:n,shows:d,data:u,dialogs:f,onClose:i})})}));const Ur=Vr;const zr=function(e){var n=e.basename,t=e.store,o=(0,E.useState)($t),a=o[0],s=o[1],i=(0,r.v9)(xt.uiTheme);return(0,E.useEffect)((function(){a.getThemeName!==i&&(a.setThemeName(i),s((0,M.Z)({},a)))}),[i]),(0,G.jsx)(E.StrictMode,{children:(0,G.jsx)(k.VK,{basename:n,children:(0,G.jsxs)(fe.Provider,{value:a,children:[(0,G.jsx)(Ur,{store:t}),(0,G.jsxs)(Zt.Z5,{children:[(0,G.jsx)(Zt.AW,{path:"/boards/:id",element:(0,G.jsx)(kr,{})}),(0,G.jsx)(Zt.AW,{path:"/boards",element:(0,G.jsx)(Pr,{})}),(0,G.jsx)(Zt.AW,{path:"/",element:(0,G.jsx)(Zt.Fg,{to:"/boards",replace:!0})})]})]})})})};var Wr=((window||{}).location||{}).pathname;(0,o.render)((0,G.jsx)(r.zt,{store:Pt,children:(0,G.jsx)(zr,{basename:Wr,store:Pt})}),document.getElementById("app"))},251:(e,n,t)=>{t(418);var o=t(294),r=60103;if(n.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),n.Fragment=a("react.fragment")}var s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var o,a={},c=null,d=null;for(o in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,o)&&!l.hasOwnProperty(o)&&(a[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps)void 0===a[o]&&(a[o]=n[o]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:s.current}}n.jsx=c,n.jsxs=c},893:(e,n,t)=>{e.exports=t(251)}},e=>{var n;n=397,e(e.s=n)}]);